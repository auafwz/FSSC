!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@farris/ui-popover"),require("@angular/core"),require("@farris/ui-common"),require("@angular/common"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@farris/ui-input-group",["exports","@farris/ui-popover","@angular/core","@farris/ui-common","@angular/common","@angular/forms"],t):t((e.farris=e.farris||{},e.farris["ui-input-group"]={}),e.uiPopover,e.ng.core,e.uiCommon,e.ng.common,e.ng.forms)}(this,function(e,t,i,n,o,r){"use strict";var s=(a.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],a.ctorParameters=function(){return[]},a.ngInjectableDef=i.defineInjectable({factory:function(){return new a},token:a,providedIn:"root"}),a);function a(){}var u={provide:r.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return p}),multi:!0},p=(l.prototype.ngOnInit=function(){this.groupText||this.renderer.setStyle(this.el.nativeElement.querySelector(".input-group-append"),"margin-left","0"),this.initSmartPassword()},l.prototype.ngAfterViewInit=function(){var e=this;this.ngZone.runOutsideAngular(function(){e.enableClear&&(e.inputGroup.nativeElement.addEventListener("mouseenter",e.onMouseEnter.bind(e)),e.inputGroup.nativeElement.addEventListener("mouseleave",e.onMouseLeave.bind(e)))})},l.prototype.ngOnChanges=function(e){e.groupText&&!e.groupText.isFirstChange()&&e.groupText.currentValue&&this.renderer.setStyle(this.el.nativeElement.querySelector(".input-group-append"),"margin-left","-1")},l.prototype.ngModelChange=function(e){},l.prototype.initSmartPassword=function(){var n=this;if(this.isPassword){var o='<span class="f-icon f-icon-eye"></span>';this.groupText=o,this.enableViewPassword||(this.groupText="");var i=!(this.inputType="password");this.onClickHandle=function(e){var t=(i=!i)?"text":"password";return n.groupText=i?'<span class="f-icon f-icon-eye" style="color: rgb(56, 143, 255);"></span>':o,n.inputType=t,n.cd.detectChanges(),!1}}else this.inputType="text"},l.prototype.onEnter=function(e){return this.enterHandle.emit({originalEvent:e}),e.stopPropagation(),!1},l.prototype.onInputFocus=function(e){this.disabled||(this.renderer.addClass(this.inputGroup.nativeElement,this.focusCls),!this.editable&&this.readonly||this.focusHandle.emit(e))},l.prototype.onInputClick=function(e){this.inputClick.emit(e)},l.prototype.onMouseEnter=function(e){this.value&&(this.editable?this.readonly||this.disabled||(this.showClearButton=!0):this.state||this.disabled||(this.showClearButton=!0)),this.showClearButton&&this.toggleClearIcon(e,!0)},l.prototype.onMouseLeave=function(e){this.showClearButton=!1,this.toggleClearIcon(e,!1)},l.prototype.getStateCls=function(){return this.disabled?{"f-state-disabled":!0}:this.editable?{"f-state-readonly":this.readonly}:{"f-state-editable":!0,"f-state-readonly":this.readonly}},l.prototype.toggleClearIcon=function(e,t){void 0===t&&(t=!1);var n=t?"":"none",o=e.target.querySelector(".input-group-clear");o&&(o.style.display=n)},l.prototype.onMouseOverInExtentInfo=function(){this.updateExtendInfo.emit()},l.prototype.onMousedown=function(e){"INPUT"!==e.target.tagName&&e.preventDefault(),e.stopPropagation()},l.prototype.onClearValue=function(e){var t=!this.readonly&&!this.disabled&&this.editable,n=!this.editable;e.stopPropagation(),(t||n)&&(this.onValueChange("",!1),this.showClearButton=!1,this.clear.emit())},l.prototype.onBlur=function(e){return this.renderer.removeClass(this.inputGroup.nativeElement,this.focusCls),this.blurHandle.emit(e),e.stopPropagation(),!1},l.prototype.onValueChange=function(e,t){void 0===t&&(t=!0),this.value!==e&&(this.value=e,this.onModelChange(e),this.onModelTouched(e),t&&this.valueChange.emit(e))},l.prototype.onClickHandle=function(e){!this.showButtonWhenDisabled&&(this.editable&&this.readonly||this.disabled)||this.clickHandle.emit({originalEvent:e,value:this.value}),e.stopPropagation()},l.prototype.onIconMouseEnter=function(e){this.iconMouseEnter.emit(e)},l.prototype.onIconMouseLeave=function(e){this.iconMouseLeave.emit(e)},l.prototype.focus=function(){this.textbox.nativeElement.focus()},l.prototype.writeValue=function(e){this.value=null===e||e===undefined?"":e,this.textbox.nativeElement.value=this.value},l.prototype.registerOnChange=function(e){this.onModelChange=e},l.prototype.registerOnTouched=function(e){this.onModelTouched=e},l.prototype.setDisabledState=function(e){this.disabled=e},l.prototype.setFocusToEnd=function(){var e=this.textbox.nativeElement;e.focus(),e.selectionStart=e.value.length,e.selectionEnd=e.value.length},l.decorators=[{type:i.Component,args:[{selector:"farrisui-input-group, input-group, farris-input-group",template:'\n        <div #inputGroup [class]="customCls + \' input-group\'"\n            [class.f-state-disabled]="disabled"\n            [class.f-state-editable]="editable && !disabled && !readonly"\n            [class.f-state-readonly]="readonly && !disabled">\n            <span class="input-group-before-tips" *ngIf="useExtendInfo" (mouseenter)="onMouseOverInExtentInfo()"\n                farrisPopover [popover]="extendInfo" [triggers]="\'hover\'" [container]="\'body\'" [placement]="\'top\'">\n                <i class="f-icon f-icon-info-circle"></i><b class="tips-arrow"></b>\n            </span>\n\n            <input\n                #textbox\n                name="input-group-value"\n                class="form-control"\n                [class.text-left]="textAlign == \'left\'"\n                [class.text-center]="textAlign == \'center\'"\n                [class.text-right]="textAlign == \'right\'"\n                [attr.title]="enableTitle? value: \'\'"\n                [attr.type]="inputType"\n                [attr.placeholder]="(disabled||readonly)&&!forcePlaceholder?\'\':placeholder"\n                [attr.autocomplete]="autocomplete"\n                [readonly]="readonly || !editable"\n                [ngModel]="value"\n                [disabled]="disabled"\n                (blur)="onBlur($event)"\n                (mousedown)="onMousedown($event)"\n                (ngModelChange)="onValueChange($event)"\n                (keydown.enter)="onEnter($event)"\n                (focus)="onInputFocus($event)"\n                (click)="onInputClick($event)"\n                minlength="{{minLength}}"\n                maxlength="{{maxLength}}"\n                (keyup)="keyupHandle.emit($event)"\n                (keydown)="keydownHandle.emit($event)"\n                [attr.tabindex]="tabIndex"\n            />\n            <div class="input-group-append" [ngClass]="{\'append-force-show\':showButtonWhenDisabled&&(readonly||disabled)}">\n                <span *ngIf="enableClear && !readonly && !disabled"\n                    [style.display]="showClearButton ? \'flex\' : \'none\'"\n                    class="input-group-text input-group-clear"\n                    (click)="onClearValue($event)"><i class="f-icon modal_close"></i>\n                </span>\n                <span class="input-group-text"\n                    (mouseenter)="onIconMouseEnter($event)" (mouseleave)="onIconMouseLeave($event)"\n                    *ngIf="groupText && !groupTextTemplate" [innerHTML]="groupText | safe: \'html\'"\n                    (click)="onClickHandle($event)"></span>\n                <ng-container *ngIf="groupTextTemplate">\n                    <ng-container *ngTemplateOutlet="groupTextTemplate" ></ng-container>\n                </ng-container>\n            </div>\n        </div>\n    ',providers:[u],encapsulation:i.ViewEncapsulation.None,styles:["\n            .input-group {\n                flex-wrap: nowrap;\n            }\n            .input-group-text {\n                cursor: pointer;\n            }\n            .input-group-clear {\n                cursor: pointer;\n                background: #fff !important;\n            }\n\n            .input-group-text:hover {\n                background: #ccc;\n            }\n        "]}]}],l.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:i.NgZone},{type:i.Injector}]},l.propDecorators={autocomplete:[{type:i.HostBinding,args:["class.f-cmp-inputgroup"]},{type:i.Input}],value:[{type:i.Input}],readonly:[{type:i.Input}],disabled:[{type:i.Input}],editable:[{type:i.Input}],enableClear:[{type:i.Input}],groupText:[{type:i.Input}],customCls:[{type:i.Input}],showButtonWhenDisabled:[{type:i.Input}],placeholder:[{type:i.Input}],textAlign:[{type:i.Input}],groupTextTemplate:[{type:i.Input}],isPassword:[{type:i.Input}],enableViewPassword:[{type:i.Input}],minLength:[{type:i.Input}],maxLength:[{type:i.Input}],tabIndex:[{type:i.Input}],enableTitle:[{type:i.Input}],useExtendInfo:[{type:i.Input}],extendInfo:[{type:i.Input}],forcePlaceholder:[{type:i.Input}],updateExtendInfo:[{type:i.Output}],clear:[{type:i.Output}],valueChange:[{type:i.Output}],clickHandle:[{type:i.Output}],blurHandle:[{type:i.Output}],focusHandle:[{type:i.Output}],enterHandle:[{type:i.Output}],iconMouseEnter:[{type:i.Output}],iconMouseLeave:[{type:i.Output}],keyupHandle:[{type:i.Output}],keydownHandle:[{type:i.Output}],inputClick:[{type:i.Output}],inputGroup:[{type:i.ViewChild,args:["inputGroup"]}],textbox:[{type:i.ViewChild,args:["textbox"]}]},l);function l(e,t,n,o){this.el=e,this.renderer=t,this.ngZone=n,this.injector=o,this.autocomplete="off",this.showClearButton=!1,this.value="",this.readonly=!1,this.disabled=!1,this.editable=!0,this.enableClear=!0,this.groupText="",this.customCls="",this.showButtonWhenDisabled=!1,this.placeholder="",this.textAlign="left",this.isPassword=!1,this.enableViewPassword=!0,this.minLength=undefined,this.maxLength=undefined,this.enableTitle=!0,this.useExtendInfo=!1,this.extendInfo="",this.forcePlaceholder=!1,this.updateExtendInfo=new i.EventEmitter,this.clear=new i.EventEmitter,this.valueChange=new i.EventEmitter,this.clickHandle=new i.EventEmitter,this.blurHandle=new i.EventEmitter,this.focusHandle=new i.EventEmitter,this.enterHandle=new i.EventEmitter,this.iconMouseEnter=new i.EventEmitter,this.iconMouseLeave=new i.EventEmitter,this.keyupHandle=new i.EventEmitter,this.keydownHandle=new i.EventEmitter,this.inputClick=new i.EventEmitter,this.inputType="text",this.cd=null,this.focusCls="f-state-focus",this.onModelChange=function(e){},this.onModelTouched=function(e){},this.cd=this.injector.get(i.ChangeDetectorRef)}var d=(c.decorators=[{type:i.NgModule,args:[{declarations:[p],imports:[o.CommonModule,r.FormsModule,t.PopoverModule.forRoot(),n.FarrisCommonModule],exports:[p]}]}],c);function c(){}e.InputGroupService=s,e.INPUT_GROUP_VALUE_ACCESSOR=u,e.InputGroupComponent=p,e.InputGroupModule=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-input-group.umd.min.js.map