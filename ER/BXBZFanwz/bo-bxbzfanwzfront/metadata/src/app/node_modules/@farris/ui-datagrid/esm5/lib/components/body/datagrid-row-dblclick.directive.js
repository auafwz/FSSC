/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Directive, ElementRef, Injector, NgZone, Renderer2, HostListener } from '@angular/core';
import { DatagridComponent } from '../../datagrid.component';
import { TR_PREFIX } from '../../types/constant';
var DatagridRowDblClickDirective = /** @class */ (function () {
    // private documentRowDblclickEvent: any = null;
    // private _mouseenter = null;
    // private _mouseleave = null;
    function DatagridRowDblClickDirective(el, injector, ngZone, render, dg) {
        this.el = el;
        this.injector = injector;
        this.ngZone = ngZone;
        this.render = render;
        this.dg = dg;
    }
    /**
     * @return {?}
     */
    DatagridRowDblClickDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        // if (this.ngZone) {
        //     this.ngZone.runOutsideAngular( () => {
        //         // this.render.listen(this.el.nativeElement, 'mouseenter', this.onMouseEnter.bind(this));
        //         // this.render.listen(this.el.nativeElement, 'mouseleave', this.onMouseLeave.bind(this));
        //         this._mouseenter = Utils.on(this.el.nativeElement, 'mouseenter', this.onMouseEnter.bind(this), { target: '.f-datagrid-body-row', options: { capture: true }});
        //         this._mouseleave = Utils.on(this.el.nativeElement, 'mouseleave', this.onMouseLeave.bind(this), { target: '.f-datagrid-body-row', options: { capture: true }});
        //     });
        // }
    };
    /**
     * @return {?}
     */
    DatagridRowDblClickDirective.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        // if (this._mouseenter) {
        //     this._mouseenter();
        // }
        // if (this._mouseleave) {
        //     this._mouseleave();
        // }
    };
    // onMouseEnter($event: MouseEvent) {
    //     this.bindRowDblClickEvent();
    // }
    // onMouseLeave($event: MouseEvent) {
    //     this.unbindRowDblclickEvent();
    // }
    // private bindRowDblClickEvent() {
    //     if (!this.documentRowDblclickEvent) {
    //         this.unbindRowDblclickEvent();
    //         this.ngZone.runOutsideAngular(() => {
    //             this.documentRowDblclickEvent = this.render.listen(this.el.nativeElement, 'dblclick', this.dblclickRowEvent.bind(this));
    //         });
    //     }
    // }
    // private unbindRowDblclickEvent() {
    //     if (this.documentRowDblclickEvent) {
    //         this.documentRowDblclickEvent();
    //         this.documentRowDblclickEvent = null;
    //     }
    // }
    // onMouseEnter($event: MouseEvent) {
    //     this.bindRowDblClickEvent();
    // }
    // onMouseLeave($event: MouseEvent) {
    //     this.unbindRowDblclickEvent();
    // }
    // private bindRowDblClickEvent() {
    //     if (!this.documentRowDblclickEvent) {
    //         this.unbindRowDblclickEvent();
    //         this.ngZone.runOutsideAngular(() => {
    //             this.documentRowDblclickEvent = this.render.listen(this.el.nativeElement, 'dblclick', this.dblclickRowEvent.bind(this));
    //         });
    //     }
    // }
    // private unbindRowDblclickEvent() {
    //     if (this.documentRowDblclickEvent) {
    //         this.documentRowDblclickEvent();
    //         this.documentRowDblclickEvent = null;
    //     }
    // }
    /**
     * @param {?} event
     * @return {?}
     */
    DatagridRowDblClickDirective.prototype.dblclickRowEvent = 
    // onMouseEnter($event: MouseEvent) {
    //     this.bindRowDblClickEvent();
    // }
    // onMouseLeave($event: MouseEvent) {
    //     this.unbindRowDblclickEvent();
    // }
    // private bindRowDblClickEvent() {
    //     if (!this.documentRowDblclickEvent) {
    //         this.unbindRowDblclickEvent();
    //         this.ngZone.runOutsideAngular(() => {
    //             this.documentRowDblclickEvent = this.render.listen(this.el.nativeElement, 'dblclick', this.dblclickRowEvent.bind(this));
    //         });
    //     }
    // }
    // private unbindRowDblclickEvent() {
    //     if (this.documentRowDblclickEvent) {
    //         this.documentRowDblclickEvent();
    //         this.documentRowDblclickEvent = null;
    //     }
    // }
    /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var tr = event.target.closest('tr');
        /** @type {?} */
        var rowid = tr.id.replace(TR_PREFIX, '').replace('_fixedright', '').replace('_fixedleft', '');
        /** @type {?} */
        var rowIndex = tr.getAttribute('index');
        /** @type {?} */
        var rowData = this.dg.dfs.findRow(rowid);
        if (this.dg.disableRow) {
            if (this.dg.disableRow(rowData.data, rowData.index)) {
                event.stopPropagation();
                return false;
            }
        }
        if (this.dg.editable) {
            if (this.dg.editMode === 'row' && this.dg.clickToEdit) {
                this.dg.editRow(rowid);
            }
            else {
                this.dg.isSingleClick = false;
                this.dg.dblclickRow.emit({ rowData: rowData, id: rowid, index: rowIndex, grid: this.dg, dblclick: true });
            }
        }
        else {
            this.dg.dblclickRow.emit({ rowData: rowData, id: rowid, index: rowIndex, grid: this.dg, dblclick: true });
        }
        event.stopPropagation();
        event.preventDefault();
    };
    DatagridRowDblClickDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[row-dblclick]',
                },] }
    ];
    /** @nocollapse */
    DatagridRowDblClickDirective.ctorParameters = function () { return [
        { type: ElementRef },
        { type: Injector },
        { type: NgZone },
        { type: Renderer2 },
        { type: DatagridComponent }
    ]; };
    DatagridRowDblClickDirective.propDecorators = {
        dblclickRowEvent: [{ type: HostListener, args: ['dblclick', ['$event'],] }]
    };
    return DatagridRowDblClickDirective;
}());
export { DatagridRowDblClickDirective };
if (false) {
    /**
     * @type {?}
     * @private
     */
    DatagridRowDblClickDirective.prototype.el;
    /**
     * @type {?}
     * @private
     */
    DatagridRowDblClickDirective.prototype.injector;
    /**
     * @type {?}
     * @private
     */
    DatagridRowDblClickDirective.prototype.ngZone;
    /**
     * @type {?}
     * @private
     */
    DatagridRowDblClickDirective.prototype.render;
    /** @type {?} */
    DatagridRowDblClickDirective.prototype.dg;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWdyaWQtcm93LWRibGNsaWNrLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvdWktZGF0YWdyaWQvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9ib2R5L2RhdGFncmlkLXJvdy1kYmxjbGljay5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBVSxNQUFNLEVBQUUsU0FBUyxFQUFhLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNwSCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFHakQ7SUFLSSxnREFBZ0Q7SUFDaEQsOEJBQThCO0lBQzlCLDhCQUE4QjtJQUM5QixzQ0FBb0IsRUFBYyxFQUFVLFFBQWtCLEVBQVUsTUFBYyxFQUFVLE1BQWlCLEVBQzlGLEVBQXFCO1FBRHBCLE9BQUUsR0FBRixFQUFFLENBQVk7UUFBVSxhQUFRLEdBQVIsUUFBUSxDQUFVO1FBQVUsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUFVLFdBQU0sR0FBTixNQUFNLENBQVc7UUFDOUYsT0FBRSxHQUFGLEVBQUUsQ0FBbUI7SUFFeEMsQ0FBQzs7OztJQUVELCtDQUFROzs7SUFBUjtRQUNJLHFCQUFxQjtRQUNyQiw2Q0FBNkM7UUFDN0Msb0dBQW9HO1FBQ3BHLG9HQUFvRztRQUNwRyx5S0FBeUs7UUFDeksseUtBQXlLO1FBQ3pLLFVBQVU7UUFDVixJQUFJO0lBQ1IsQ0FBQzs7OztJQUVELGtEQUFXOzs7SUFBWDtRQUNJLDBCQUEwQjtRQUMxQiwwQkFBMEI7UUFDMUIsSUFBSTtRQUVKLDBCQUEwQjtRQUMxQiwwQkFBMEI7UUFDMUIsSUFBSTtJQUNSLENBQUM7SUFHRCxxQ0FBcUM7SUFDckMsbUNBQW1DO0lBQ25DLElBQUk7SUFFSixxQ0FBcUM7SUFDckMscUNBQXFDO0lBQ3JDLElBQUk7SUFHSixtQ0FBbUM7SUFDbkMsNENBQTRDO0lBQzVDLHlDQUF5QztJQUN6QyxnREFBZ0Q7SUFDaEQsdUlBQXVJO0lBQ3ZJLGNBQWM7SUFDZCxRQUFRO0lBQ1IsSUFBSTtJQUVKLHFDQUFxQztJQUNyQywyQ0FBMkM7SUFDM0MsMkNBQTJDO0lBQzNDLGdEQUFnRDtJQUNoRCxRQUFRO0lBQ1IsSUFBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUdKLHVEQUFnQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQURoQixVQUNpQixLQUFVOztZQUVqQixFQUFFLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDOztZQUUvQixLQUFLLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxFQUFFLENBQUM7O1lBQ3pGLFFBQVEsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQzs7WUFDbkMsT0FBTyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUM7UUFFMUMsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRTtZQUNwQixJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNqRCxLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7Z0JBQ3hCLE9BQU8sS0FBSyxDQUFDO2FBQ2hCO1NBQ0o7UUFFRCxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFO1lBQ2xCLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEtBQUssS0FBSyxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsV0FBVyxFQUFFO2dCQUNuRCxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUMxQjtpQkFBTTtnQkFDSCxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7Z0JBQzlCLElBQUksQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLE9BQU8sU0FBQSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQzthQUNwRztTQUNKO2FBQU07WUFDSCxJQUFJLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBRSxPQUFPLFNBQUEsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUcsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7U0FDckc7UUFFRCxLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDeEIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQzNCLENBQUM7O2dCQXpGSixTQUFTLFNBQUM7b0JBQ1AsUUFBUSxFQUFFLGdCQUFnQjtpQkFDN0I7Ozs7Z0JBUG1CLFVBQVU7Z0JBQUUsUUFBUTtnQkFBVSxNQUFNO2dCQUFFLFNBQVM7Z0JBQzFELGlCQUFpQjs7O21DQWdFckIsWUFBWSxTQUFDLFVBQVUsRUFBRSxDQUFDLFFBQVEsQ0FBQzs7SUE4QnhDLG1DQUFDO0NBQUEsQUExRkQsSUEwRkM7U0F2RlksNEJBQTRCOzs7Ozs7SUFLekIsMENBQXNCOzs7OztJQUFFLGdEQUEwQjs7Ozs7SUFBRSw4Q0FBc0I7Ozs7O0lBQUUsOENBQXlCOztJQUNyRywwQ0FBNEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIEluamVjdG9yLCBPbkluaXQsIE5nWm9uZSwgUmVuZGVyZXIyLCBPbkRlc3Ryb3ksIEhvc3RMaXN0ZW5lciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBEYXRhZ3JpZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2RhdGFncmlkLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFRSX1BSRUZJWCB9IGZyb20gJy4uLy4uL3R5cGVzL2NvbnN0YW50JztcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcblxyXG5ARGlyZWN0aXZlKHtcclxuICAgIHNlbGVjdG9yOiAnW3Jvdy1kYmxjbGlja10nLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgRGF0YWdyaWRSb3dEYmxDbGlja0RpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcclxuXHJcbiAgICAvLyBwcml2YXRlIGRvY3VtZW50Um93RGJsY2xpY2tFdmVudDogYW55ID0gbnVsbDtcclxuICAgIC8vIHByaXZhdGUgX21vdXNlZW50ZXIgPSBudWxsO1xyXG4gICAgLy8gcHJpdmF0ZSBfbW91c2VsZWF2ZSA9IG51bGw7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsOiBFbGVtZW50UmVmLCBwcml2YXRlIGluamVjdG9yOiBJbmplY3RvciwgcHJpdmF0ZSBuZ1pvbmU6IE5nWm9uZSwgcHJpdmF0ZSByZW5kZXI6IFJlbmRlcmVyMixcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBkZzogRGF0YWdyaWRDb21wb25lbnQpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbmdPbkluaXQoKSB7XHJcbiAgICAgICAgLy8gaWYgKHRoaXMubmdab25lKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAvLyB0aGlzLnJlbmRlci5saXN0ZW4odGhpcy5lbC5uYXRpdmVFbGVtZW50LCAnbW91c2VlbnRlcicsIHRoaXMub25Nb3VzZUVudGVyLmJpbmQodGhpcykpO1xyXG4gICAgICAgIC8vICAgICAgICAgLy8gdGhpcy5yZW5kZXIubGlzdGVuKHRoaXMuZWwubmF0aXZlRWxlbWVudCwgJ21vdXNlbGVhdmUnLCB0aGlzLm9uTW91c2VMZWF2ZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuX21vdXNlZW50ZXIgPSBVdGlscy5vbih0aGlzLmVsLm5hdGl2ZUVsZW1lbnQsICdtb3VzZWVudGVyJywgdGhpcy5vbk1vdXNlRW50ZXIuYmluZCh0aGlzKSwgeyB0YXJnZXQ6ICcuZi1kYXRhZ3JpZC1ib2R5LXJvdycsIG9wdGlvbnM6IHsgY2FwdHVyZTogdHJ1ZSB9fSk7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLl9tb3VzZWxlYXZlID0gVXRpbHMub24odGhpcy5lbC5uYXRpdmVFbGVtZW50LCAnbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZUxlYXZlLmJpbmQodGhpcyksIHsgdGFyZ2V0OiAnLmYtZGF0YWdyaWQtYm9keS1yb3cnLCBvcHRpb25zOiB7IGNhcHR1cmU6IHRydWUgfX0pO1xyXG4gICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgLy8gaWYgKHRoaXMuX21vdXNlZW50ZXIpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5fbW91c2VlbnRlcigpO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy8gaWYgKHRoaXMuX21vdXNlbGVhdmUpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5fbW91c2VsZWF2ZSgpO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gb25Nb3VzZUVudGVyKCRldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgLy8gICAgIHRoaXMuYmluZFJvd0RibENsaWNrRXZlbnQoKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBvbk1vdXNlTGVhdmUoJGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAvLyAgICAgdGhpcy51bmJpbmRSb3dEYmxjbGlja0V2ZW50KCk7XHJcbiAgICAvLyB9XHJcblxyXG5cclxuICAgIC8vIHByaXZhdGUgYmluZFJvd0RibENsaWNrRXZlbnQoKSB7XHJcbiAgICAvLyAgICAgaWYgKCF0aGlzLmRvY3VtZW50Um93RGJsY2xpY2tFdmVudCkge1xyXG4gICAgLy8gICAgICAgICB0aGlzLnVuYmluZFJvd0RibGNsaWNrRXZlbnQoKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5kb2N1bWVudFJvd0RibGNsaWNrRXZlbnQgPSB0aGlzLnJlbmRlci5saXN0ZW4odGhpcy5lbC5uYXRpdmVFbGVtZW50LCAnZGJsY2xpY2snLCB0aGlzLmRibGNsaWNrUm93RXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwcml2YXRlIHVuYmluZFJvd0RibGNsaWNrRXZlbnQoKSB7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuZG9jdW1lbnRSb3dEYmxjbGlja0V2ZW50KSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuZG9jdW1lbnRSb3dEYmxjbGlja0V2ZW50KCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuZG9jdW1lbnRSb3dEYmxjbGlja0V2ZW50ID0gbnVsbDtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgQEhvc3RMaXN0ZW5lcignZGJsY2xpY2snLCBbJyRldmVudCddKVxyXG4gICAgZGJsY2xpY2tSb3dFdmVudChldmVudDogYW55KSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHRyID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJvd2lkID0gdHIuaWQucmVwbGFjZShUUl9QUkVGSVgsICcnKS5yZXBsYWNlKCdfZml4ZWRyaWdodCcsICcnKS5yZXBsYWNlKCdfZml4ZWRsZWZ0JywgJycpO1xyXG4gICAgICAgIGNvbnN0IHJvd0luZGV4ID0gdHIuZ2V0QXR0cmlidXRlKCdpbmRleCcpO1xyXG4gICAgICAgIGNvbnN0IHJvd0RhdGEgPSB0aGlzLmRnLmRmcy5maW5kUm93KHJvd2lkKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGcuZGlzYWJsZVJvdykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kZy5kaXNhYmxlUm93KHJvd0RhdGEuZGF0YSwgcm93RGF0YS5pbmRleCkpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5kZy5lZGl0YWJsZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kZy5lZGl0TW9kZSA9PT0gJ3JvdycgJiYgdGhpcy5kZy5jbGlja1RvRWRpdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZy5lZGl0Um93KHJvd2lkKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGcuaXNTaW5nbGVDbGljayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZy5kYmxjbGlja1Jvdy5lbWl0KHsgcm93RGF0YSwgaWQ6IHJvd2lkLCBpbmRleDogcm93SW5kZXgsIGdyaWQ6IHRoaXMuZGcsIGRibGNsaWNrOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kZy5kYmxjbGlja1Jvdy5lbWl0KHsgcm93RGF0YSwgaWQ6IHJvd2lkLCBpbmRleDogcm93SW5kZXgsIGdyaWQ6IHRoaXMuZGcsICBkYmxjbGljazogdHJ1ZSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcbn1cclxuIl19