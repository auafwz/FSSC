/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter } from '@angular/core';
import { LocaleService } from '@farris/ui-locale';
var VerifyDetailComponent = /** @class */ (function () {
    function VerifyDetailComponent(localeService) {
        this.localeService = localeService;
        //@Input() maxHeight:number;
        //@Input() validatorList;
        //表单验证分组信息
        //@Input() tabList:tabListItem[];
        //表单验证默认显示的分组信息
        this.showType = '';
        //是否默认显示验证信息列表
        this.showList = false;
        //验证信息点击
        this.validatorClick = new EventEmitter();
        //验证详情显示隐藏事件
        this.listshowChange = new EventEmitter();
        //showList = false;
        //处理后带分组的表单验证信息
        this.errorLists = [];
        //默认传入的表单验证信息数组
        this._validatorList = [];
        //列表部分最大高度
        this._maxHeight = 60;
    }
    Object.defineProperty(VerifyDetailComponent.prototype, "maxHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this._maxHeight;
        },
        //最大高度
        set: 
        //最大高度
        /**
         * @param {?} num
         * @return {?}
         */
        function (num) {
            if (num < 50)
                return;
            this._maxHeight = num - 50;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VerifyDetailComponent.prototype, "tabList", {
        get: /**
         * @return {?}
         */
        function () {
            return this._tablist;
        },
        set: /**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            if (item) {
                this._tablist = item;
            }
            else {
                /** @type {?} */
                var allTitle = this.localeService.getValue('verifyDetail.vertifyTypeAll');
                /** @type {?} */
                var errorTitle = this.localeService.getValue('verifyDetail.vertifyTypeError');
                /** @type {?} */
                var emptyTitle = this.localeService.getValue('verifyDetail.vertifyTypeEmpty');
                this._tablist = [
                    {
                        id: 'vertifyType1',
                        type: 'all',
                        title: allTitle
                    },
                    {
                        id: 'vertifyType2',
                        type: 'error',
                        title: errorTitle
                    },
                    {
                        id: 'vertifyType3',
                        type: 'empty',
                        title: emptyTitle
                    }
                ];
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VerifyDetailComponent.prototype, "validatorList", {
        get: /**
         * @return {?}
         */
        function () {
            return this._validatorList;
        },
        set: /**
         * @param {?} obj
         * @return {?}
         */
        function (obj) {
            var _this = this;
            this._validatorList = obj;
            this.errorLists = [];
            if (this.tabList && this.tabList.length) {
                this.tabList.forEach((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) {
                    item.active = false;
                }));
                //判断默认展示的类型
                /** @type {?} */
                var hasTab = this.tabList.find((/**
                 * @param {?} tab
                 * @return {?}
                 */
                function (tab) {
                    return tab.type === _this.showType;
                }));
                if (this.showType === '' || !hasTab) {
                    this.showType = this.tabList[0].type;
                }
                this.tabList.forEach((/**
                 * @param {?} tab
                 * @return {?}
                 */
                function (tab) {
                    /** @type {?} */
                    var tabType = tab.type;
                    if (tabType === 'all') {
                        /** @type {?} */
                        var listObj = {
                            'list': obj,
                            'show': false,
                            'type': tabType
                        };
                        tab.length = listObj.list.length;
                        _this.errorLists.push(listObj);
                    }
                    else {
                        /** @type {?} */
                        var hasType = _this.errorLists.find((/**
                         * @param {?} item
                         * @return {?}
                         */
                        function (item) {
                            return item.type === tabType;
                        }));
                        if (hasType) {
                            /** @type {?} */
                            var valList = obj.filter((/**
                             * @param {?} error
                             * @return {?}
                             */
                            function (error) {
                                return error.type === tabType;
                            }));
                            if (valList && valList.length) {
                                hasType.list = valList;
                            }
                        }
                        else {
                            /** @type {?} */
                            var listObj = {
                                'list': [],
                                'show': false,
                                'type': tabType
                            };
                            /** @type {?} */
                            var valList = obj.filter((/**
                             * @param {?} error
                             * @return {?}
                             */
                            function (error) {
                                return error.type === tabType;
                            }));
                            if (valList && valList.length) {
                                listObj.list = valList;
                            }
                            tab.length = listObj.list.length;
                            _this.errorLists.push(listObj);
                        }
                    }
                }));
                /** @type {?} */
                var tabObj = this.tabList.find((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) {
                    return item.type === _this.showType;
                }));
                if (tabObj) {
                    tabObj.active = true;
                }
            }
            /** @type {?} */
            var showObj = this.errorLists.find((/**
             * @param {?} item
             * @return {?}
             */
            function (item) {
                return item.type === _this.showType;
            }));
            if (showObj) {
                showObj.show = true;
            }
        },
        enumerable: true,
        configurable: true
    });
    ;
    /**
     * @return {?}
     */
    VerifyDetailComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () { };
    //显示详情
    //显示详情
    /**
     * @return {?}
     */
    VerifyDetailComponent.prototype.show = 
    //显示详情
    /**
     * @return {?}
     */
    function () {
        this.showList = !this.showList;
        this.listshowChange.emit(this.showList);
    };
    /**点击分组切换
     * @param tab分组信息
     */
    /**
     * 点击分组切换
     * @param {?} tab
     * @return {?}
     */
    VerifyDetailComponent.prototype.showListContent = /**
     * 点击分组切换
     * @param {?} tab
     * @return {?}
     */
    function (tab) {
        if (tab.length <= 0) {
            return;
        }
        this.tabList.forEach((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            item.active = false;
        }));
        tab.active = true;
        this.errorLists.forEach((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            if (item.type === tab.type) {
                item.show = true;
            }
            else {
                item.show = false;
            }
        }));
    };
    /**点击关闭按钮 */
    /**
     * 点击关闭按钮
     * @return {?}
     */
    VerifyDetailComponent.prototype.close = /**
     * 点击关闭按钮
     * @return {?}
     */
    function () {
        this.showList = false;
        this.listshowChange.emit(false);
    };
    /**点击表单验证列表事件 */
    /**
     * 点击表单验证列表事件
     * @param {?} item
     * @return {?}
     */
    VerifyDetailComponent.prototype.errorClick = /**
     * 点击表单验证列表事件
     * @param {?} item
     * @return {?}
     */
    function (item) {
        this.validatorClick.emit(item);
    };
    VerifyDetailComponent.decorators = [
        { type: Component, args: [{
                    selector: 'farris-verify-detail',
                    template: "\r\n<div class=\"f-verify-detail\" *ngIf=\"validatorList.length > 0\">\r\n    <div class=\"f-verify-detail-content\">\r\n        <div class=\"f-verify-nums\" (click)=\"show()\">\r\n            <span class=\"nums-icon f-icon f-icon-warning\"></span>\r\n            <span class=\"nums-count\">{{validatorList.length}}</span>\r\n        </div>\r\n        <div class=\"f-verify-form-main\" [hidden]=\"!showList\">\r\n            <div class=\"f-verify-form-content\">\r\n                <div class=\"f-verify-form-content-arrow\"></div>\r\n                <div class=\"f-verify-form-content-list\">\r\n                    <div class=\"f-verify-forms-title\">\r\n                        <div class=\"title-tabs\">\r\n                            <div class=\"btn-group\">\r\n                                <button class=\"btn btn-secondary\" *ngFor=\"let tab of tabList\" [ngClass]=\"{'active': tab.active,'disabled': (tab.length<=0)}\" (click)=\"showListContent(tab)\">{{tab.title}} <span>{{tab.length}}</span></button>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"f-verify-close\" (click)=\"close()\">\r\n                            <span class=\"f-icon f-icon-close\"></span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"f-verify-forms-list\" [ngStyle]=\"{'max-height': maxHeight+'px'}\">\r\n                        <ng-container *ngFor=\"let list of errorLists\">\r\n                            <ul class=\"f-verify-list-content\" *ngIf=\"list.list.length > 0\" [ngClass]=\"{'active': list.show}\">\r\n                                <li class=\"f-verify-list\" *ngFor=\"let item of list.list\" (click)=\"errorClick(item)\">\r\n                                    <span class=\"f-icon f-icon-close-outline list-icon list-error\" [ngClass]=\"{'list-warning': item.type === 'warn'}\"></span>\r\n                                    <div class=\"list-con\">\r\n                                        <p class=\"list-title\">{{item.title}}</p>\r\n                                        <p class=\"list-msg\">{{item.msg}}</p>\r\n                                    </div>\r\n                                </li>\r\n                            </ul>\r\n                        </ng-container>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n      ",
                    styles: [".f-verify-detail{position:absolute;left:14px;bottom:16px;z-index:900}.f-verify-detail .f-verify-detail-content{position:relative}.f-verify-detail .f-verify-detail-content .f-verify-form-main{position:absolute;padding-bottom:.5rem;left:0;bottom:1.75rem;width:28.125rem}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content{background-color:#fff;box-shadow:0 2px 8px 0 rgba(0,0,0,.15);border-radius:.125rem;width:100%}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-arrow{display:block;position:absolute;left:1.125rem;bottom:.25rem;width:.625rem;height:.625rem;background:0 0;border-style:solid;border-width:.3125rem;box-shadow:2px 2px 5px rgba(0,0,0,.08);-webkit-transform:translateX(-50%) rotate(45deg);transform:translateX(-50%) rotate(45deg);border-color:transparent #fff #fff transparent}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list{position:relative}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-title{padding:.75rem .875rem}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-title .title-tabs .btn-group .btn.active{color:#fff;background:#388fff;border-color:#388fff}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-close{position:absolute;right:.75rem;top:.625rem;color:rgba(0,0,0,.25);font-size:.75rem;cursor:pointer;width:1.25rem;height:1.25rem;line-height:1.25rem;text-align:center}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list{overflow-y:auto}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list-content{display:none}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list-content.active{display:block}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list{cursor:pointer;position:relative;border-top:1px solid #e9e9e9;padding:.5rem .875rem .5rem 2.5rem}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-icon{position:absolute;left:.875rem;top:.75rem;font-size:.875rem}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-icon.list-error{color:#f5222d}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-icon.list-warning{color:#faad14}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-con p{margin-bottom:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-con .list-title{font-size:.875rem;color:rgba(0,0,0,.75);line-height:1.375rem}.f-verify-detail .f-verify-detail-content .f-verify-form-main .f-verify-form-content .f-verify-form-content-list .f-verify-forms-list .f-verify-list .list-con .list-msg{font-size:.75rem;color:rgba(0,0,0,.45);line-height:1.25rem}.f-verify-detail .f-verify-nums{padding:.125rem .5rem;background:#fde5e5;box-shadow:0 1px 6px 0 rgba(0,0,0,.15);border-radius:2px;cursor:pointer}.f-verify-detail .f-verify-nums .nums-icon{margin-right:.25rem;color:#f5222d;vertical-align:middle}.f-verify-detail .f-verify-nums .nums-count{font-size:.875rem;line-height:1.25rem;color:#f5222d}"]
                }] }
    ];
    /** @nocollapse */
    VerifyDetailComponent.ctorParameters = function () { return [
        { type: LocaleService }
    ]; };
    VerifyDetailComponent.propDecorators = {
        showType: [{ type: Input }],
        showList: [{ type: Input }],
        validatorClick: [{ type: Output, args: ['validatorClick',] }],
        listshowChange: [{ type: Output, args: ['listshowChange',] }],
        maxHeight: [{ type: Input }],
        tabList: [{ type: Input }],
        validatorList: [{ type: Input }]
    };
    return VerifyDetailComponent;
}());
export { VerifyDetailComponent };
if (false) {
    /** @type {?} */
    VerifyDetailComponent.prototype.showType;
    /** @type {?} */
    VerifyDetailComponent.prototype.showList;
    /** @type {?} */
    VerifyDetailComponent.prototype.validatorClick;
    /** @type {?} */
    VerifyDetailComponent.prototype.listshowChange;
    /** @type {?} */
    VerifyDetailComponent.prototype.errorLists;
    /** @type {?} */
    VerifyDetailComponent.prototype._validatorList;
    /** @type {?} */
    VerifyDetailComponent.prototype._maxHeight;
    /** @type {?} */
    VerifyDetailComponent.prototype._tablist;
    /** @type {?} */
    VerifyDetailComponent.prototype.localeService;
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyaWZ5LWRldGFpbC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL3VpLXZlcmlmeS1kZXRhaWwvIiwic291cmNlcyI6WyJsaWIvdmVyaWZ5LWRldGFpbC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFL0UsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBR2xEO0lBZ0pFLCtCQUFtQixhQUE0QjtRQUE1QixrQkFBYSxHQUFiLGFBQWEsQ0FBZTs7Ozs7O1FBcEl0QyxhQUFRLEdBQVUsRUFBRSxDQUFDOztRQUVyQixhQUFRLEdBQVcsS0FBSyxDQUFBOztRQUVQLG1CQUFjLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQzs7UUFFcEMsbUJBQWMsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDOzs7UUFHOUQsZUFBVSxHQUFvQixFQUFFLENBQUM7O1FBRWpDLG1CQUFjLEdBQXVCLEVBQUUsQ0FBQzs7UUFFeEMsZUFBVSxHQUFVLEVBQUUsQ0FBQztJQXVINEIsQ0FBQztJQXBIcEQsc0JBQ0ksNENBQVM7Ozs7UUFJYjtZQUNFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUN6QixDQUFDO1FBUkQsTUFBTTs7Ozs7OztRQUNOLFVBQ2MsR0FBRztZQUNmLElBQUcsR0FBRyxHQUFDLEVBQUU7Z0JBQUUsT0FBTztZQUNsQixJQUFJLENBQUMsVUFBVSxHQUFHLEdBQUcsR0FBQyxFQUFFLENBQUM7UUFDM0IsQ0FBQzs7O09BQUE7SUFLRCxzQkFDSSwwQ0FBTzs7OztRQTRCWDtZQUNFLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN2QixDQUFDOzs7OztRQS9CRCxVQUNZLElBQUk7WUFDZCxJQUFHLElBQUksRUFBQztnQkFDTixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUks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Q0FFTCxNQUFNLFNBQUMsZ0JBQWdCO2lDQUV2QixNQUFNLFNBQUMsZ0JBQWdCOzRCQVV2QixLQUFLOzBCQVNMLEtBQUs7Z0NBaUNMLEtBQUs7O0lBZ0hSLDRCQUFDO0NBQUEsQUF0TEQsSUFzTEM7U0FqTFkscUJBQXFCOzs7SUFPaEMseUNBQThCOztJQUU5Qix5Q0FBaUM7O0lBRWpDLCtDQUE4RDs7SUFFOUQsK0NBQThEOztJQUc5RCwyQ0FBaUM7O0lBRWpDLCtDQUF3Qzs7SUFFeEMsMkNBQXVCOztJQUN2Qix5Q0FBdUI7O0lBc0hYLDhDQUFtQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgdGFiTGlzdEl0ZW0sIEVycm9yTGlzdHNJdGVtLCB2YWxpZGF0b3JMaXN0SXRlbSB9IGZyb20gJy4vdmVyaWZ5LWRldGFpbC5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBMb2NhbGVTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1sb2NhbGUnO1xyXG5cclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnZmFycmlzLXZlcmlmeS1kZXRhaWwnLFxyXG4gIHRlbXBsYXRlVXJsOicuL3ZlcmlmeS1kZXRhaWwuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3ZlcmlmeS1kZXRhaWwuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgVmVyaWZ5RGV0YWlsQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgLy9ASW5wdXQoKSBtYXhIZWlnaHQ6bnVtYmVyO1xyXG4gIC8vQElucHV0KCkgdmFsaWRhdG9yTGlzdDtcclxuICAvL+ihqOWNlemqjOivgeWIhue7hOS/oeaBr1xyXG4gIC8vQElucHV0KCkgdGFiTGlzdDp0YWJMaXN0SXRlbVtdO1xyXG4gIC8v6KGo5Y2V6aqM6K+B6buY6K6k5pi+56S655qE5YiG57uE5L+h5oGvXHJcbiAgQElucHV0KCkgc2hvd1R5cGU6c3RyaW5nID0gJyc7XHJcbiAgLy/mmK/lkKbpu5jorqTmmL7npLrpqozor4Hkv6Hmga/liJfooahcclxuICBASW5wdXQoKSBzaG93TGlzdDpib29sZWFuID0gZmFsc2VcclxuICAvL+mqjOivgeS/oeaBr+eCueWHu1xyXG4gIEBPdXRwdXQoJ3ZhbGlkYXRvckNsaWNrJykgdmFsaWRhdG9yQ2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgLy/pqozor4Hor6bmg4XmmL7npLrpmpDol4/kuovku7ZcclxuICBAT3V0cHV0KCdsaXN0c2hvd0NoYW5nZScpIGxpc3RzaG93Q2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gIC8vc2hvd0xpc3QgPSBmYWxzZTtcclxuICAvL+WkhOeQhuWQjuW4puWIhue7hOeahOihqOWNlemqjOivgeS/oeaBr1xyXG4gIGVycm9yTGlzdHM6RXJyb3JMaXN0c0l0ZW1bXSA9IFtdO1xyXG4gIC8v6buY6K6k5Lyg5YWl55qE6KGo5Y2V6aqM6K+B5L+h5oGv5pWw57uEXHJcbiAgX3ZhbGlkYXRvckxpc3Q6dmFsaWRhdG9yTGlzdEl0ZW1bXSA9IFtdO1xyXG4gIC8v5YiX6KGo6YOo5YiG5pyA5aSn6auY5bqmXHJcbiAgX21heEhlaWdodDpudW1iZXIgPSA2MDtcclxuICBfdGFibGlzdDp0YWJMaXN0SXRlbVtdO1xyXG4gIC8v5pyA5aSn6auY5bqmXHJcbiAgQElucHV0KClcclxuICBzZXQgbWF4SGVpZ2h0KG51bSl7XHJcbiAgICBpZihudW08NTApIHJldHVybjtcclxuICAgIHRoaXMuX21heEhlaWdodCA9IG51bS01MDtcclxuICB9XHJcbiAgZ2V0IG1heEhlaWdodCgpe1xyXG4gICAgcmV0dXJuIHRoaXMuX21heEhlaWdodDtcclxuICB9XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IHRhYkxpc3QoaXRlbSl7XHJcbiAgICBpZihpdGVtKXtcclxuICAgICAgdGhpcy5fdGFibGlzdCA9IGl0ZW07XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICBjb25zdCBhbGxUaXRsZSA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZSgndmVyaWZ5RGV0YWlsLnZlcnRpZnlUeXBlQWxsJyksXHJcbiAgICAgICAgZXJyb3JUaXRsZSA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZSgndmVyaWZ5RGV0YWlsLnZlcnRpZnlUeXBlRXJyb3InKSxcclxuICAgICAgICBlbXB0eVRpdGxlID0gdGhpcy5sb2NhbGVTZXJ2aWNlLmdldFZhbHVlKCd2ZXJpZnlEZXRhaWwudmVydGlmeVR5cGVFbXB0eScpO1xyXG4gICAgICB0aGlzLl90YWJsaXN0ID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOid2ZXJ0aWZ5VHlwZTEnLFxyXG4gICAgICAgICAgdHlwZTonYWxsJyxcclxuICAgICAgICAgIHRpdGxlOmFsbFRpdGxlXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDondmVydGlmeVR5cGUyJyxcclxuICAgICAgICAgIHR5cGU6J2Vycm9yJyxcclxuICAgICAgICAgIHRpdGxlOmVycm9yVGl0bGVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOid2ZXJ0aWZ5VHlwZTMnLFxyXG4gICAgICAgICAgdHlwZTonZW1wdHknLFxyXG4gICAgICAgICAgdGl0bGU6ZW1wdHlUaXRsZVxyXG4gICAgICAgIH1cclxuICAgICAgXVxyXG4gICAgfVxyXG4gICAgXHJcbiAgfVxyXG4gIGdldCB0YWJMaXN0KCl7XHJcbiAgICByZXR1cm4gdGhpcy5fdGFibGlzdDtcclxuICB9XHJcblxyXG4gIEBJbnB1dCgpIFxyXG4gIHNldCB2YWxpZGF0b3JMaXN0KG9iail7XHJcbiAgICB0aGlzLl92YWxpZGF0b3JMaXN0ID0gb2JqO1xyXG4gICAgdGhpcy5lcnJvckxpc3RzID0gW107XHJcbiAgICBpZih0aGlzLnRhYkxpc3QgJiYgdGhpcy50YWJMaXN0Lmxlbmd0aCl7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLnRhYkxpc3QuZm9yRWFjaChpdGVtPT57XHJcbiAgICAgICAgaXRlbS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgfSlcclxuICAgICAgLy/liKTmlq3pu5jorqTlsZXnpLrnmoTnsbvlnotcclxuICAgICAgbGV0IGhhc1RhYiA9IHRoaXMudGFiTGlzdC5maW5kKCh0YWIpPT57XHJcbiAgICAgICAgcmV0dXJuIHRhYi50eXBlID09PSB0aGlzLnNob3dUeXBlO1xyXG4gICAgICB9KVxyXG4gICAgICBpZih0aGlzLnNob3dUeXBlID09PSAnJyB8fCAhaGFzVGFiKXtcclxuICAgICAgICB0aGlzLnNob3dUeXBlID0gdGhpcy50YWJMaXN0WzBdLnR5cGU7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy50YWJMaXN0LmZvckVhY2godGFiID0+IHtcclxuICAgICAgICBjb25zdCB0YWJUeXBlID0gdGFiLnR5cGU7XHJcbiAgICAgICAgaWYodGFiVHlwZSA9PT0gJ2FsbCcpe1xyXG4gICAgICAgICAgbGV0IGxpc3RPYmogPSB7XHJcbiAgICAgICAgICAgICdsaXN0JzpvYmosXHJcbiAgICAgICAgICAgICdzaG93JzpmYWxzZSxcclxuICAgICAgICAgICAgJ3R5cGUnOnRhYlR5cGVcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB0YWIubGVuZ3RoID0gbGlzdE9iai5saXN0Lmxlbmd0aDtcclxuICAgICAgICAgIHRoaXMuZXJyb3JMaXN0cy5wdXNoKGxpc3RPYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgbGV0IGhhc1R5cGUgPSB0aGlzLmVycm9yTGlzdHMuZmluZCgoaXRlbSk9PntcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0udHlwZSA9PT0gdGFiVHlwZTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBpZihoYXNUeXBlKXtcclxuICAgICAgICAgICAgbGV0IHZhbExpc3QgPSBvYmouZmlsdGVyKGVycm9yPT57XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGVycm9yLnR5cGUgPT09IHRhYlR5cGU7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmKHZhbExpc3QgJiYgdmFsTGlzdC5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgIGhhc1R5cGUubGlzdCA9IHZhbExpc3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIGxldCBsaXN0T2JqID0ge1xyXG4gICAgICAgICAgICAgICdsaXN0JzpbXSxcclxuICAgICAgICAgICAgICAnc2hvdyc6ZmFsc2UsXHJcbiAgICAgICAgICAgICAgJ3R5cGUnOnRhYlR5cGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgdmFsTGlzdCA9IG9iai5maWx0ZXIoZXJyb3I9PntcclxuICAgICAgICAgICAgICByZXR1cm4gZXJyb3IudHlwZSA9PT0gdGFiVHlwZTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYodmFsTGlzdCAmJiB2YWxMaXN0Lmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgbGlzdE9iai5saXN0ID0gdmFsTGlzdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0YWIubGVuZ3RoID0gbGlzdE9iai5saXN0Lmxlbmd0aDtcclxuICAgICAgICAgICAgdGhpcy5lcnJvckxpc3RzLnB1c2gobGlzdE9iaik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgbGV0IHRhYk9iaiA9IHRoaXMudGFiTGlzdC5maW5kKGl0ZW09PntcclxuICAgICAgICByZXR1cm4gaXRlbS50eXBlID09PSB0aGlzLnNob3dUeXBlO1xyXG4gICAgICB9KVxyXG4gICAgICBpZih0YWJPYmope1xyXG4gICAgICAgIHRhYk9iai5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgc2hvd09iaiA9IHRoaXMuZXJyb3JMaXN0cy5maW5kKGl0ZW09PntcclxuICAgICAgcmV0dXJuIGl0ZW0udHlwZSA9PT0gdGhpcy5zaG93VHlwZTtcclxuICAgIH0pXHJcbiAgICBpZihzaG93T2JqKXtcclxuICAgICAgc2hvd09iai5zaG93ID0gdHJ1ZTtcclxuICAgIH1cclxuICB9O1xyXG4gIGdldCB2YWxpZGF0b3JMaXN0KCl7XHJcbiAgICByZXR1cm4gdGhpcy5fdmFsaWRhdG9yTGlzdDtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBsb2NhbGVTZXJ2aWNlOiBMb2NhbGVTZXJ2aWNlKSB7IH1cclxuXHJcbiAgbmdPbkluaXQoKSB7fVxyXG4gIC8v5pi+56S66K+m5oOFXHJcbiAgc2hvdygpe1xyXG4gICAgdGhpcy5zaG93TGlzdCA9ICF0aGlzLnNob3dMaXN0O1xyXG4gICAgdGhpcy5saXN0c2hvd0NoYW5nZS5lbWl0KHRoaXMuc2hvd0xpc3QpO1xyXG4gIH1cclxuICAvKirngrnlh7vliIbnu4TliIfmjaJcclxuICAgKiBAcGFyYW0gdGFi5YiG57uE5L+h5oGvXHJcbiAgICovXHJcbiAgc2hvd0xpc3RDb250ZW50KHRhYil7XHJcbiAgICBpZih0YWIubGVuZ3RoPD0wKXtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy50YWJMaXN0LmZvckVhY2goaXRlbT0+e1xyXG4gICAgICBpdGVtLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfSlcclxuICAgIHRhYi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgdGhpcy5lcnJvckxpc3RzLmZvckVhY2goKGl0ZW0pPT57XHJcbiAgICAgIGlmKGl0ZW0udHlwZSA9PT0gdGFiLnR5cGUpe1xyXG4gICAgICAgIGl0ZW0uc2hvdyA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgaXRlbS5zaG93ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG4gIC8qKueCueWHu+WFs+mXreaMiemSriAqL1xyXG4gIGNsb3NlKCl7XHJcbiAgICB0aGlzLnNob3dMaXN0ID0gZmFsc2U7XHJcbiAgICB0aGlzLmxpc3RzaG93Q2hhbmdlLmVtaXQoZmFsc2UpO1xyXG4gIH1cclxuICAvKirngrnlh7vooajljZXpqozor4HliJfooajkuovku7YgKi9cclxuICBlcnJvckNsaWNrKGl0ZW0pe1xyXG4gICAgdGhpcy52YWxpZGF0b3JDbGljay5lbWl0KGl0ZW0pO1xyXG4gIH1cclxuXHJcbn1cclxuIl19