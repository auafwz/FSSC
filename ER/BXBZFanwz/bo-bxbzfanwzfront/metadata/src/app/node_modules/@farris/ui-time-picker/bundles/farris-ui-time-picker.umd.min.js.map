{"version":3,"sources":["node_modules/tslib/tslib.es6.js","ng://@farris/ui-time-picker/lib/services/update-host-class.service.ts","ng://@farris/ui-time-picker/lib/animations/animation-consts.ts","ng://@farris/ui-time-picker/lib/animations/slide.ts","ng://@farris/ui-time-picker/lib/utils/convert.ts","ng://@farris/ui-time-picker/lib/utils/check.ts","ng://@farris/ui-time-picker/lib/utils/request-animation.ts","ng://@farris/ui-time-picker/lib/time-value-accessor.directive.ts","ng://@farris/ui-time-picker/lib/utils/date-helper.ts","ng://@farris/ui-time-picker/lib/time-holder.ts","ng://@farris/ui-time-picker/lib/time-picker-panel.component.ts","ng://@farris/ui-time-picker/lib/services/time-picker.locale.service.ts","ng://@farris/ui-time-picker/lib/time-picker.component.ts","ng://@farris/ui-time-picker/lib/time-picker.module.ts"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__read","o","m","Symbol","iterator","r","e","ar","next","done","push","value","error","UpdateHostClassService","updateHostClass","el","classMap","removeClass","renderer","addClass","Injectable","RendererFactory2","rendererFactory2","createRenderer","AnimationDuration","SLOW","BASE","FAST","AnimationCurves","EASE_BASE_OUT","EASE_BASE_IN","EASE_OUT","EASE_IN","EASE_IN_OUT","EASE_OUT_BACK","EASE_IN_BACK","EASE_IN_OUT_BACK","EASE_OUT_CIRC","EASE_IN_CIRC","EASE_IN_OUT_CIRC","EASE_OUT_QUINT","EASE_IN_QUINT","EASE_IN_OUT_QUINT","ANIMATION_TRANSITION_IN","ANIMATION_TRANSITION_OUT","slideMotion","trigger","state","style","opacity","transform","transformOrigin","transition","animate","toBoolean","convertToDate","format","indexOf","split","fnsParse","Date","convertToStr","date","selected12Hours","isNaN","getTime","fnsFormat","isNotNil","availablePrefixes","reqAnimFrame","getRequestAnimationFrame","window","requestAnimationFrame","bind","prefix","filter","key","requestAnimationFramePolyfill","lastTime","callback","currTime","timeToCall","Math","max","id","setTimeout","TimeValueAccessorDirective","keyup","changed","blur","touched","_onChange","parseTime","text","elementRef","nativeElement","_onTouch","setRange","focus","setSelectionRange","writeValue","formatStr","nzTime","registerOnChange","fn","registerOnTouched","Directive","args","selector","exportAs","providers","provide","NG_VALUE_ACCESSOR","useExisting","multi","ElementRef","Input","HostListener","TimeHolder","setValueByStep","step","times","floor","setDefaultValueIfNil","_value","defaultOpenValue","setMinutes","disabled","minutes","setHours","hours","setSeconds","seconds","setUse12Hours","_use12Hours","defineProperty","_changes","asObservable","isValid","_hours","getHours","_minutes","getMinutes","_seconds","getSeconds","_selected12Hours","_clear","_text","setValue","use12Hours","clear","update","undefined","isEmpty","defaultHours","defaultMinutes","defaultSeconds","default12Hours","calculateViewHour","toUpperCase","_defaultOpenValue","hourStep","minuteStep","secondStep","setDefaultOpenValue","Subject","makeRange","start","ceil","Array","fill","map","_","TimePickerPanelComponent","replace","_allowEmpty","_opened","opened","initPosition","selectInputRange","time","_disabledHours","buildHours","_disabledMinutes","buildMinutes","_disabledSeconds","buildSeconds","_format","enabledColumns","charSet","Set","hourEnabled","has","minuteEnabled","secondEnabled","build12Hours","panelWidth","cdr","markForCheck","_hourStep","_minuteStep","_secondStep","buildTimes","timeValueAccessorDirective","_this","hourRanges","disabledHours","startIndex","hourRange","index","temp","__spread","concat","unshift","splice","hideDisabledOptions","minuteRange","disabledMinutes","secondRange","disabledSeconds","isUpperForamt","includes","use12HoursRange","selectHour","event","hour","stopPropagation","scrollToSelected","hourListElement","selectMinute","minute","minuteListElement","selectSecond","second","secondListElement","select12Hours","use12HoursListElement","instance","duration","unit","transIndex","translateIndex","currentOption","children","scrollTo","offsetTop","calcIndex","item","element","to","scrollTop","perTick","array","reduce","pre","onChange","onTouch","setClassMap","updateCls","_a","prefixCls","inDatePicker","isSelectedHour","viewHours","defaultViewHours","isSelectedMinute","isSelectedSecond","isSelected12Hours","ngOnInit","changes","pipe","takeUntil","unsubscribe$","subscribe","valueChange","emit","ngAfterViewInit","ngOnDestroy","complete","ngOnChanges","previousValue","currentValue","hmsCls","v","type","cls","selected","disabledC","Component","encapsulation","ViewEncapsulation","None","changeDetection","ChangeDetectionStrategy","OnPush","template","UpdateCls","ChangeDetectorRef","ViewChild","Output","EventEmitter","trackByItems","TimePickerLocaleService","getLocaleConfig","locale","localeService","getValue","localeConfig","ZH_CN","providedIn","LocaleService","placeholder","EN_US","num","TimePickerComponent","_hideDisabledOptions","_autoFocus","updateAutoFocus","_disabled","_readonly","_editable","isInit","document","body","querySelector","overlayRef","overlayPanelRef","createElement","appendChild","addEventListener","timeInput","onBlur","removeEventListener","onMouseEnter","readonly","target","display","onMouseLeave","open","editable","isOpen","close","creatPanel","openChange","cRef","location","setStyle","documentClickEvent","registerMouseDownEvent","setPosition","lastChild","removeChild","removeDocumentListener","destroy","mousedownEvent","parentElement","vcRef","createComponent","cfr","resolveComponentFactory","classList","add","changeDetectorRef","detectChanges","val","getBoundingClientRect","elTop","top","elLeft","left","elHeight","height","elWidth","width","innerHeight","innerWidth","onClickClearBtn","changeFlag","_onTouched","onValueChange","onClear","setDisabledState","isDisabled","animations","Renderer2","ViewContainerRef","ComponentFactoryResolver","HostBinding","hostCls","groupIcon","clearText","popupClassName","localConfig","TimePickerModule","NgModule","declarations","entryComponents","exports","imports","CommonModule","FormsModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable, Renderer2, RendererFactory2 } from '@angular/core';\r\n\r\nimport { NgClassInterface } from '../interfaces/ng-class';\r\n\r\n@Injectable()\r\nexport class UpdateHostClassService {\r\n    private classMap = {};\r\n    readonly renderer: Renderer2;\r\n\r\n    updateHostClass(el: HTMLElement, classMap: object): void {\r\n        this.removeClass(el, this.classMap, this.renderer);\r\n        this.classMap = { ...classMap };\r\n        this.addClass(el, this.classMap, this.renderer);\r\n    }\r\n\r\n    private removeClass(el: HTMLElement, classMap: NgClassInterface, renderer: Renderer2): void {\r\n        for (const i in classMap) {\r\n            if (classMap.hasOwnProperty(i)) {\r\n                renderer.removeClass(el, i);\r\n            }\r\n        }\r\n    }\r\n\r\n    private addClass(el: HTMLElement, classMap: NgClassInterface, renderer: Renderer2): void {\r\n        for (const i in classMap) {\r\n            if (classMap.hasOwnProperty(i) && classMap[i]) {\r\n                renderer.addClass(el, i);\r\n            }\r\n        }\r\n    }\r\n\r\n    constructor(rendererFactory2: RendererFactory2) {\r\n        this.renderer = rendererFactory2.createRenderer(null, null);\r\n    }\r\n}\r\n","export class AnimationDuration {\r\n    static SLOW = '0.3s'; // Modal\r\n    static BASE = '0.2s';\r\n    static FAST = '0.1s'; // Tooltip\r\n}\r\n\r\nexport class AnimationCurves {\r\n    static EASE_BASE_OUT = 'cubic-bezier(0.7, 0.3, 0.1, 1)';\r\n    static EASE_BASE_IN = 'cubic-bezier(0.9, 0, 0.3, 0.7)';\r\n    static EASE_OUT = 'cubic-bezier(0.215, 0.61, 0.355, 1)';\r\n    static EASE_IN = 'cubic-bezier(0.55, 0.055, 0.675, 0.19)';\r\n    static EASE_IN_OUT = 'cubic-bezier(0.645, 0.045, 0.355, 1)';\r\n    static EASE_OUT_BACK = 'cubic-bezier(0.12, 0.4, 0.29, 1.46)';\r\n    static EASE_IN_BACK = 'cubic-bezier(0.71, -0.46, 0.88, 0.6)';\r\n    static EASE_IN_OUT_BACK = 'cubic-bezier(0.71, -0.46, 0.29, 1.46)';\r\n    static EASE_OUT_CIRC = 'cubic-bezier(0.08, 0.82, 0.17, 1)';\r\n    static EASE_IN_CIRC = 'cubic-bezier(0.6, 0.04, 0.98, 0.34)';\r\n    static EASE_IN_OUT_CIRC = 'cubic-bezier(0.78, 0.14, 0.15, 0.86)';\r\n    static EASE_OUT_QUINT = 'cubic-bezier(0.23, 1, 0.32, 1)';\r\n    static EASE_IN_QUINT = 'cubic-bezier(0.755, 0.05, 0.855, 0.06)';\r\n    static EASE_IN_OUT_QUINT = 'cubic-bezier(0.86, 0, 0.07, 1)';\r\n}\r\n","import {\r\n    animate,\r\n    state,\r\n    style,\r\n    transition,\r\n    trigger,\r\n    AnimationTriggerMetadata\r\n} from '@angular/animations';\r\nimport { AnimationCurves, AnimationDuration } from './animation-consts';\r\n\r\nconst ANIMATION_TRANSITION_IN = `${AnimationDuration.BASE} ${AnimationCurves.EASE_OUT_QUINT}`;\r\nconst ANIMATION_TRANSITION_OUT = `${AnimationDuration.BASE} ${AnimationCurves.EASE_IN_QUINT}`;\r\n\r\nexport const slideMotion: AnimationTriggerMetadata = trigger('slideMotion', [\r\n    state(\r\n        'bottom',\r\n        style({\r\n            opacity: 1,\r\n            transform: 'scaleY(1)',\r\n            transformOrigin: '0% 0%'\r\n        })\r\n    ),\r\n    state(\r\n        'top',\r\n        style({\r\n            opacity: 1,\r\n            transform: 'scaleY(1)',\r\n            transformOrigin: '0% 100%'\r\n        })\r\n    ),\r\n    transition('void => bottom', [\r\n        style({\r\n            opacity: 0,\r\n            transform: 'scaleY(0.8)',\r\n            transformOrigin: '0% 0%'\r\n        }),\r\n        animate(ANIMATION_TRANSITION_IN)\r\n    ]),\r\n    transition('bottom => void', [\r\n        animate(\r\n            ANIMATION_TRANSITION_OUT,\r\n            style({\r\n                opacity: 0,\r\n                transform: 'scaleY(0.8)',\r\n                transformOrigin: '0% 0%'\r\n            })\r\n        )\r\n    ]),\r\n    transition('void => top', [\r\n        style({\r\n            opacity: 0,\r\n            transform: 'scaleY(0.8)',\r\n            transformOrigin: '0% 100%'\r\n        }),\r\n        animate(ANIMATION_TRANSITION_IN)\r\n    ]),\r\n    transition('top => void', [\r\n        animate(\r\n            ANIMATION_TRANSITION_OUT,\r\n            style({\r\n                opacity: 0,\r\n                transform: 'scaleY(0.8)',\r\n                transformOrigin: '0% 100%'\r\n            })\r\n        )\r\n    ])\r\n]);\r\n\r\n// export const slideAlertMotion: AnimationTriggerMetadata = trigger(\r\n//     'slideAlertMotion',\r\n//     [\r\n//         transition(':leave', [\r\n//             style({\r\n//                 opacity: 1,\r\n//                 transform: 'scaleY(1)',\r\n//                 transformOrigin: '0% 0%'\r\n//             }),\r\n//             animate(\r\n//                 `${AnimationDuration.SLOW} ${AnimationCurves.EASE_IN_OUT_CIRC}`,\r\n//                 style({\r\n//                     opacity: 0,\r\n//                     transform: 'scaleY(0)',\r\n//                     transformOrigin: '0% 0%'\r\n//                 })\r\n//             )\r\n//         ])\r\n//     ]\r\n// );\r\n","import { format as fnsFormat, parse as fnsParse } from 'date-fns';\r\n\r\nexport function toBoolean(value: boolean | string): boolean {\r\n    return !!value;\r\n}\r\n\r\nexport function convertToDate(value: string, format: string = 'hh:mm:ss'): Date {\r\n    if (!value || !format) {\r\n        return;\r\n    }\r\n    // let hours = '0';\r\n    // let minutes = '0';\r\n    // let seconds = '0';\r\n    // const formatSArr = format.split(' ')[0];\r\n    // const formatEArr = format.split(' ')[1];\r\n    // const formatArr = formatSArr.split(':');\r\n    // const textArr = value.split(' ')[0].split(':');\r\n    // // tslint:disable-next-line:variable-name\r\n    // const AMOrPM = value.split(' ')[1];\r\n    // formatArr.forEach((item: string, index: number) => {\r\n    //     item = item.toUpperCase();\r\n    //     if (item === 'H' || item === 'HH') {\r\n    //         hours = textArr[index];\r\n    //     } else if (item === 'M' || item === 'MM') {\r\n    //         minutes = textArr[index];\r\n    //     } else if (item === 'S' || item === 'SS') {\r\n    //         seconds = textArr[index];\r\n    //     } else if (item === 'A') {\r\n    //     }\r\n    // });\r\n    // if (formatEArr && formatEArr.toUpperCase() === 'A') {\r\n    //     if (AMOrPM === 'PM') {\r\n    //         hours = Number(hours) + 12 + '';\r\n    //     }\r\n    // }\r\n    // return new Date(\r\n    //     1970,\r\n    //     0,\r\n    //     1,\r\n    //     Number(hours),\r\n    //     Number(minutes),\r\n    //     Number(seconds)\r\n    // );\r\n\r\n    if (format.indexOf('ss') === -1 && value.split(':').length === 3) {\r\n        format = format + ':ss';\r\n    }\r\n\r\n    return fnsParse(value, format, new Date());\r\n}\r\n\r\nexport function convertToStr(\r\n    date: Date,\r\n    format: string = 'hh:mm:ss',\r\n    selected12Hours = 'AM'\r\n) {\r\n    if (!date || isNaN(date.getTime())) {\r\n        return '';\r\n    }\r\n    // let _hours = date.getHours();\r\n    // selected12Hours = selected12Hours ? selected12Hours : 'AM';\r\n    // if (selected12Hours === 'PM') {\r\n    //     _hours = _hours > 12 ? _hours - 12 : _hours;\r\n    // }\r\n    // const hours = addZero(_hours);\r\n    // const minutes = addZero(date.getMinutes());\r\n    // const seconds = addZero(date.getSeconds());\r\n    // if (format.indexOf('a') >= 0 || format.indexOf('A') >= 0) {\r\n    //     format = format.replace(/a/i, selected12Hours);\r\n    // }\r\n    // if (format.indexOf('hh') >= 0 || format.indexOf('HH') >= 0) {\r\n    //     format = format.replace(/hh/i, hours);\r\n    // } else if (format.indexOf('h') >= 0 || format.indexOf('H') >= 0) {\r\n    //     format = format.replace(/h/i, hours);\r\n    // }\r\n    // if (format.indexOf('mm') >= 0 || format.indexOf('MM') >= 0) {\r\n    //     format = format.replace(/mm/i, minutes);\r\n    // } else if (format.indexOf('m') >= 0 || format.indexOf('M') >= 0) {\r\n    //     format = format.replace(/m/i, minutes);\r\n    // }\r\n    // if (format.indexOf('ss') >= 0 || format.indexOf('SS') >= 0) {\r\n    //     format = format.replace(/ss/i, seconds);\r\n    // } else if (format.indexOf('s') >= 0 || format.indexOf('S') >= 0) {\r\n    //     format = format.replace(/s/i, seconds);\r\n    // }\r\n    // return format;\r\n    return fnsFormat(date, format);\r\n}\r\n\r\nexport function addZero(val: any) {\r\n    val = String(val);\r\n    if (val.length === 1) {\r\n        return '0' + val;\r\n    }\r\n    return val;\r\n}\r\n","// tslint:disable-next-line:no-any\r\nexport function isNotNil(value: any): boolean {\r\n    return typeof value !== 'undefined' && value !== null;\r\n}\r\n","// tslint:disable:no-any typedef no-invalid-this\r\nconst availablePrefixes = ['moz', 'ms', 'webkit'];\r\n\r\nfunction requestAnimationFramePolyfill(): typeof requestAnimationFrame {\r\n    let lastTime = 0;\r\n    return (callback: FrameRequestCallback): any => {\r\n        const currTime = new Date().getTime();\r\n        const timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n        const id = setTimeout(() => {\r\n            callback(currTime + timeToCall);\r\n        }, timeToCall);\r\n        lastTime = currTime + timeToCall;\r\n        return id;\r\n    };\r\n}\r\n\r\nfunction getRequestAnimationFrame(): typeof requestAnimationFrame {\r\n    if (typeof window === 'undefined') {\r\n        return () => 0;\r\n    }\r\n    if (window.requestAnimationFrame) {\r\n        // https://github.com/vuejs/vue/issues/4465\r\n        return window.requestAnimationFrame.bind(window);\r\n    }\r\n\r\n    const prefix = availablePrefixes.filter(key => `${key}RequestAnimationFrame` in window)[0];\r\n\r\n    return prefix ? (window as any)[`${prefix}RequestAnimationFrame`] : requestAnimationFramePolyfill();\r\n}\r\nexport function cancelRequestAnimationFrame(id: number): any {\r\n    if (typeof window === 'undefined') {\r\n        return null;\r\n    }\r\n    if (window.cancelAnimationFrame) {\r\n        return window.cancelAnimationFrame(id);\r\n    }\r\n    const prefix = availablePrefixes.filter(\r\n        key => `${key}CancelAnimationFrame` in window || `${key}CancelRequestAnimationFrame` in window\r\n    )[0];\r\n\r\n    return prefix\r\n        ? ((window as any)[`${prefix}CancelAnimationFrame`] || (window as any)[`${prefix}CancelRequestAnimationFrame`])\r\n              // @ts-ignore\r\n              .call(this, id)\r\n        : clearTimeout(id);\r\n}\r\n\r\nexport const reqAnimFrame = getRequestAnimationFrame();\r\n","import { Directive, ElementRef, HostListener, Input } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { parseTime, format } from './utils/date-helper';\r\n\r\n@Directive({\r\n    selector: 'input[format]',\r\n    exportAs: 'format',\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: TimeValueAccessorDirective,\r\n            multi: true\r\n        }\r\n    ]\r\n})\r\nexport class TimeValueAccessorDirective implements ControlValueAccessor {\r\n    private _onChange: (value: Date) => void;\r\n    private _onTouch: () => void;\r\n    @Input() nzTime: string;\r\n\r\n    @HostListener('keyup')\r\n    keyup(): void {\r\n        this.changed();\r\n    }\r\n\r\n    @HostListener('blur')\r\n    blur(): void {\r\n        this.touched();\r\n    }\r\n\r\n    changed(): void {\r\n        if (this._onChange) {\r\n            const value = parseTime(this.elementRef.nativeElement.value);\r\n            this._onChange(value!);\r\n        }\r\n    }\r\n\r\n    touched(): void {\r\n        if (this._onTouch) {\r\n            this._onTouch();\r\n        }\r\n    }\r\n\r\n    setRange(): void {\r\n        this.elementRef.nativeElement.focus();\r\n        this.elementRef.nativeElement.setSelectionRange(\r\n            0,\r\n            this.elementRef.nativeElement.value.length\r\n        );\r\n    }\r\n\r\n    constructor(private elementRef: ElementRef) {}\r\n\r\n    writeValue(value: Date): void {\r\n        this.elementRef.nativeElement.value = format(value, this.nzTime);\r\n    }\r\n\r\n    registerOnChange(fn: (value: Date) => void): void {\r\n        this._onChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn: () => void): void {\r\n        this._onTouch = fn;\r\n    }\r\n}\r\n","import { parse, format as fnsFormat } from 'date-fns';\r\n\r\nexport function parseTime(text: string): Date | undefined {\r\n    if (!text) {\r\n        return;\r\n    }\r\n    return new Date(`1970-01-01 ${text}`);\r\n}\r\nexport function format(date: Date, formatStr: string): string {\r\n    return fnsFormat(date, formatStr);\r\n}\r\n","import { Observable, Subject } from 'rxjs';\r\nimport { isNotNil } from './utils/check';\r\nimport { isValid } from 'date-fns';\r\n\r\nexport class TimeHolder {\r\n    private _seconds: number | undefined = undefined;\r\n    private _hours: number | undefined = undefined;\r\n    private _minutes: number | undefined = undefined;\r\n    private _selected12Hours: string | undefined = undefined;\r\n    private _use12Hours = false;\r\n    private _defaultOpenValue: Date = new Date();\r\n    private _value: Date | undefined;\r\n    private _text: string;\r\n    private _changes = new Subject<Date>();\r\n    hourStep: number = 1;\r\n    minuteStep: number = 1;\r\n    secondStep: number = 1;\r\n\r\n    setValueByStep(value: number, step: number) {\r\n        let times = Math.floor(value / step)\r\n        const remainder = value % step\r\n        const halfStep = step / 2\r\n        times = remainder > halfStep ? times + 1 : times\r\n        return step * times\r\n    }\r\n\r\n    setDefaultValueIfNil(): void {\r\n        if (!isNotNil(this._value)) {\r\n            this._value = new Date(this.defaultOpenValue);\r\n        }\r\n    }\r\n\r\n    setMinutes(value: number, disabled: boolean): this {\r\n        if (disabled) {\r\n            return this;\r\n        }\r\n        this.setDefaultValueIfNil();\r\n        this.minutes = value;\r\n        return this;\r\n    }\r\n\r\n    setHours(value: number, disabled: boolean): this {\r\n        if (disabled) {\r\n            return this;\r\n        }\r\n        this.setDefaultValueIfNil();\r\n        this.hours = value;\r\n        return this;\r\n    }\r\n\r\n    setSeconds(value: number, disabled: boolean): this {\r\n        if (disabled) {\r\n            return this;\r\n        }\r\n        this.setDefaultValueIfNil();\r\n        this.seconds = value;\r\n        return this;\r\n    }\r\n\r\n    setUse12Hours(value: boolean): this {\r\n        this._use12Hours = value;\r\n        return this;\r\n    }\r\n\r\n    get changes(): Observable<Date> {\r\n        return this._changes.asObservable();\r\n    }\r\n\r\n    get value(): Date | undefined {\r\n        return this._value;\r\n    }\r\n\r\n    set value(value: Date | undefined) {\r\n        if (value !== this._value) {\r\n            this._value = value;\r\n            if (isNotNil(this._value) && isValid(this._value)) {\r\n                // tslint:disable-next-line:no-non-null-assertion\r\n                this._hours = this._value!.getHours();\r\n                this._minutes = this._value!.getMinutes();\r\n                this._seconds = this._value!.getSeconds();\r\n                if (this._use12Hours && isNotNil(this._hours)) {\r\n                    this._selected12Hours = this._hours >= 12 ? 'PM' : 'AM';\r\n                }\r\n            } else {\r\n                this._clear();\r\n            }\r\n        }\r\n    }\r\n    get text(): string {\r\n        return this._text;\r\n    }\r\n\r\n    set text(value: string) {\r\n        if (value !== this._text) {\r\n            this._text = value;\r\n        }\r\n    }\r\n\r\n    setValue(value: Date | undefined, use12Hours?: boolean): this {\r\n        if (isNotNil(use12Hours)) {\r\n            this._use12Hours = use12Hours as boolean;\r\n        }\r\n        this.value = value;\r\n        return this;\r\n    }\r\n\r\n    clear(): void {\r\n        this._clear();\r\n        this.update();\r\n    }\r\n\r\n    get isEmpty(): boolean {\r\n        return !(isNotNil(this._hours) || isNotNil(this._minutes) || isNotNil(this._seconds));\r\n    }\r\n\r\n    private _clear(): void {\r\n        this._hours = undefined;\r\n        this._minutes = undefined;\r\n        this._seconds = undefined;\r\n        this._selected12Hours = undefined;\r\n        this._value = undefined;\r\n    }\r\n\r\n    private update(): void {\r\n        if (this.isEmpty) {\r\n            this._value = undefined;\r\n        } else {\r\n            if (!isNotNil(this._hours)) {\r\n                this._hours = this.defaultHours;\r\n            } else {\r\n                this._value!.setHours(this.hours!);\r\n            }\r\n\r\n            if (!isNotNil(this._minutes)) {\r\n                this._minutes = this.defaultMinutes;\r\n            } else {\r\n                this._value!.setMinutes(this.minutes!);\r\n            }\r\n\r\n            if (!isNotNil(this._seconds)) {\r\n                this._seconds = this.defaultSeconds;\r\n            } else {\r\n                this._value!.setSeconds(this.seconds!);\r\n            }\r\n\r\n            if (this._use12Hours) {\r\n                if (!isNotNil(this._selected12Hours)) {\r\n                    this._selected12Hours = this.default12Hours;\r\n                }\r\n                if (this.selected12Hours === 'PM' && this._hours! < 12) {\r\n                    this._hours! += 12;\r\n                    this._value!.setHours(this._hours!);\r\n                }\r\n                if (this.selected12Hours === 'AM' && this._hours! >= 12) {\r\n                    this._hours! -= 12;\r\n                    this._value!.setHours(this._hours!);\r\n                }\r\n            }\r\n\r\n            this._value = new Date(this._value!);\r\n        }\r\n        this.changed();\r\n    }\r\n\r\n    changed(): void {\r\n        this._changes.next(this._value);\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * UI view hours\r\n     * Get viewHours which is selected in `time-picker-panel` and its range is [12, 1, 2, ..., 11]\r\n     */\r\n    get viewHours(): number | undefined {\r\n        return this._use12Hours && isNotNil(this._hours) ? this.calculateViewHour(this._hours!) : this._hours;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Value hours\r\n     * Get realHours and its range is [0, 1, 2, ..., 22, 23]\r\n     */\r\n    get realHours(): number | undefined {\r\n        return this._hours;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Same as realHours\r\n     * @see realHours\r\n     */\r\n    get hours(): number | undefined {\r\n        return this._hours;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Set viewHours to realHours\r\n     */\r\n    set hours(value: number | undefined) {\r\n        if (value !== this._hours) {\r\n            if (this._use12Hours) {\r\n                if (this.selected12Hours === 'PM' && value !== 12) {\r\n                    this._hours! = (value as number) + 12;\r\n                } else if (this.selected12Hours === 'AM' && value === 12) {\r\n                    this._hours = 0;\r\n                } else {\r\n                    this._hours = value;\r\n                }\r\n            } else {\r\n                this._hours = value;\r\n            }\r\n            this.update();\r\n        }\r\n    }\r\n\r\n    get minutes(): number | undefined {\r\n        return this._minutes;\r\n    }\r\n\r\n    set minutes(value: number | undefined) {\r\n        if (value !== this._minutes) {\r\n            this._minutes = value;\r\n            this.update();\r\n        }\r\n    }\r\n\r\n    get seconds(): number | undefined {\r\n        return this._seconds;\r\n    }\r\n\r\n    set seconds(value: number | undefined) {\r\n        if (value !== this._seconds) {\r\n            this._seconds = value;\r\n            this.update();\r\n        }\r\n    }\r\n\r\n    get selected12Hours(): string | undefined {\r\n        return this._selected12Hours;\r\n    }\r\n\r\n    set selected12Hours(value: string | undefined) {\r\n        if (value!.toUpperCase() !== this._selected12Hours) {\r\n            this._selected12Hours = value!.toUpperCase();\r\n            this.update();\r\n        }\r\n    }\r\n\r\n    get defaultOpenValue(): Date {\r\n        this._defaultOpenValue.setHours(this.setValueByStep(this._defaultOpenValue.getHours(), this.hourStep))\r\n        this._defaultOpenValue.setMinutes(this.setValueByStep(this._defaultOpenValue.getMinutes(), this.minuteStep))\r\n        this._defaultOpenValue.setSeconds(this.setValueByStep(this._defaultOpenValue.getSeconds(), this.secondStep))\r\n        return this._defaultOpenValue;\r\n    }\r\n\r\n    set defaultOpenValue(value: Date) {\r\n        if (this._defaultOpenValue !== value) {\r\n            this._defaultOpenValue = value;\r\n            this.update();\r\n        }\r\n    }\r\n\r\n    setDefaultOpenValue(value: Date): this {\r\n        this.defaultOpenValue = value;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Get deafultViewHours when defaultOpenValue is setted\r\n     * @see viewHours\r\n     */\r\n    get defaultViewHours(): number {\r\n        const hours = this.defaultOpenValue.getHours();\r\n        return this._use12Hours && isNotNil(hours) ? this.calculateViewHour(hours) : hours;\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Get defaultRealHours when defaultOpenValue is setted\r\n     * @see realHours\r\n     */\r\n    get defaultRealHours(): number {\r\n        return this.defaultOpenValue.getHours();\r\n    }\r\n\r\n    /**\r\n     * @description\r\n     * Same as defaultRealHours\r\n     */\r\n    get defaultHours(): number {\r\n        return this.defaultOpenValue.getHours();\r\n    }\r\n\r\n    get defaultMinutes(): number {\r\n        return this.defaultOpenValue.getMinutes();\r\n    }\r\n\r\n    get defaultSeconds(): number {\r\n        return this.defaultOpenValue.getSeconds();\r\n    }\r\n\r\n    get default12Hours(): string {\r\n        return this.defaultOpenValue.getHours() >= 12 ? 'PM' : 'AM';\r\n    }\r\n\r\n    constructor() {}\r\n\r\n    private calculateViewHour(value: number): number {\r\n        const selected12Hours = this._selected12Hours || this.default12Hours;\r\n        if (selected12Hours === 'PM' && value > 12) {\r\n            return value - 12;\r\n        }\r\n        if (selected12Hours === 'AM' && value === 0) {\r\n            return 12;\r\n        }\r\n        return value;\r\n    }\r\n}\r\n","import {\r\n    ChangeDetectionStrategy,\r\n    ChangeDetectorRef,\r\n    Component,\r\n    ElementRef,\r\n    Input,\r\n    OnChanges,\r\n    OnDestroy,\r\n    OnInit,\r\n    SimpleChanges,\r\n    TemplateRef,\r\n    ViewChild,\r\n    ViewEncapsulation,\r\n    Output,\r\n    EventEmitter,\r\n    HostBinding\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { UpdateHostClassService as UpdateCls } from './services/update-host-class.service';\r\nimport { isNotNil } from './utils/check';\r\nimport { reqAnimFrame } from './utils/request-animation';\r\n\r\nimport { TimeValueAccessorDirective } from './time-value-accessor.directive';\r\nimport { TimeHolder } from './time-holder';\r\nimport { convertToDate, convertToStr } from './utils/convert';\r\n\r\nfunction makeRange(\r\n    length: number,\r\n    step: number = 1,\r\n    start: number = 0\r\n): number[] {\r\n    step = Math.ceil(step);\r\n    return new Array(Math.ceil(length / step))\r\n        .fill(0)\r\n        .map((_, i) => (i + start) * step);\r\n}\r\n\r\nexport type TimePickerUnit = 'hour' | 'minute' | 'second' | '12-hour';\r\n\r\n@Component({\r\n    encapsulation: ViewEncapsulation.None,\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    selector: 'time-picker-panel',\r\n    exportAs: 'timePickerPanel',\r\n    templateUrl: './time-picker-panel.component.html',\r\n    // styleUrls: ['./style/index.scss'],\r\n    providers: [\r\n        UpdateCls,\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: TimePickerPanelComponent,\r\n            multi: true\r\n        }\r\n    ]\r\n})\r\nexport class TimePickerPanelComponent implements ControlValueAccessor, OnInit, OnDestroy, OnChanges {\r\n    private _hourStep = 1;\r\n    private _minuteStep = 1;\r\n    private _secondStep = 1;\r\n    private unsubscribe$ = new Subject<void>();\r\n    private onChange: (value: string) => void;\r\n    private onTouch: () => void;\r\n    private _format = 'HH:mm:ss';\r\n    private _disabledHours: () => number[];\r\n    private _disabledMinutes: (hour: number) => number[];\r\n    private _disabledSeconds: (hour: number, minute: number) => number[];\r\n    private _defaultOpenValue = new Date();\r\n    private _opened = false;\r\n    private _allowEmpty = true;\r\n    private _value = '';\r\n\r\n    prefixCls = 'time-picker-panel';\r\n    time = new TimeHolder();\r\n    hourEnabled = true;\r\n    minuteEnabled = true;\r\n    secondEnabled = true;\r\n    enabledColumns = 3;\r\n    hourRange: ReadonlyArray<{ index: number; disabled: boolean }>;\r\n    minuteRange: ReadonlyArray<{ index: number; disabled: boolean }>;\r\n    secondRange: ReadonlyArray<{ index: number; disabled: boolean }>;\r\n    use12HoursRange: ReadonlyArray<{ index: number; value: string }>;\r\n    @ViewChild(TimeValueAccessorDirective)\r\n    timeValueAccessorDirective: TimeValueAccessorDirective;\r\n\r\n    @ViewChild('hourListElement') hourListElement: ElementRef;\r\n    @ViewChild('minuteListElement') minuteListElement: ElementRef;\r\n    @ViewChild('secondListElement') secondListElement: ElementRef;\r\n    @ViewChild('use12HoursListElement') use12HoursListElement: ElementRef;\r\n\r\n    @Input() inDatePicker = false; // If inside a date-picker, more diff works need to be done\r\n    @Input() addOn: TemplateRef<void>;\r\n    @Input() hideDisabledOptions = false;\r\n    @Input() clearText: string;\r\n    @Input() placeholder: string;\r\n    @Input()\r\n    set use12Hours(value: boolean) {\r\n        this._use12Hours = !!value;\r\n        if (!this._use12Hours) {\r\n            this.format = this.format ? (this.format + '').replace(/h/g, 'H') : ''\r\n        } else {\r\n            this.format = this.format ? (this.format + '').replace(/H/g, 'h') : ''\r\n        }\r\n    }\r\n    get use12Hours(): boolean {\r\n        return this._use12Hours;\r\n    }\r\n    @Input()\r\n    set allowEmpty(value: boolean) {\r\n        if (isNotNil(value)) {\r\n            this._allowEmpty = value;\r\n        }\r\n    }\r\n\r\n    get allowEmpty(): boolean {\r\n        return this._allowEmpty;\r\n    }\r\n\r\n    @Input()\r\n    set opened(value: boolean) {\r\n        this._opened = value;\r\n        if (this.opened) {\r\n            this.initPosition();\r\n            this.selectInputRange();\r\n        }\r\n    }\r\n\r\n    get opened(): boolean {\r\n        return this._opened;\r\n    }\r\n\r\n    @Input()\r\n    set defaultOpenValue(value: Date) {\r\n        if (isNotNil(value)) {\r\n            this._defaultOpenValue = value;\r\n            this.time.setDefaultOpenValue(this.defaultOpenValue);\r\n        }\r\n    }\r\n\r\n    get defaultOpenValue(): Date {\r\n        return this._defaultOpenValue;\r\n    }\r\n\r\n    @Input()\r\n    set disabledHours(value: () => number[]) {\r\n        this._disabledHours = value;\r\n        if (this._disabledHours) {\r\n            this.buildHours();\r\n        }\r\n    }\r\n\r\n    get disabledHours(): () => number[] {\r\n        return this._disabledHours;\r\n    }\r\n\r\n    @Input()\r\n    set disabledMinutes(value: (hour: number) => number[]) {\r\n        if (isNotNil(value)) {\r\n            this._disabledMinutes = value;\r\n            this.buildMinutes();\r\n        }\r\n    }\r\n\r\n    get disabledMinutes(): (hour: number) => number[] {\r\n        return this._disabledMinutes;\r\n    }\r\n\r\n    @Input()\r\n    set disabledSeconds(value: (hour: number, minute: number) => number[]) {\r\n        if (isNotNil(value)) {\r\n            this._disabledSeconds = value;\r\n            this.buildSeconds();\r\n        }\r\n    }\r\n\r\n    get disabledSeconds(): (hour: number, minute: number) => number[] {\r\n        return this._disabledSeconds;\r\n    }\r\n\r\n    panelWidth = 0;\r\n\r\n    @Input()\r\n    set format(value: string) {\r\n        if (isNotNil(value)) {\r\n            this._format = value;\r\n            this.enabledColumns = 0;\r\n            const charSet = new Set(value);\r\n            this.hourEnabled = charSet.has('H') || charSet.has('h');\r\n            this.minuteEnabled = charSet.has('m');\r\n            this.secondEnabled = charSet.has('s');\r\n            if (this.hourEnabled) {\r\n                this.enabledColumns++;\r\n            }\r\n            if (this.minuteEnabled) {\r\n                this.enabledColumns++;\r\n            }\r\n            if (this.secondEnabled) {\r\n                this.enabledColumns++;\r\n            }\r\n            if (this.use12Hours) {\r\n                this.enabledColumns++;\r\n                this.build12Hours();\r\n            }\r\n\r\n            this.panelWidth = this.enabledColumns * 66;\r\n            this.cdr.markForCheck();\r\n        }\r\n    }\r\n\r\n    get format(): string {\r\n        return this._format;\r\n    }\r\n\r\n    @Input()\r\n    set hourStep(value: number) {\r\n        if (isNotNil(value)) {\r\n            this._hourStep = value;\r\n            this.time.hourStep = value;\r\n            this.buildHours();\r\n        }\r\n    }\r\n\r\n    get hourStep(): number {\r\n        return this._hourStep;\r\n    }\r\n\r\n    @Input()\r\n    set minuteStep(value: number) {\r\n        if (isNotNil(value)) {\r\n            this._minuteStep = value;\r\n            this.time.minuteStep = value;\r\n            this.buildMinutes();\r\n        }\r\n    }\r\n\r\n    get minuteStep(): number {\r\n        return this._minuteStep;\r\n    }\r\n\r\n    @Input()\r\n    set secondStep(value: number) {\r\n        if (isNotNil(value)) {\r\n            this._secondStep = value;\r\n            this.time.secondStep = value;\r\n            this.buildSeconds();\r\n        }\r\n    }\r\n\r\n    get secondStep(): number {\r\n        return this._secondStep;\r\n    }\r\n\r\n    @Input()\r\n    set value(value: string) {\r\n        if (isNotNil(value)) {\r\n            this.time.text = value;\r\n            const _value = convertToDate(this.time.text, this.format);\r\n            this.time.setValue(_value, this.use12Hours);\r\n            this.buildTimes();\r\n            this.cdr.markForCheck();\r\n        } else {\r\n            this.time.setUse12Hours(this.use12Hours);\r\n        }\r\n    }\r\n\r\n    get value(): string {\r\n        this._value = this.time.text;\r\n        return this._value;\r\n    }\r\n    @Output()\r\n    valueChange = new EventEmitter<string>();\r\n\r\n    private _use12Hours = false;\r\n\r\n    selectInputRange(): void {\r\n        // setTimeout(() => {\r\n        //     if (this.timeValueAccessorDirective) {\r\n        //         this.timeValueAccessorDirective.setRange();\r\n        //     }\r\n        // });\r\n        if (this.timeValueAccessorDirective) {\r\n            this.timeValueAccessorDirective.setRange();\r\n        }\r\n    }\r\n\r\n    buildHours(): void {\r\n        let hourRanges = 24;\r\n        let disabledHours = this.disabledHours && this.disabledHours();\r\n        let startIndex = 0;\r\n        if (this.use12Hours) {\r\n            hourRanges = 12;\r\n            if (disabledHours) {\r\n                if (this.time.selected12Hours === 'PM') {\r\n                    /**\r\n                     * Filter and transform hours which greater or equal to 12\r\n                     * [0, 1, 2, ..., 12, 13, 14, 15, ..., 23] => [12, 1, 2, 3, ..., 11]\r\n                     */\r\n                    disabledHours = disabledHours\r\n                        .filter(i => i >= 12)\r\n                        .map(i => (i > 12 ? i - 12 : i));\r\n                } else {\r\n                    /**\r\n                     * Filter and transform hours which less than 12\r\n                     * [0, 1, 2,..., 12, 13, 14, 15, ...23] => [12, 1, 2, 3, ..., 11]\r\n                     */\r\n                    disabledHours = disabledHours\r\n                        .filter(i => i < 12 || i === 24)\r\n                        .map(i => (i === 24 || i === 0 ? 12 : i));\r\n                }\r\n            }\r\n            startIndex = 1;\r\n        }\r\n        this.hourRange = makeRange(hourRanges, this.hourStep, startIndex).map(\r\n            r => {\r\n                return {\r\n                    index: r,\r\n                    disabled:\r\n                        this.disabledHours && disabledHours.indexOf(r) !== -1\r\n                };\r\n            }\r\n        );\r\n        if (\r\n            this.use12Hours &&\r\n            this.hourRange[this.hourRange.length - 1].index === 12\r\n        ) {\r\n            const temp = [...this.hourRange];\r\n            temp.unshift(temp[temp.length - 1]);\r\n            temp.splice(temp.length - 1, 1);\r\n            this.hourRange = temp;\r\n        }\r\n\r\n\r\n        // \r\n        this.hourRange = this.hourRange.filter( n => {\r\n            return !(this.hideDisabledOptions && n.disabled);\r\n        });\r\n    }\r\n\r\n    buildMinutes(): void {\r\n        this.minuteRange = makeRange(60, this.minuteStep).map(r => {\r\n            return {\r\n                index: r,\r\n                disabled:\r\n                    this.disabledMinutes &&\r\n                    this.disabledMinutes(this.time.hours!).indexOf(r) !== -1\r\n            };\r\n        });\r\n\r\n        // \r\n        this.minuteRange = this.minuteRange.filter( n => {\r\n            return !(this.hideDisabledOptions && n.disabled);\r\n        });\r\n    }\r\n\r\n    buildSeconds(): void {\r\n        this.secondRange = makeRange(60, this.secondStep).map(r => {\r\n            return {\r\n                index: r,\r\n                disabled:\r\n                    this.disabledSeconds &&\r\n                    this.disabledSeconds(\r\n                        this.time.hours!,\r\n                        this.time.minutes!\r\n                    ).indexOf(r) !== -1\r\n            };\r\n        });\r\n\r\n        // \r\n        this.secondRange = this.secondRange.filter( n => {\r\n            return !(this.hideDisabledOptions && n.disabled);\r\n        });\r\n    }\r\n\r\n    build12Hours(): void {\r\n        const isUpperForamt = this._format.includes('A');\r\n        this.use12HoursRange = [\r\n            {\r\n                index: 0,\r\n                value: isUpperForamt ? 'AM' : 'am'\r\n            },\r\n            {\r\n                index: 1,\r\n                value: isUpperForamt ? 'PM' : 'pm'\r\n            }\r\n        ];\r\n\r\n        // \r\n        this.use12HoursRange = this.use12HoursRange.filter( n => {\r\n            return !this.hideDisabledOptions;\r\n        });\r\n    }\r\n\r\n    buildTimes(): void {\r\n        this.buildHours();\r\n        this.buildMinutes();\r\n        this.buildSeconds();\r\n        this.build12Hours();\r\n    }\r\n\r\n    selectHour(\r\n        event: MouseEvent,\r\n        hour: { index: number; disabled: boolean }\r\n    ): void {\r\n        event.stopPropagation();\r\n        this.time.setHours(hour.index, hour.disabled);\r\n        this.scrollToSelected(\r\n            this.hourListElement.nativeElement,\r\n            hour.index,\r\n            120,\r\n            'hour'\r\n        );\r\n\r\n        if (this._disabledMinutes) {\r\n            this.buildMinutes();\r\n        }\r\n        if (this._disabledSeconds || this._disabledMinutes) {\r\n            this.buildSeconds();\r\n        }\r\n    }\r\n\r\n    selectMinute(\r\n        event: MouseEvent,\r\n        minute: { index: number; disabled: boolean }\r\n    ): void {\r\n        event.stopPropagation();\r\n        this.time.setMinutes(minute.index, minute.disabled);\r\n        this.scrollToSelected(\r\n            this.minuteListElement.nativeElement,\r\n            minute.index,\r\n            120,\r\n            'minute'\r\n        );\r\n        if (this._disabledSeconds) {\r\n            this.buildSeconds();\r\n        }\r\n    }\r\n\r\n    selectSecond(\r\n        event: MouseEvent,\r\n        second: { index: number; disabled: boolean }\r\n    ): void {\r\n        event.stopPropagation();\r\n        this.time.setSeconds(second.index, second.disabled);\r\n        this.scrollToSelected(\r\n            this.secondListElement.nativeElement,\r\n            second.index,\r\n            120,\r\n            'second'\r\n        );\r\n    }\r\n\r\n    select12Hours(\r\n        event: MouseEvent,\r\n        value: { index: number; value: string }\r\n    ): void {\r\n        event.stopPropagation();\r\n        this.time.selected12Hours = value.value;\r\n        if (this._disabledHours) {\r\n            this.buildHours();\r\n        }\r\n        if (this._disabledMinutes) {\r\n            this.buildMinutes();\r\n        }\r\n        if (this._disabledSeconds) {\r\n            this.buildSeconds();\r\n        }\r\n        this.scrollToSelected(\r\n            this.use12HoursListElement.nativeElement,\r\n            value.index,\r\n            120,\r\n            '12-hour'\r\n        );\r\n    }\r\n\r\n    scrollToSelected(\r\n        instance: HTMLElement,\r\n        index: number,\r\n        duration: number = 0,\r\n        unit: TimePickerUnit\r\n    ): void {\r\n        const transIndex = this.translateIndex(index, unit);\r\n        const currentOption = (instance.children[0].children[transIndex] ||\r\n            instance.children[0].children[0]) as HTMLElement;\r\n        this.scrollTo(instance, currentOption.offsetTop, duration);\r\n    }\r\n\r\n    translateIndex(index: number, unit: TimePickerUnit): number {\r\n        if (unit === 'hour') {\r\n            const disabledHours = this.disabledHours && this.disabledHours();\r\n            return this.calcIndex(\r\n                disabledHours,\r\n                this.hourRange.map(item => item.index).indexOf(index)\r\n            );\r\n        } else if (unit === 'minute') {\r\n            const disabledMinutes =\r\n                this.disabledMinutes && this.disabledMinutes(this.time.hours!);\r\n            return this.calcIndex(\r\n                disabledMinutes,\r\n                this.minuteRange.map(item => item.index).indexOf(index)\r\n            );\r\n        } else if (unit === 'second') {\r\n            // second\r\n            const disabledSeconds =\r\n                this.disabledSeconds &&\r\n                this.disabledSeconds(this.time.hours!, this.time.minutes!);\r\n            return this.calcIndex(\r\n                disabledSeconds,\r\n                this.secondRange.map(item => item.index).indexOf(index)\r\n            );\r\n        } else {\r\n            // 12-hour\r\n            return this.calcIndex(\r\n                [],\r\n                this.use12HoursRange.map(item => item.index).indexOf(index)\r\n            );\r\n        }\r\n    }\r\n\r\n    scrollTo(element: HTMLElement, to: number, duration: number): void {\r\n        if (duration <= 0) {\r\n            element.scrollTop = to;\r\n            return;\r\n        }\r\n        const difference = to - element.scrollTop;\r\n        const perTick = (difference / duration) * 10;\r\n\r\n        reqAnimFrame(() => {\r\n            element.scrollTop = element.scrollTop + perTick;\r\n            if (element.scrollTop === to) {\r\n                return;\r\n            }\r\n            this.scrollTo(element, to, duration - 10);\r\n        });\r\n    }\r\n\r\n    calcIndex(array: number[], index: number): number {\r\n        if (array && array.length && this.hideDisabledOptions) {\r\n            return (\r\n                index -\r\n                array.reduce((pre, value) => {\r\n                    return pre + (value < index ? 1 : 0);\r\n                }, 0)\r\n            );\r\n        } else {\r\n            return index;\r\n        }\r\n    }\r\n\r\n    protected changed(): void {\r\n        if (this.onChange) {\r\n            this.onChange(this.time.text);\r\n        }\r\n    }\r\n\r\n    protected touched(): void {\r\n        if (this.onTouch) {\r\n            this.onTouch();\r\n        }\r\n    }\r\n\r\n    private setClassMap(): void {\r\n        this.updateCls.updateHostClass(this.element.nativeElement, {\r\n            [`${this.prefixCls}`]: true,\r\n            [`${this.prefixCls}-column-${this.enabledColumns}`]: this\r\n                .inDatePicker\r\n                ? false\r\n                : true,\r\n            [`${this.prefixCls}-narrow`]: this.enabledColumns < 3,\r\n            [`${this.prefixCls}-placement-bottomLeft`]: this.inDatePicker\r\n                ? false\r\n                : true\r\n        });\r\n    }\r\n\r\n    isSelectedHour(hour: { index: number; disabled: boolean }): boolean {\r\n        return (\r\n            hour.index === this.time.viewHours ||\r\n            (!isNotNil(this.time.viewHours) &&\r\n                hour.index === this.time.defaultViewHours)\r\n        );\r\n    }\r\n\r\n    isSelectedMinute(minute: { index: number; disabled: boolean }): boolean {\r\n        return (\r\n            minute.index === this.time.minutes ||\r\n            (!isNotNil(this.time.minutes) &&\r\n                minute.index === this.time.defaultMinutes)\r\n        );\r\n    }\r\n\r\n    isSelectedSecond(second: { index: number; disabled: boolean }): boolean {\r\n        return (\r\n            second.index === this.time.seconds ||\r\n            (!isNotNil(this.time.seconds) &&\r\n                second.index === this.time.defaultSeconds)\r\n        );\r\n    }\r\n\r\n    isSelected12Hours(value: { index: number; value: string }): boolean {\r\n        return (\r\n            value.value.toUpperCase() === this.time.selected12Hours ||\r\n            (!isNotNil(this.time.selected12Hours) &&\r\n                value.value.toUpperCase() === this.time.default12Hours)\r\n        );\r\n    }\r\n\r\n    initPosition(): void {\r\n        // setTimeout(() => {\r\n        if (this.hourEnabled && this.hourListElement) {\r\n            if (isNotNil(this.time.viewHours)) {\r\n                this.scrollToSelected(\r\n                    this.hourListElement.nativeElement,\r\n                    this.time.viewHours!,\r\n                    0,\r\n                    'hour'\r\n                );\r\n            } else {\r\n                this.scrollToSelected(\r\n                    this.hourListElement.nativeElement,\r\n                    this.time.defaultViewHours,\r\n                    0,\r\n                    'hour'\r\n                );\r\n            }\r\n        }\r\n        if (this.minuteEnabled && this.minuteListElement) {\r\n            if (isNotNil(this.time.minutes)) {\r\n                this.scrollToSelected(\r\n                    this.minuteListElement.nativeElement,\r\n                    this.time.minutes!,\r\n                    0,\r\n                    'minute'\r\n                );\r\n            } else {\r\n                this.scrollToSelected(\r\n                    this.minuteListElement.nativeElement,\r\n                    this.time.defaultMinutes,\r\n                    0,\r\n                    'minute'\r\n                );\r\n            }\r\n        }\r\n        if (this.secondEnabled && this.secondListElement) {\r\n            if (isNotNil(this.time.seconds)) {\r\n                this.scrollToSelected(\r\n                    this.secondListElement.nativeElement,\r\n                    this.time.seconds!,\r\n                    0,\r\n                    'second'\r\n                );\r\n            } else {\r\n                this.scrollToSelected(\r\n                    this.secondListElement.nativeElement,\r\n                    this.time.defaultSeconds,\r\n                    0,\r\n                    'second'\r\n                );\r\n            }\r\n        }\r\n        if (this.use12Hours && this.use12HoursListElement) {\r\n            const selectedHours = isNotNil(this.time.selected12Hours)\r\n                ? this.time.selected12Hours\r\n                : this.time.default12Hours;\r\n            const index = selectedHours === 'AM' ? 0 : 1;\r\n            this.scrollToSelected(\r\n                this.use12HoursListElement.nativeElement,\r\n                index,\r\n                0,\r\n                '12-hour'\r\n            );\r\n        }\r\n        // });\r\n    }\r\n\r\n    constructor(\r\n        public element: ElementRef,\r\n        private updateCls: UpdateCls,\r\n        public cdr: ChangeDetectorRef\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        if (this.inDatePicker) {\r\n            this.prefixCls = 'calendar-time-picker';\r\n        }\r\n\r\n        this.time.changes.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\r\n            const dateObj = {\r\n                hours: this.time.hours,\r\n                minutes: this.time.minutes,\r\n                seconds: this.time.seconds\r\n            };\r\n            this.time.text = convertToStr(\r\n                this.time.value,\r\n                this.format,\r\n                this.time.selected12Hours\r\n            );\r\n            this.changed();\r\n            this.touched();\r\n            this.valueChange.emit(this.time.text);\r\n        });\r\n        this.buildTimes();\r\n        this.setClassMap();\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        if (this.opened) {\r\n            this.initPosition();\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.unsubscribe$.next();\r\n        this.unsubscribe$.complete();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        const { use12Hours } = changes;\r\n        if (\r\n            use12Hours &&\r\n            !use12Hours.previousValue &&\r\n            use12Hours.currentValue\r\n        ) {\r\n            this.build12Hours();\r\n            this.enabledColumns++;\r\n        }\r\n    }\r\n\r\n    writeValue(value: string): void {\r\n        this.time.text = value;\r\n        const _value = convertToDate(this.time.text, this.format);\r\n        this.time.setValue(_value, this.use12Hours);\r\n        if (value && this.opened) {\r\n            this.initPosition();\r\n        }\r\n        this.buildTimes();\r\n        this.cdr.markForCheck();\r\n    }\r\n\r\n    registerOnChange(fn: (value: string) => void): void {\r\n        this.onChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn: () => void): void {\r\n        this.onTouch = fn;\r\n    }\r\n\r\n    hmsCls(v, type) {\r\n        let cls = '';\r\n        const selected = ` ${this.prefixCls}-select-option-selected `;\r\n        const disabledC = ` ${this.prefixCls}-select-option-disabled `;\r\n\r\n        let f = false;\r\n        if (type === 'h') {\r\n            f = this.isSelectedHour(v);\r\n        } else if (type === 'm') {\r\n            f = this.isSelectedMinute(v);\r\n        } else if (type === 'r') {\r\n            f = this.isSelected12Hours(v);\r\n        } else {\r\n            f = this.isSelectedSecond(v);\r\n        }\r\n\r\n        if (f) {\r\n            cls += selected;\r\n        }\r\n\r\n        if (type === 'r') {\r\n            return cls;\r\n        }\r\n\r\n        if (v.disabled) {\r\n            cls += disabledC;\r\n        }\r\n        return cls;\r\n    }\r\n\r\n    trackByItems = (index, item) => {\r\n        return index;\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { LocaleService } from '@farris/ui-locale';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class TimePickerLocaleService {\r\n    private localeConfig = {\r\n        'ZH_CN' : {\r\n            placeholder: ''\r\n        },\r\n        'EN_US' : {\r\n            placeholder: 'Please select a time'\r\n        }\r\n    };\r\n    constructor(private localeService: LocaleService) {}\r\n    public getLocaleConfig() {\r\n        const locale = this.localeService.getValue('locale');\r\n        if (locale && this.localeConfig[locale]) {\r\n            return this.localeConfig[locale];\r\n        } else {\r\n            return this.localeConfig.ZH_CN;\r\n        }\r\n    }\r\n}\r\n","import {\r\n    AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnChanges,\r\n    OnInit, Output, Renderer2, SimpleChanges, TemplateRef, ViewChild, ViewEncapsulation, HostBinding,\r\n    ComponentRef, ViewContainerRef, ComponentFactoryResolver, HostListener, Injector\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { UpdateHostClassService as UpdateCls } from './services/update-host-class.service';\r\nimport { slideMotion } from './animations/slide';\r\nimport { toBoolean, convertToDate, convertToStr } from './utils/convert';\r\nimport { TimePickerPanelComponent } from './time-picker-panel.component';\r\nimport { TimePickerLocaleService } from './services/time-picker.locale.service';\r\n\r\nlet num = 0;\r\n@Component({\r\n    encapsulation: ViewEncapsulation.None,\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    // tslint:disable-next-line:component-selector\r\n    selector: 'farris-time-picker',\r\n    exportAs: 'timePicker',\r\n    // styleUrls: ['./style/index.scss'],\r\n    templateUrl: './time-picker.component.html',\r\n    animations: [slideMotion],\r\n    providers: [\r\n        UpdateCls,\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: TimePickerComponent,\r\n            multi: true\r\n        }\r\n    ]\r\n})\r\nexport class TimePickerComponent implements ControlValueAccessor, OnInit, AfterViewInit, OnChanges {\r\n    @ViewChild('timeInput')\r\n    public timeInput: ElementRef;\r\n\r\n    @HostBinding('class.f-component-timepicker') hostCls = true;\r\n    private _disabled = false;\r\n    private _readonly = false;\r\n    private _editable = true;\r\n    private _value: string;\r\n    private _allowEmpty = true;\r\n    private _autoFocus = false;\r\n    private _onChange: (value: string) => void;\r\n    private _onTouched: (value: string) => void;\r\n    private _hideDisabledOptions = false;\r\n    private cRef: ComponentRef<TimePickerPanelComponent> = null;\r\n    isInit = false;\r\n    groupIcon = '<i class=\"f-icon f-icon-timepicker\"></i>';\r\n\r\n    @HostBinding('style.display') display = 'block';\r\n    @Input() hourStep = 1;\r\n    @Input() minuteStep = 1;\r\n    @Input() secondStep = 1;\r\n    @Input() clearText = 'clear';\r\n    @Input() popupClassName = '';\r\n    @Input() placeholder;\r\n    @Input() addOn: TemplateRef<void>;\r\n    @Input() defaultOpenValue = new Date();\r\n    @Input() disabledHours: () => number[];\r\n    @Input() disabledMinutes: (hour: number) => number[];\r\n    @Input() disabledSeconds: (hour: number, minute: number) => number[];\r\n    @Input() format = 'HH:mm:ss';\r\n    @Input() isOpen = false;\r\n    @Input()\r\n    set use12Hours(value: boolean) {\r\n        this._use12Hours = !!value;\r\n        if (value && this.format) {\r\n            this.format = this.format.replace(/H/g, 'h');\r\n        } else if (!value && this.format) {\r\n            this.format = this.format.replace(/h/g, 'H');\r\n        }\r\n\r\n        if (this._use12Hours) {\r\n            if (!this.format || this.format.indexOf('a') === -1 ) {\r\n                this.format = 'hh:mm:ss a';\r\n            }\r\n        }\r\n\r\n    }\r\n    get use12Hours(): boolean {\r\n        return this._use12Hours;\r\n    }\r\n    @Output() readonly openChange = new EventEmitter<boolean>();\r\n    @Output() valueChange = new EventEmitter<string>();\r\n    @Output() clear = new EventEmitter();\r\n\r\n    @Input()\r\n    set hideDisabledOptions(value: boolean) {\r\n        this._hideDisabledOptions = toBoolean(value);\r\n    }\r\n\r\n    get hideDisabledOptions(): boolean {\r\n        return this._hideDisabledOptions;\r\n    }\r\n\r\n    @Input()\r\n    set allowEmpty(value: boolean) {\r\n        this._allowEmpty = toBoolean(value);\r\n    }\r\n\r\n    get allowEmpty(): boolean {\r\n        return this._allowEmpty;\r\n    }\r\n\r\n    @Input()\r\n    set autoFocus(value: boolean) {\r\n        this._autoFocus = toBoolean(value);\r\n        this.updateAutoFocus();\r\n    }\r\n\r\n    get autoFocus(): boolean {\r\n        return this._autoFocus;\r\n    }\r\n\r\n    @Input()\r\n    set disabled(value: boolean | string) {\r\n        this._disabled = toBoolean(value);\r\n    }\r\n\r\n    get disabled(): boolean | string {\r\n        return this._disabled;\r\n    }\r\n    @Input()\r\n    set readonly(value: boolean | string) {\r\n        this._readonly = toBoolean(value);\r\n    }\r\n\r\n    get readonly(): boolean | string {\r\n        return this._readonly;\r\n    }\r\n    @Input()\r\n    set editable(value: boolean | string) {\r\n        this._editable = toBoolean(value);\r\n    }\r\n\r\n    get editable(): boolean | string {\r\n        return this._editable;\r\n    }\r\n\r\n    set value(value: string) {\r\n        this._value = value;\r\n        if (this._onChange) {\r\n            this._onChange(this.value);\r\n        }\r\n    }\r\n\r\n    get value(): string {\r\n        return this._value;\r\n    }\r\n\r\n    private _use12Hours = false;\r\n    private overlayRef: Element;\r\n    private overlayPanelRef: Element;\r\n    private documentClickEvent: any;\r\n    private changeFlag = false;\r\n\r\n    constructor(\r\n        private element: ElementRef,\r\n        private renderer: Renderer2,\r\n        private vcRef: ViewContainerRef,\r\n        private cfr: ComponentFactoryResolver,\r\n        public cdr: ChangeDetectorRef,\r\n        private localeService: TimePickerLocaleService\r\n    ) {\r\n        if (this.localeService) {\r\n            const localConfig = this.localeService.getLocaleConfig();\r\n            this.placeholder = this.placeholder !== undefined ?\r\n                this.placeholder :\r\n                localConfig.placeholder ? localConfig.placeholder : '';\r\n        }\r\n    }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        const { use12Hours} = changes;\r\n        if (use12Hours && (!this.format || this.format.indexOf('a') === -1 )) {\r\n            this.format = 'hh:mm:ss a';\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        this.isInit = true;\r\n        this.updateAutoFocus();\r\n        if (!document.body.querySelector('.time-picker-overlay')) {\r\n            this.overlayRef = this.renderer.createElement('div');\r\n            this.overlayPanelRef = this.renderer.createElement('div');\r\n            this.renderer.addClass(this.overlayRef, 'time-picker-overlay');\r\n            this.renderer.addClass(\r\n                this.overlayPanelRef,\r\n                `overlay-panel-${num++}`\r\n            );\r\n            this.renderer.appendChild(this.overlayRef, this.overlayPanelRef);\r\n            document.body.appendChild(this.overlayRef);\r\n\r\n        } else {\r\n            this.overlayRef = document.body.querySelector(\r\n                '.time-picker-overlay'\r\n            );\r\n            this.overlayPanelRef = this.renderer.createElement('div');\r\n            this.renderer.addClass(\r\n                this.overlayPanelRef,\r\n                `overlay-panel-${num++}`\r\n            );\r\n            this.renderer.appendChild(this.overlayRef, this.overlayPanelRef);\r\n\r\n        }\r\n\r\n        this.overlayRef.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        this.timeInput.nativeElement.addEventListener('blur', () => {\r\n            this.onBlur();\r\n        });\r\n    }\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngOnDestroy(): void {\r\n        this.timeInput.nativeElement.removeEventListener('blur', this.onBlur);\r\n    }\r\n\r\n    @HostListener('mouseenter', ['$event'])\r\n    onMouseEnter(event) {\r\n        if (\r\n            this.timeInput.nativeElement.value &&\r\n            !this.readonly &&\r\n            !this.disabled\r\n        ) {\r\n            event.target.querySelector('.input-group-clear').style.display = '';\r\n        }\r\n    }\r\n\r\n    @HostListener('mouseleave', ['$event'])\r\n    onMouseLeave(event) {\r\n        if (!this.readonly && !this.disabled) {\r\n            event.target.querySelector('.input-group-clear').style.display = 'none';\r\n        }\r\n    }\r\n\r\n\r\n    open(event: MouseEvent) {\r\n        event.stopPropagation();\r\n\r\n        if (this.disabled || (!this.editable && this.readonly)) {\r\n            return;\r\n        }\r\n\r\n        if (this.isOpen) {\r\n            this.close();\r\n            return;\r\n        }\r\n\r\n        this.creatPanel();\r\n        this.isOpen = true;\r\n        this.openChange.emit(this.isOpen);\r\n        this.renderer.appendChild(\r\n            this.overlayPanelRef,\r\n            this.cRef.location.nativeElement\r\n        );\r\n\r\n        this.renderer.setStyle(this.overlayRef, 'display', 'block');\r\n        this.documentClickEvent = this.registerMouseDownEvent();\r\n\r\n        setTimeout(() => {\r\n            this.setPosition();\r\n            this.renderer.addClass(this.cRef.location.nativeElement, 'f-area-show');\r\n        }, 10);\r\n    }\r\n\r\n    close(): void {\r\n        this.isOpen = false;\r\n        this.cRef.instance.opened = false;\r\n        this.renderer.removeClass(this.cRef.location.nativeElement, 'f-area-show');\r\n        while (this.overlayPanelRef.lastChild) {\r\n            this.overlayPanelRef.removeChild(this.overlayPanelRef.lastChild);\r\n        }\r\n        this.openChange.emit(this.isOpen);\r\n        this.focus();\r\n        this.removeDocumentListener();\r\n\r\n        if (this.cRef) {\r\n            this.cRef.destroy();\r\n            this.cRef = null;\r\n        }\r\n    }\r\n\r\n    private registerMouseDownEvent() {\r\n        const mousedownEvent = (e) => {\r\n            if (e.target === this.overlayPanelRef.parentElement) {\r\n                this.renderer.setStyle(this.overlayRef, 'display', 'none');\r\n                this.close();\r\n            }\r\n        };\r\n        document.body.addEventListener('mousedown', mousedownEvent, true);\r\n        document.body.addEventListener('mousewheel', mousedownEvent, true);\r\n\r\n        return () => {\r\n            document.body.removeEventListener('mousedown', mousedownEvent, true);\r\n            document.body.removeEventListener('mousewheel', mousedownEvent, true);\r\n        };\r\n    }\r\n\r\n    private removeDocumentListener() {\r\n        if (this.documentClickEvent) {\r\n            this.documentClickEvent();\r\n            this.documentClickEvent = null;\r\n        }\r\n    }\r\n    creatPanel() {\r\n        if (this.cRef === null) {\r\n            this.vcRef.clear();\r\n            this.cRef = this.vcRef.createComponent(\r\n                this.cfr.resolveComponentFactory(TimePickerPanelComponent)\r\n            );\r\n\r\n            this.cRef.location.nativeElement.classList.add('f-area-hide');\r\n\r\n            // grid\r\n            this.cRef.changeDetectorRef.detectChanges();\r\n\r\n            this.cRef.instance.format = this.format;\r\n            this.cRef.instance.hourStep = this.hourStep;\r\n            this.cRef.instance.minuteStep = this.minuteStep;\r\n            this.cRef.instance.secondStep = this.secondStep;\r\n            this.cRef.instance.disabledHours = this.disabledHours;\r\n            this.cRef.instance.disabledMinutes = this.disabledMinutes;\r\n            this.cRef.instance.disabledSeconds = this.disabledSeconds;\r\n            this.cRef.instance.hideDisabledOptions = this.hideDisabledOptions;\r\n            this.cRef.instance.use12Hours = this.use12Hours;\r\n            this.cRef.instance.opened = this.isOpen;\r\n            this.cRef.instance.defaultOpenValue = this.defaultOpenValue;\r\n            this.cRef.instance.value = this.value;\r\n            this.cRef.instance.valueChange.subscribe((val: string) => {\r\n                this.value = val;\r\n                this.cdr.detectChanges();\r\n                this.valueChange.emit(val);\r\n            });\r\n        } else {\r\n            this.cRef.instance.value = this.value;\r\n        }\r\n    }\r\n\r\n    setPosition() {\r\n        const {\r\n            top: elTop,\r\n            left: elLeft,\r\n            height: elHeight,\r\n            width: elWidth\r\n        } = this.element.nativeElement.getBoundingClientRect();\r\n\r\n        const panelHeight = 194;\r\n        if (elTop + panelHeight + 30 > window.innerHeight) {\r\n            this.renderer.setStyle(this.cRef.location.nativeElement, 'top', `${elTop - panelHeight}px`);\r\n        } else {\r\n            this.renderer.setStyle(this.cRef.location.nativeElement, 'top', `${elTop + elHeight}px`);\r\n        }\r\n\r\n        const panelWidth = this.cRef.instance.panelWidth;\r\n\r\n        if (window.innerWidth - elLeft < panelWidth) {\r\n            const r = window.innerWidth - elLeft - elWidth;\r\n            this.renderer.setStyle(this.cRef.location.nativeElement, 'right', `${r}px`);\r\n        } else {\r\n            this.renderer.setStyle(this.cRef.location.nativeElement, 'left', `${elLeft}px`);\r\n        }\r\n\r\n        this.cRef.instance.opened = true;\r\n    }\r\n\r\n    updateAutoFocus(): void {\r\n    }\r\n\r\n    onClickClearBtn(): void {\r\n        this.value = null;\r\n        this.cRef.instance.time.clear();\r\n    }\r\n\r\n    focus(): void {\r\n        if (this.timeInput.nativeElement) {\r\n            this.timeInput.nativeElement.focus();\r\n        }\r\n    }\r\n\r\n    blur(): void {\r\n        if (this.timeInput.nativeElement) {\r\n            this.timeInput.nativeElement.blur();\r\n        }\r\n    }\r\n    onBlur(): void {\r\n        if (this.value) {\r\n            const date = convertToDate(this.value, this.format);\r\n            if (this.cRef) {\r\n                this.cRef.instance.value = this.value;\r\n            }\r\n            this.value = convertToStr(date, this.format);\r\n            if (this.changeFlag) {\r\n                this.valueChange.emit(this.value);\r\n                this.changeFlag = false;\r\n            }\r\n            if (this._onTouched) {\r\n                this._onTouched(this.value);\r\n            }\r\n        }\r\n    }\r\n    onValueChange(val: string) {\r\n        this.changeFlag = true;\r\n    }\r\n    onClear() {\r\n        this.clear.emit();\r\n        this.value = '';\r\n        if (this.cRef && this.cRef.instance) {\r\n            this.cRef.instance.time.clear();\r\n        }\r\n        if (this._onTouched) {\r\n            this._onTouched(this.value);\r\n        }\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n\r\n\r\n\r\n    writeValue(time: string): void {\r\n        this._value = time;\r\n        this.cdr.markForCheck();\r\n    }\r\n\r\n    registerOnChange(fn: (time: string) => void): void {\r\n        this._onChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn: (time: string) => void): void {\r\n        this._onTouched = fn;\r\n    }\r\n\r\n    setDisabledState(isDisabled: boolean): void {\r\n        this.disabled = isDisabled;\r\n        this.cdr.markForCheck();\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { TimePickerPanelComponent } from './time-picker-panel.component';\r\nimport { TimePickerComponent } from './time-picker.component';\r\nimport { TimeValueAccessorDirective } from './time-value-accessor.directive';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        TimePickerComponent,\r\n        TimePickerPanelComponent,\r\n        TimeValueAccessorDirective\r\n    ],\r\n    entryComponents: [TimePickerPanelComponent],\r\n    exports: [TimePickerPanelComponent, TimePickerComponent],\r\n    imports: [CommonModule, FormsModule]\r\n})\r\nexport class TimePickerModule {}\r\n"]}