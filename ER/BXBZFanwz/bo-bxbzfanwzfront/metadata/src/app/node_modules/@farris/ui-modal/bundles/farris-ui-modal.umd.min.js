!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("@angular/platform-browser"),require("@farris/ui-modal/utils"),require("@angular/core"),require("@angular/common"),require("@farris/ui-perfect-scrollbar"),require("@farris/ui-draggable"),require("@farris/ui-modal/positioning"),require("@farris/ui-modal/component-loader"),require("@farris/ui-area-response")):"function"==typeof define&&define.amd?define("@farris/ui-modal",["exports","rxjs","@angular/platform-browser","@farris/ui-modal/utils","@angular/core","@angular/common","@farris/ui-perfect-scrollbar","@farris/ui-draggable","@farris/ui-modal/positioning","@farris/ui-modal/component-loader","@farris/ui-area-response"],t):t((e.farris=e.farris||{},e.farris["ui-modal"]={}),e.rxjs,e.ng.platformBrowser,e.farris["ui-modal"].utils,e.ng.core,e.ng.common,e.uiPerfectScrollbar,e.uiDraggable,e.farris["ui-modal"].positioning,e.farris["ui-modal"]["component-loader"],e.uiAreaResponse)}(this,function(e,t,i,o,r,n,s,a,l,d,h){"use strict";var c=(p.decorators=[{type:r.Injectable}],p);function p(){this.close=Function}var u=(g.decorators=[{type:r.Injectable}],g);function g(){}var f={backdrop:"static",keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!0,"class":"",animated:!0,initialState:{},width:400,height:350,minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,title:"Title is here.",showCloseButton:!0,showMaxButton:!0,showButtons:!0,buttonAlign:"center",draggable:!0,resizable:!0,enableScroll:!0,beforeOpen:function(){return t.of(!0)},beforeClose:function(){return t.of(!0)},okText:"确定",cancelText:"取消",dialogHeaderHeight:38,dialogFooterHeight:50,dialogType:"default",showHeader:!0,fitContent:!1,areaResponse:!1},m={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in",SHOW:"show"},y=300,b=150,v="backdrop-click",w="esc",S=(Object.defineProperty(_.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(e){this._isAnimated=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"isShown",{get:function(){return this._isShown},set:function(e){(this._isShown=e)?this.renderer.addClass(this.element.nativeElement,""+m.IN):this.renderer.removeClass(this.element.nativeElement,""+m.IN),o.isBs3()||(e?this.renderer.addClass(this.element.nativeElement,""+m.SHOW):this.renderer.removeClass(this.element.nativeElement,""+m.SHOW))},enumerable:!0,configurable:!0}),_.prototype.ngOnInit=function(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,""+m.FADE),o.Utils.reflow(this.element.nativeElement)),this.isShown=!0},_.decorators=[{type:r.Component,args:[{selector:"bs-modal-backdrop",template:" ",host:{"class":m.BACKDROP}}]}],_.ctorParameters=function(){return[{type:r.ElementRef},{type:r.Renderer2}]},_);function _(e,t){this._isShown=!1,this.element=e,this.renderer=t}var E=function(){return(E=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},C=(k.prototype.setDisabled=function(e){this.el.nativeElement.disabled=e},k.prototype.show=function(){this.visable=!0},k.prototype.hide=function(){this.visable=!1},k.decorators=[{type:r.Directive,args:[{selector:"[modal-button]"}]}],k.ctorParameters=function(){return[{type:r.Injector},{type:r.ElementRef}]},k.propDecorators={visable:[{type:r.Input}]},k);function k(e,t){this.injector=e,this.el=t,this.visable=!0}var M=(Object.defineProperty(B.prototype,"iframe",{set:function(e){this.sanitizer&&(this.iframeSrc=this.sanitizer.bypassSecurityTrustResourceUrl(e))},enumerable:!0,configurable:!0}),B.prototype.ngOnInit=function(){var e=this;this.boundsElement=this.el.nativeElement,this.config.fitContent&&this._renderer.addClass(this.el.nativeElement,"f-modal-fitContent"),this.isAnimated&&this._renderer.addClass(this.el.nativeElement,m.FADE),setTimeout(function(){e.isShown=!0,e._renderer.addClass(e.el.nativeElement,o.isBs3()?m.IN:m.SHOW),e._renderer.setStyle(e.el.nativeElement,"display","block"),e.config.fitContent&&-1<e.el.nativeElement.className.indexOf("f-modal-fitContent-scroll")&&(e.el.nativeElement.scrollTop=0),document&&document.body&&(1===e.bsModalService.getModalsCount()&&(e.bsModalService.checkScrollbar(),e.bsModalService.setScrollbar()),document.body.classList.contains(m.OPEN)||e._renderer.addClass(document.body,m.OPEN)),e.opened.emit({modal:e})},this.isAnimated?b:0),this.el.nativeElement&&this.el.nativeElement.focus(),this.dlgHeaderLineHeight=this.getDialogHeaderLineHeight()+"px"},B.prototype.ngAfterViewInit=function(){if(this._renderer.setStyle(this.el.nativeElement,"display","block"),this.config.fitContent){var e=this.el.nativeElement.getBoundingClientRect(),t=this.getContainerSize();e.height<t.height+30&&this._renderer.addClass(this.el.nativeElement,"f-modal-fitContent-scroll")}},B.prototype.getDialogHeaderLineHeight=function(){if(this.config.showHeader){var e=window.getComputedStyle(this.modalHeader.nativeElement),t=parseInt(e.paddingTop.replace("px",""),10),i=parseInt(e.paddingBottom.replace("px",""),10);return this.config.dialogHeaderHeight-t-i}return 0},B.prototype.getContainerSize=function(){var e=this.el.nativeElement.querySelector(".modal-body"),t=e.offsetHeight;return{width:e.offsetWidth,height:t}},B.prototype.buildFooterStyles=function(){var e={};return this.config.dialogFooterStyles&&(e=Object.assign({},e,this.config.dialogFooterStyles)),e},B.prototype.useButtonsTemplate=function(){return this.config.buttons instanceof r.TemplateRef},B.prototype.onClick=function(e){e.target,this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this.el.nativeElement?e.stopPropagation():(this.bsModalService.setDismissReason(v),this.close())},B.prototype.onEsc=function(e){this.isShown&&(27===e.keyCode&&e.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason(w),this.close(e)))},B.prototype.ngOnDestroy=function(){this.isShown&&this.close()},B.prototype.close=function(t,i){var n=this;void 0===i&&(i=!1),t&&t.stopPropagation&&t.stopPropagation(),!this.isModalHiding&&this.isShown&&this.config.beforeClose(this,{event:t}).subscribe(function(e){if(!e)return!1;n.isModalHiding=!0,n._renderer.removeClass(n.el.nativeElement,o.isBs3()?m.IN:m.SHOW),setTimeout(function(){n.isShown=!1,document&&document.body&&1===n.bsModalService.getModalsCount()&&n._renderer.removeClass(document.body,m.OPEN),n.bsModalService.hide(n.level),n.isModalHiding=!1,n.config.closed&&n.config.closed(i,{modalRef:n,event:t}),n.closed.emit(n.level)},n.isAnimated?y:0)})},B.prototype.toCenter=function(){var n=this,e=Number.parseInt(""+-this.config.width/2)+"px",t=Number.parseInt(""+-this.config.height/2)+"px",i=this.el.nativeElement.querySelector(".modal-dialog"),o=this.el.nativeElement.querySelector(".modal-body");this._renderer.setStyle(i,"margin-left",e),this._renderer.setStyle(i,"margin-top",t);var s=this.config.height-38;this.config.showButtons&&(s-=50),this.config.fitContent||this._renderer.setStyle(o,"height",s+"px"),this._renderer.setStyle(o,"overflow","hidden"),this._renderer.setStyle(i,"transform","translate3d(0px, 0px, 0px)"),setTimeout(function(){var e=n.getContainerSize(),t=e.width,i=e.height;n.resized.emit({width:n.config.width,height:n.config.height,containerWidth:t,containerHeight:i})})},B.prototype.moveTo=function(e,t){var i=this.el.nativeElement.querySelector(".modal-dialog");this._renderer.setStyle(i,"transform","translate3d("+e+"px, "+t+"px, 0px)"),this.draggbar.position={x:e,y:t},this.draggbar.resetPosition()},B.prototype.maxDialog=function(){this.originalWidth=this.config.width,this.originalHeight=this.config.height,this.config.width=(document.scrollingElement?document.scrollingElement:document.documentElement).clientWidth-20,this.config.height=(document.scrollingElement?document.scrollingElement:document.documentElement).clientHeight-20,this.config.draggable=!1,this.config.resizable=!1;var e=this.el.nativeElement.querySelector(".modal-dialog");this._renderer.addClass(e,"model-dialog-maximize"),this._renderer.setStyle(e,"top","50%"),this._renderer.setStyle(e,"left","50%"),this.isMax=!0,this.toCenter()},B.prototype.dropdown=function(e){},B.prototype.revertDialog=function(){this.isMax=!1,this.config.width=this.originalWidth,this.config.height=this.originalHeight,this.config.draggable=!0,this.config.resizable=!0;var e=this.el.nativeElement.querySelector(".modal-dialog");this._renderer.removeClass(e,"model-dialog-maximize"),this.toCenter(),this.draggbar.resetPosition()},B.prototype.changeDialogSize=function(){this.isMax?this.revertDialog():this.maxDialog()},B.prototype.resizeStop=function(e){console.log("resizeStop"),this.config.width=e.size.width,this.config.height=e.size.height;var t=this.getContainerSize(),i=t.width,n=t.height;this.resized.emit(E({},e.size,{containerWidth:i,containerHeight:n}))},B.decorators=[{type:r.Component,args:[{selector:"modal-container",template:'\n    <div [attr.id]="modalID"\n\n        [ngDraggable]="config.draggable"\n        [ngResizable]="config.resizable"\n        [rzMinWidth]="config.minWidth"\n        [rzMaxWidth]="config.maxWidth"\n        [rzMinHeight]="config.minHeight"\n        [rzMaxHeight]="config.maxHeight"\n        rzHandles="all" [handle]="config.showHeader ? header:dragEl"\n        (stopped)="dropdown($event)"\n        (rzStop)="resizeStop($event)"\n        [inBounds]="true" [bounds]="boundsElement"\n        [class]="\'modal-dialog\' + (config.class ? \' \' + config.class : \'\')" role="document"\n        [style.width]="config.width + \'px\'" [style.height]="config.fitContent?\'auto\':(config.height + \'px\')"\n        style="position: absolute;top: 50%;left: 50%;">\n        <div class="modal-content" [ngClass]="{\'modal-content--has-header\':config.showHeader}">\n            <div #header class="modal-header" [style.display]="config.showHeader ? \'\': \'none\'">\n                <div class="modal-title">\n                    <span *ngIf="config.iconCls" [class]="config.iconCls" style="margin-right: 8px"></span>\n                    <span class="modal-title-label">{{ config.title }}</span>\n                </div>\n                <div class="actions">\n                    <ul>\n                        <li *ngIf="config.showMinButton" class="f-btn-icon f-bare">\n                            <span class="f-icon modal_minimize"></span></li>\n                        <li *ngIf="config.showMaxButton" (click)="changeDialogSize()" class="f-btn-icon f-bare">\n                            <span class="f-icon modal_maximize" [class.modalrevert]="isMax"></span>\n                        </li>\n                        <li *ngIf="config.showCloseButton" (click)="close($event, true)" class="f-btn-icon f-bare">\n                             <span class="f-icon modal_close"></span>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        <div #dragEl class="f-utils-absolute-all" style="height:10px;z-index: 1;" [style.display]="config.showHeader ? \'none\': \'\'"></div>\n            <div class="modal-body" [class.f-utils-flex-column]="dialogType === \'iframe\'"   [f-area-response]="config.areaResponse">\n                <perfect-scrollbar [config]="{}" [disabled]="!config.enableScroll||config.fitContent"  *ngIf="!dialogType || dialogType === \'default\'">\n                    <ng-content ></ng-content>\n                </perfect-scrollbar>\n                <iframe *ngIf="dialogType === \'iframe\'" class="f-utils-fill" width="100%" frameborder="0" [src]="iframeSrc"></iframe>\n            </div>\n\n            <div [style.textAlign]="config.buttonAlign" class="modal-footer"\n                [ngStyle]="buildFooterStyles()"\n                *ngIf="config.showButtons && config.buttons">\n                <ng-container [ngTemplateOutlet]="useButtonsTemplate() ? config.buttons : defaultButtonRef"></ng-container>\n            </div>\n        </div>\n    </div>\n\n    <ng-template #defaultButtonRef>\n        <button type="button" modal-button\n            *ngFor="let btn of config.buttons; last as isLast" [class]="btn.cls"\n            (click)="btn.handle && btn.handle($event) ">\n            <span [class]="btn.iconCls" *ngIf="btn.iconCls"></span> {{ btn.text }}\n        </button>\n    </ng-template>\n  ',host:{"class":"modal farris-modal",role:"dialog",tabindex:"-1","[attr.aria-modal]":"true"}}]}],B.ctorParameters=function(){return[{type:u},{type:r.ElementRef},{type:r.Renderer2},{type:i.DomSanitizer}]},B.propDecorators={iframe:[{type:r.Input}],draggbar:[{type:r.ViewChild,args:[a.AngularDraggableDirective]}],modalHeader:[{type:r.ViewChild,args:["header"]}],closed:[{type:r.Output}],opened:[{type:r.Output}],resized:[{type:r.Output}],modalID:[{type:r.HostBinding,args:["id"]}],buttons:[{type:r.ViewChildren,args:[C]}],onClick:[{type:r.HostListener,args:["click",["$event"]]}],onEsc:[{type:r.HostListener,args:["window:keydown.esc",["$event"]]}]},B);function B(e,t,i,n){var o=this;this.el=t,this._renderer=i,this.sanitizer=n,this.isShown=!1,this.isModalHiding=!1,this.isMax=!1,this.closed=new r.EventEmitter,this.opened=new r.EventEmitter,this.resized=new r.EventEmitter,this.modalID="MODALID_"+Date.now().toPrecision(),this.config=Object.assign({},e),this.config.buttons||(this.config.buttons=[{text:"确定",cls:"btn btn-primary",iconCls:"k-icon k-i-check",handle:function(){alert("好(｡･∀･)ﾉﾞ嗨哟!!")}},{text:"取消",cls:"btn btn-light",iconCls:"k-icon k-i-close",handle:function(){o.close()}}])}var R=(H.prototype.show=function(e,t){return this.modalsCount++,this._createLoaders(),this.config=Object.assign({},f,t),this.checkDialogSize(),this._showBackdrop(),this.lastDismissReason=null,this._showModal(e)},H.prototype.hide=function(e){1===this.modalsCount&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=1<=this.modalsCount?this.modalsCount-1:0,this._hideModal(e),this.removeLoaders(e)},H.prototype._showBackdrop=function(){var e=this.config.backdrop||"static"===this.config.backdrop,t=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),e&&t&&(this._backdropLoader.attach(S).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))},H.prototype._hideBackdrop=function(){var e=this;if(this.backdropRef){this.backdropRef.instance.isShown=!1;var t=this.config.animated?b:0;this.ngZone.runOutsideAngular(function(){setTimeout(function(){return e.removeBackdrop()},t)})}},H.prototype._showModal=function(e){var t=this,i=this.loaders[this.loaders.length-1],n=new c,o=i.provide({provide:u,useValue:this.config}).provide({provide:c,useValue:n}).attach(M).to("body").show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this});return o.instance.level=this.getModalsCount(),o.instance.dialogType=this.config.dialogType,o.instance.iframe="","iframe"===this.config.dialogType&&(o.instance.iframe=e),n.close=function(e){o.instance.close(e)},this.config.fitContent||(o.instance.toCenter(),this.ngZone.runOutsideAngular(function(){document.body.addEventListener("mousedown",t._onMouseDown.bind(t))})),n.content=i.getInnerComponent()||null,n.dialog=o,n.buttons=o.instance.buttons,o.instance.modalRef=n,this.config.opened&&this.config.opened({instance:n}),n},H.prototype._onMouseDown=function(e){var t=this;if("modal-container"===e.target.localName||e.target.classList.contains("farris-modal"))return this._renderer.addClass(e.target,"animated"),this._renderer.addClass(e.target,"shake"),this.ngZone.runOutsideAngular(function(){setTimeout(function(){t._renderer.removeClass(e.target,"animated"),t._renderer.removeClass(e.target,"shake")},650)}),!1},H.prototype._hideModal=function(e){var t=this.loaders[e-1];t&&t.hide()},H.prototype.getModalsCount=function(){return this.modalsCount},H.prototype.getCurrentModalContainer=function(){return this.loaders[this.getModalsCount()-1]},H.prototype.setDismissReason=function(e){this.lastDismissReason=e},H.prototype.removeBackdrop=function(){this._backdropLoader.hide(),this.backdropRef=null},H.prototype.checkScrollbar=function(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()},H.prototype.setScrollbar=function(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+"px"))},H.prototype.resetScrollbar=function(){document.body.style.paddingRight=this.originalBodyPadding+"px"},H.prototype.getScrollbarWidth=function(){var e=this._renderer.createElement("div");this._renderer.addClass(e,m.SCROLLBAR_MEASURER),this._renderer.appendChild(document.body,e);var t=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(document.body,e),t},H.prototype._createLoaders=function(){var e=this.clf.createLoader(null,null,this._renderer);this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)},H.prototype.removeLoaders=function(e){this.loaders.splice(e-1,1),this.loaders.forEach(function(e,t){e.instance.level=t+1})},H.prototype.copyEvent=function(e,t){var i=this;e.subscribe(function(){t.emit(i.lastDismissReason)})},H.prototype.checkDialogSize=function(){var e=o.Utils.checkDialogSize(this.config.width,this.config.height);this.config.width!==e.width&&(this.config.width=e.width-20),this.config.height!==e.height&&(this.config.height=e.height-20)},H.decorators=[{type:r.Injectable}],H.ctorParameters=function(){return[{type:r.RendererFactory2},{type:d.ComponentLoaderFactory},{type:r.NgZone}]},H);function H(e,t,i){this.clf=t,this.ngZone=i,this.version="0.0.6",this.config=f,this.onShow=new r.EventEmitter,this.onShown=new r.EventEmitter,this.onHide=new r.EventEmitter,this.onHidden=new r.EventEmitter,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason="",this.loaders=[],this._renderer=e.createRenderer(null,null),this._backdropLoader=this.clf.createLoader(null,null,this._renderer)}var O=function z(e){this.animate=!0,Object.assign(this,e)},x=(Object.defineProperty(D.prototype,"config",{get:function(){return this._config},set:function(e){this._config=this.getConfig(e)},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"isShown",{get:function(){return this._isShown},enumerable:!0,configurable:!0}),D.prototype.onClick=function(e){e.target,this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement?e.stopPropagation():(this.dismissReason=v,this.hide(e))},D.prototype.onEsc=function(e){this._isShown&&(27===e.keyCode&&e.preventDefault(),this.config.keyboard&&(this.dismissReason=w,this.hide()))},D.prototype.ngOnDestroy=function(){this.config=void 0,this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())},D.prototype.ngOnInit=function(){var e=this;this._config=this._config||this.getConfig(),setTimeout(function(){e._config.show&&e.show()},0)},D.prototype.toggle=function(){return this._isShown?this.hide():this.show()},D.prototype.show=function(){var e=this;this.dismissReason=null,this.onShow.emit(this),this._isShown||(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),o.document&&o.document.body&&(o.document.body.classList.contains(m.OPEN)?this.isNested=!0:this._renderer.addClass(o.document.body,m.OPEN)),this.showBackdrop(function(){e.showElement()}))},D.prototype.hide=function(e){var t=this;e&&e.preventDefault(),this.onHide.emit(this),this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,m.IN),this._renderer.removeClass(this._element.nativeElement,m.SHOW),this._config.animated?this.timerHideModal=setTimeout(function(){return t.hideModal()},300):this.hideModal())},D.prototype.getConfig=function(e){return Object.assign({},f,e)},D.prototype.showElement=function(){var e=this;this._element.nativeElement.parentNode&&this._element.nativeElement.parentNode.nodeType===Node.ELEMENT_NODE||o.document&&o.document.body&&o.document.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&o.Utils.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,m.IN),this._renderer.addClass(this._element.nativeElement,m.SHOW);var t=function(){e._config.focus&&e._element.nativeElement.focus(),e.onShown.emit(e)};this._config.animated?setTimeout(t,300):t()},D.prototype.hideModal=function(){var e=this;this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(function(){e.isNested||(o.document&&o.document.body&&e._renderer.removeClass(o.document.body,m.OPEN),e.resetScrollbar()),e.resetAdjustments(),e.focusOtherModal(),e.onHidden.emit(e)})},D.prototype.showBackdrop=function(e){var t=this;if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;var i=function(){t.removeBackdrop(),e&&e()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=setTimeout(i,150):i()}else e&&e();else{if(this.removeBackdrop(),this._backdrop.attach(S).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!e)return;if(!this._config.animated)return void e();setTimeout(e,150)}},D.prototype.removeBackdrop=function(){this._backdrop.hide()},D.prototype.focusOtherModal=function(){if(null!=this._element.nativeElement.parentElement){var e=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");e.length&&e[e.length-1].focus()}},D.prototype.resetAdjustments=function(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")},D.prototype.checkScrollbar=function(){this.isBodyOverflowing=o.document.body.clientWidth<o.window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()},D.prototype.setScrollbar=function(){o.document&&(this.originalBodyPadding=parseInt(o.window.getComputedStyle(o.document.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(o.document.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+"px"))},D.prototype.resetScrollbar=function(){o.document.body.style.paddingRight=this.originalBodyPadding+"px"},D.prototype.getScrollbarWidth=function(){var e=this._renderer.createElement("div");this._renderer.addClass(e,m.SCROLLBAR_MEASURER),this._renderer.appendChild(o.document.body,e);var t=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(o.document.body,e),t},D.decorators=[{type:r.Directive,args:[{selector:"[bsModal]",exportAs:"bs-modal"}]}],D.ctorParameters=function(){return[{type:r.ElementRef},{type:r.ViewContainerRef},{type:r.Renderer2},{type:d.ComponentLoaderFactory},{type:r.NgZone},{type:r.ChangeDetectorRef,decorators:[{type:r.Optional}]}]},D.propDecorators={config:[{type:r.Input}],onShow:[{type:r.Output}],onShown:[{type:r.Output}],onHide:[{type:r.Output}],onHidden:[{type:r.Output}],onClick:[{type:r.HostListener,args:["click",["$event"]]}],onEsc:[{type:r.HostListener,args:["keydown.esc",["$event"]]}]},D);function D(e,t,i,n,o,s){this._element=e,this._renderer=i,this.ngZone=o,this.cd=s,this.onShow=new r.EventEmitter,this.onShown=new r.EventEmitter,this.onHide=new r.EventEmitter,this.onHidden=new r.EventEmitter,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this._backdrop=n.createLoader(e,t,i)}var A=(P.forRoot=function(){return{ngModule:P,providers:[d.ComponentLoaderFactory,R,l.PositioningService]}},P.decorators=[{type:r.NgModule,args:[{imports:[n.CommonModule,s.PerfectScrollbarModule,a.AngularDraggableModule,h.FAreaResponseModule],declarations:[x,S,M,C],exports:[S,x],entryComponents:[S,M]}]}],P);function P(){}e.BsModalRef=c,e.BsModalService=R,e.ModalBackdropOptions=O,e.ModalContainerComponent=M,e.ModalBackdropComponent=S,e.ModalDirective=x,e.ModalModule=A,e.ModalButtonDirective=C,e.ModalOptions=u,e.CLASS_NAME=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-modal.umd.min.js.map