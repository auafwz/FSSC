/**
 * @fileoverview added by tsickle
 * Generated from: lib/organization-selector.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, EventEmitter, forwardRef, HostBinding, Injector, Input, NgZone, Output, Renderer2, ViewChild, ChangeDetectorRef } from '@angular/core';
import { NgControl, NG_VALUE_ACCESSOR } from '@angular/forms';
import { DialogComponent } from '@farris/ui-dialog';
import { ApiService } from '../utils/api.service';
import { CommonUtil } from '../utils/common.tool';
import { FavoritesTool } from '../utils/favorites.tool';
import { ChangeType } from '../utils/index.type';
import { StateMgrTool } from '../utils/state.mgr.tool';
import { Subject } from 'rxjs';
import * as _ from 'lodash-es';
import { debounceTime, distinctUntilChanged, switchMap, tap } from 'rxjs/operators';
import { GroupComponent } from './tab-group/group.component';
import { OrganizationComponent } from './tab-organization/to.component';
import { FavoritesComponent } from './tab-favorites/favorites.component';
export class OrganizationSelectorComponent {
    /**
     * @param {?} render
     * @param {?} injector
     * @param {?} favoritesTool
     * @param {?} apiService
     * @param {?} ngZone
     * @param {?} stateMgr
     */
    constructor(render, injector, favoritesTool, apiService, ngZone, stateMgr) {
        this.render = render;
        this.injector = injector;
        this.favoritesTool = favoritesTool;
        this.apiService = apiService;
        this.ngZone = ngZone;
        this.stateMgr = stateMgr;
        this.baseCls = true;
        this.width = '100%';
        // input框是否显示
        this.showInput = true;
        // 业务标识
        this.busNum = 'common';
        this.multiSelect = true;
        this.placeholder = '请选择';
        this.searchPlaceholder = '请输入编号或名称搜索';
        this.readonly = false;
        // 传入的url
        this.absUserOrgUrl = '/api/runtime/sys/v1.0/absUserOrg';
        this.absRfQueryUrl = '/api/runtime/sys/v1.0/absRecentContacts/query';
        this.absRfModifyUrl = '/api/runtime/sys/v1.0/absRecentContacts/modify';
        this.groupApiUrl = "/api/runtime/sys/v1.0/org-group";
        this.groupExtendUrl = '/platform/runtime/wf/webapp/ng-farris-mobile-ui/extend-org.js';
        /**
         * 数据源类型
         * 默认为： System_organization  系统数据源   获取系统人员、系统组织
         * Administrative_organization  已扩展数据源  获取行政组织、行政人员
         * absOrgType {string}
         * PersonnelSelectorComponent
         */
        this.absOrgType = 'System_organization';
        // 启用分层加载
        this.enableHierarchicalLoading = true;
        // 不包含停用组织
        this.notGetStopOrg = true;
        this.primaryField = 'orgId';
        this.displayField = 'name';
        this.orgIds = [];
        // 展开层级
        this.layer = 1;
        // 是否启用级联选中
        this.cascadeCheck = true;
        // 级联选中下级
        this.cascadeDown = true;
        // 级联选中上级
        this.cascadeUp = false;
        // 显示全选按钮
        this.showCheckAll = false;
        this.keepSelect = false;
        // 一次性最多选中多少条
        this.selectedLimit = 50;
        this.showTabIds = 'organization,favorites';
        this.activeTabId = 'organization';
        // 搜索前端分页50条
        this.searchPageSize = 50;
        /**
         * 多选分隔符
         */
        this.multipleChoiceSeparator = ',';
        this.draggable = true;
        this.selectionsChange = new EventEmitter();
        // 全部清除按钮触发回调
        this.inputClear = new EventEmitter();
        // 标签删除按钮出发回调
        this.tagRemoved = new EventEmitter();
        this.selections = [];
        this.originalSelections = [];
        this.finalText = [];
        this.lookupIcon = '<i class="f-icon f-icon-lookup"></i>';
        this.searchIcon = '<span class="k-icon k-i-search"></span>';
        this.organizationTabId = 'organization';
        this.groupTabId = 'group';
        this.favoritesTabId = 'favorites';
        this.dialogHeight = 548;
        this.dialogId = 'dialogId';
        this.isShow = false;
        this.confirmToken = false;
        this.hideSearchPanel = true;
        this.searchText = '';
        this.groupDialogOpend = false;
        this.groupDialogTitle = '保存为群组';
        this.validGroupTitle = true;
        this.groupTitleStream = new Subject();
        this.selectionsShow = false;
        this.farrisDialogbeforeClose = (/**
         * @return {?}
         */
        () => {
            this.isShow = false;
            if (this.confirmToken) {
                this.originalSelections = _.cloneDeep(this.selections);
            }
            else {
                this.selections = _.cloneDeep(this.originalSelections);
            }
            this.hideSearchPanel = true;
            this.confirmToken = false;
            return true;
        });
        this.onModelChange = (/**
         * @param {?=} val
         * @return {?}
         */
        (val) => { });
        this.onModelTouched = (/**
         * @param {?=} val
         * @return {?}
         */
        (val) => { });
        this.apiService.absUrl = this.absUserOrgUrl;
        this.apiService.groupApiUrl = this.groupApiUrl;
        this.cdRef = this.injector.get(ChangeDetectorRef);
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    writeValue(obj) {
        if (!!obj && typeof obj === 'string') {
            this.finalText = obj.split(this.multipleChoiceSeparator);
        }
        else {
            this.finalText = [];
        }
    }
    /**
     * @param {?} fn
     * @return {?}
     */
    registerOnChange(fn) {
        this.onModelChange = fn;
    }
    /**
     * @param {?} fn
     * @return {?}
     */
    registerOnTouched(fn) {
        this.onModelTouched = fn;
    }
    /**
     * @param {?} isDisabled
     * @return {?}
     */
    setDisabledState(isDisabled) {
        throw new Error('Method not implemented.');
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.initDialogHeight();
        this.listenSelectionsChange();
        this.initTabs();
        this.initGroupSearch();
        this.ngControl = this.injector.get(NgControl, null);
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        this.listenWindowResize();
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        /** @type {?} */
        const orgIdsChange = changes.orgIds;
        if (orgIdsChange && orgIdsChange.currentValue) {
            this.assembleDataByOrgIds(orgIdsChange.currentValue);
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this.selectionsSub.unsubscribe();
    }
    /**
     * @private
     * @param {?} selections
     * @param {?=} changeType
     * @return {?}
     */
    emitSelections(selections, changeType = ChangeType.ValueChanged) {
        this.stateMgr.emitSelections(selections, changeType);
    }
    // 根据字段映射关系获取当前已选组织的id，进而在打开选组织弹窗时进行相应展示
    /**
     * @private
     * @return {?}
     */
    mapFields2Component() {
        /** @type {?} */
        const helpFields = Object.keys(this.mapFields);
        if (!helpFields.includes(this.primaryField)) {
            console.warn('选中组件数据，需要映射组件主键');
            return;
        }
        if (this.ngControl &&
            this.ngControl.formDirective &&
            this.ngControl.formDirective.form &&
            this.ngControl.formDirective.form.bindingData) {
            /** @type {?} */
            const bindingData = this.ngControl.formDirective.form.bindingData;
            if (bindingData.setValue) {
                /** @type {?} */
                const bindingPath = this.ngControl.formDirective.form.bindingPath;
                /** @type {?} */
                let pathArr = [];
                if (bindingPath) {
                    pathArr = bindingPath.split('/').filter((/**
                     * @param {?} n
                     * @return {?}
                     */
                    n => n !== ''));
                }
                /** @type {?} */
                const multiPath = this.mapFields[this.primaryField].split(this.multipleChoiceSeparator);
                /** @type {?} */
                const fieldPaths = pathArr.concat(multiPath[0].split('.'));
                /** @type {?} */
                const ids = bindingData.getValue(fieldPaths);
                if (!ids) {
                    this.emitSelections([]);
                    return;
                }
                this.assembleDataByOrgIds(ids.split(this.multipleChoiceSeparator));
            }
        }
    }
    // 根据传入的组织id数组获取对应的组织
    // 由ngOnChanges()、mapFields2Component()调用
    /**
     * @private
     * @param {?} ids
     * @return {?}
     */
    assembleDataByOrgIds(ids) {
        if (!ids || ids.length === 0) {
            return;
        }
        if (ids && ids.length > 1 && !this.multiSelect) {
            console.warn('单选模式下，只允许选中一条数据~');
            return;
        }
        /** @type {?} */
        const param = {
            absOrgType: this.absOrgType,
            idList: ids,
            getOrgAllPath: true,
            getCurUser: false
        };
        this.apiService.getOrganization(param).subscribe((/**
         * @param {?} res
         * @return {?}
         */
        (res) => {
            if (res && res.data) {
                this.selections = res.data;
                if (!this.mapFields) {
                    this.assembleFinalText();
                }
                else {
                    this.emitSelections(this.selections);
                }
            }
        }));
    }
    // 构造回显至input文本框的内容
    // 在有mapFields的前提下，由assembleDataByOrgIds()调用，clearAll()、removeItem()、returnResult()也会调用
    /**
     * @private
     * @return {?}
     */
    assembleFinalText() {
        this.finalText = [];
        this.selections.forEach((/**
         * @param {?} item
         * @param {?} index
         * @return {?}
         */
        (item, index) => {
            /** @type {?} */
            const formatedName = this.formatFn && this.formatFn(item);
            /** @type {?} */
            const finalText = formatedName ? formatedName : item[this.displayField];
            this.finalText.push(finalText);
        }));
        this.finalText = this.finalText.slice();
    }
    // 初始化弹窗id及高度
    // 由ngOnInit()调用
    /**
     * @return {?}
     */
    initDialogHeight() {
        /** @type {?} */
        const uuid = CommonUtil.newGuid();
        this.dialogId += uuid;
        /** @type {?} */
        const windowInnerHeight = window.innerHeight;
        this.dialogHeight = windowInnerHeight - 60;
        if (this.dialogHeight > 680) {
            this.dialogHeight = 680;
        }
    }
    // 监听selections的变更，变更包含三种形式：valueChange、append、remove
    // 由ngOnInit()调用
    /**
     * @return {?}
     */
    listenSelectionsChange() {
        this.selectionsSub = this.stateMgr.selectionsSubject.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        data => {
            if (data.changeType === ChangeType.ValueChanged) {
                this.selections = _.cloneDeep(data.value);
            }
            else if (data.changeType === ChangeType.Remove) {
                this.selections = this.selections.filter((/**
                 * @param {?} item
                 * @return {?}
                 */
                item => item[this.primaryField] !== data.value[this.primaryField]));
            }
            else if (data.changeType === ChangeType.Append) {
                CommonUtil.findIndex(data.value[this.primaryField], this.primaryField, this.selections) === -1 ? this.selections.push(data.value) : null;
            }
            this.cdRef.detectChanges();
        }));
    }
    // 根据showTabIds判断是否启用收藏功能、群组功能
    // 由ngOnInit()调用
    /**
     * @private
     * @return {?}
     */
    initTabs() {
        if (this.showTabIds.indexOf(this.favoritesTabId) !== -1) {
            this.enableFavorites = true;
        }
        else {
            this.enableFavorites = false;
        }
        // 暂不开启群组功能
        // const allTabIdsArray = this.showTabIds.split(',').filter(item => item !== this.groupTabId);
        // this.showTabIds = allTabIdsArray.join(',');
        if (this.showTabIds.indexOf(this.groupTabId) !== -1) {
            this.enableGroup = true;
        }
        else {
            this.enableGroup = false;
        }
        // 启用群组功能扩展函数
        /*
        if (this.enableGroup) {
          const ccwork = window.top.document.createElement("script")
          ccwork.src = this.groupExtendUrl + '?vs=' + Math.random();
          window.document.head.appendChild(ccwork);
        }
        */
    }
    // 判断群组名称是否合法
    // 由ngOnInit()调用
    /**
     * @private
     * @return {?}
     */
    initGroupSearch() {
        if (this.enableGroup) {
            this.groupTitleStream.pipe(debounceTime(500), distinctUntilChanged()).subscribe((/**
             * @param {?} data
             * @return {?}
             */
            data => {
                if (!!data) {
                    this.validGroupTitle = true;
                }
                else {
                    this.validGroupTitle = false;
                }
            }));
        }
    }
    // 当浏览器窗口大小变更时，变更弹窗的大小
    // 由ngAfterViewInit()调用
    /**
     * @return {?}
     */
    listenWindowResize() {
        /** @type {?} */
        const dialogElement = document.querySelector('#' + this.dialogId);
        /** @type {?} */
        let targetElement = null;
        if (!!dialogElement) {
            targetElement = dialogElement.querySelector('.modal-dialog');
        }
        window.addEventListener('resize', (/**
         * @return {?}
         */
        () => {
            if (!!targetElement) {
                /** @type {?} */
                let height = window.innerHeight - 60;
                if (height > 680) {
                    height = 680;
                }
                this.dialogHeight = height;
                /** @type {?} */
                const innerHeight = height + 'px';
                /** @type {?} */
                const marginTop = '-' + height / 2 + 'px';
                this.render.setStyle(targetElement, 'height', innerHeight);
                this.render.setStyle(targetElement, 'margin-top', marginTop);
            }
        }));
    }
    // 初始化组织收藏数据
    // 由showFarrisDialog()调用，即打开选组织弹窗时发送请求
    /**
     * @private
     * @return {?}
     */
    initFavorites() {
        this.favoritesTool.absOrgType = this.absOrgType;
        this.favoritesTool.busNum = this.busNum;
        this.favoritesTool.idField = this.primaryField;
        this.favoritesTool.absRfQueryUrl = this.absRfQueryUrl;
        this.favoritesTool.absRfModifyUrl = this.absRfModifyUrl;
        this.favoritesTool.getFavoritesList().subscribe((/**
         * @param {?} result
         * @return {?}
         */
        (result) => {
            /** @type {?} */
            const resData = result ? ((/** @type {?} */ (result))).orgData : [];
            this.favoritesTool.favoritesList = resData;
            this.favoritesTool.setFavoritesList(resData);
        }));
    }
    // 打开选组织弹窗
    /**
     * @return {?}
     */
    showFarrisDialog() {
        this.isShow = true;
        this.ngZone.runOutsideAngular((/**
         * @return {?}
         */
        () => {
            setTimeout((/**
             * @return {?}
             */
            () => {
                this.dialog.show();
                if (this.showTabIds.indexOf(this.favoritesTabId) !== -1) {
                    this.initFavorites();
                }
                if (this.mapFields) {
                    this.mapFields2Component();
                    return;
                }
                this.stateMgr.emitSelections(this.selections, ChangeType.ValueChanged);
            }));
        }));
    }
    // input文本框内点击清除按钮时触发
    /**
     * @return {?}
     */
    clearAll() {
        this.selections = [];
        this.assembleFinalText();
        this.onModelChange(this.finalText.join());
        this.onModelTouched(this.finalText.join());
        this.emitSelections([]);
        this.inputClear.emit();
    }
    // input文本框内删除某一个已选组织时触发
    /**
     * @param {?} data
     * @param {?} index
     * @return {?}
     */
    removeItem(data, index) {
        this.selections.splice(index, 1);
        this.assembleFinalText();
        // 关联或udt先出非主键的
        this.onModelChange(this.finalText.join());
        this.onModelTouched(this.finalText.join());
        this.emitSelections(data, ChangeType.Remove);
        this.tagRemoved.emit({
            deleteItem: data,
            deleteIndex: index,
            selections: this.selections
        });
    }
    // 清空最近已选组织
    /**
     * @return {?}
     */
    clearSeletions() {
        this.stateMgr.emitSelections([], ChangeType.ValueChanged);
    }
    // 点击搜索按钮或者敲击回车时触发
    /**
     * @return {?}
     */
    onSearch() {
        if (!!this.searchText) {
            this.hideSearchPanel = false;
            this.onSearchToken = CommonUtil.newGuid();
        }
    }
    // 清空组织搜索内容时触发
    /**
     * @return {?}
     */
    clearSearch() {
        this.hideSearchPanel = true;
        this.onSearchToken = false;
    }
    // 监听搜索框内输入的文本
    /**
     * @param {?} e
     * @return {?}
     */
    listenSearchText(e) {
        if (e.code === 'Backspace' || e.code === 'Delete') {
            if (!this.searchText) {
                this.clearSearch();
            }
        }
    }
    // 监听搜索页的关闭事件，目前只会接收到true
    /**
     * @param {?} e
     * @return {?}
     */
    listenClosePanelChange(e) {
        this.hideSearchPanel = e;
    }
    // 关闭保存群组的弹窗时点击“取消”或者右上角叉号触发
    /**
     * @return {?}
     */
    closeGroupDialog() {
        this.groupDialogOpend = false;
        this.editingGroupId = null;
        this.groupTitle = null;
        this.groupNote = null;
        this.groupDialogTitle = '保存为群组';
    }
    // 在保存群组的弹窗内，修改群组名称时触发，监听keyup事件
    /**
     * @param {?} e
     * @return {?}
     */
    listenGroupTitle(e) {
        this.groupTitleStream.next(this.groupTitle);
    }
    // 选组织的弹窗内有一个“已选”标志，鼠标移上去后会显示已选组织的页面，该页面内有“保存为群组”的按钮，点击后可以打开保存群组的弹窗
    /**
     * @param {?} e
     * @return {?}
     */
    listenOpenGroup(e) {
        this.groupDialogOpend = e;
    }
    // 点击群组编辑按钮触发，可修改选中群组的名称及描述
    /**
     * @param {?} item
     * @return {?}
     */
    listenGroupChange(item) {
        this.groupDialogOpend = true;
        this.editingGroupId = item.id;
        this.groupTitle = item.title;
        this.groupNote = item.description;
        this.groupDialogTitle = '编辑群组';
    }
    // 关闭保存群组的弹窗时点击“确定”触发，将当前已选组织保存为一个新的群组
    /**
     * @return {?}
     */
    saveGroup() {
        if (!this.groupTitle) {
            this.validGroupTitle = false;
            return;
        }
        /** @type {?} */
        const groupId = CommonUtil.newGuid();
        /** @type {?} */
        let groupCode = 'orgGroup_private_';
        groupCode += Math.random().toString(16).substring(2, 10);
        /** @type {?} */
        const addIds = [];
        this.selections.forEach((/**
         * @param {?} selection
         * @return {?}
         */
        selection => {
            addIds.push(selection[this.primaryField]);
        }));
        this.groupDialogOpend = false;
        /** @type {?} */
        const body = {
            groupId,
            groupCode,
            title: this.groupTitle,
            description: this.groupNote,
            absOrgType: this.absOrgType,
            changeType: Number(1)
        };
        if (this.editingGroupId) {
            body.groupId = this.editingGroupId;
            body.changeType = Number(2);
            delete body.groupCode;
            this.updateNameOrNote(body);
            return;
        }
        /** @type {?} */
        const newGroup$ = this.apiService.saveGroup(body);
        newGroup$.pipe(switchMap((/**
         * @return {?}
         */
        () => {
            console.log('群组保存成功！');
            this.libOrgGroup.selectedGroupId = groupId;
            /** @type {?} */
            const addOrgsInNewGroup$ = this.apiService.saveGroup({
                groupId,
                addIds,
                deleteIds: [],
                changeType: Number(3)
            });
            return addOrgsInNewGroup$.pipe(tap((/**
             * @param {?} data
             * @return {?}
             */
            (data) => {
                if (data) {
                    console.log('已为新群组添加组织成员！');
                    if (this.currentTabId == this.groupTabId) {
                        this.libOrgGroup.assembleData();
                    }
                }
            })));
        }))).subscribe();
    }
    /**
     * @private
     * @param {?} param
     * @return {?}
     */
    updateNameOrNote(param) {
        /** @type {?} */
        const updateInfo$ = this.apiService.saveGroup(param);
        updateInfo$.pipe(tap((/**
         * @param {?} data
         * @return {?}
         */
        (data) => {
            if (data) {
                console.log('修改群组信息成功！');
                this.editingGroupId = null;
                this.groupTitle = null;
                this.groupNote = null;
                this.groupDialogTitle = '保存为群组';
                this.libOrgGroup.assembleData();
            }
        }))).subscribe();
    }
    // 点击选组织弹窗的确定或者取消按钮时触发，1为确定，0为取消
    /**
     * @param {?} type
     * @return {?}
     */
    returnResult(type) {
        /** @type {?} */
        let finalText = '';
        if (!!type) {
            this.confirmToken = true;
            this.assembleFinalText();
            finalText = this.finalText.join();
            if (this.selections && this.selections.length) {
                this.selectionsChange.emit({
                    selections: this.selections
                });
                this.onModelChange(finalText);
                this.onModelTouched(finalText);
            }
            else {
                this.onModelChange(finalText);
                this.onModelTouched(finalText);
                this.selectionsChange.emit({
                    selections: this.selections
                });
            }
        }
        this.orgIds = [];
        this.dialog.close();
        this.isShow = false;
    }
    /**
     * @param {?} e
     * @return {?}
     */
    changeTabs(e) {
        if (e.nextId === this.groupTabId) {
            this.currentTabId = this.groupTabId;
            this.libOrgGroup.selections = _.cloneDeep(this.selections);
            this.libOrgGroup.assembleData();
        }
        else if (e.nextId === this.favoritesTabId) {
            this.currentTabId = this.favoritesTabId;
            // this.libOrgFavorites.selections = _.cloneDeep(this.selections);
            // this.libOrgFavorites.assembleData();
        }
        else if (e.nextId === this.organizationTabId) {
            this.currentTabId = this.organizationTabId;
            // this.libOrgTree.selections = _.cloneDeep(this.selections);
            // this.libOrgTree.assembleData();
        }
    }
}
OrganizationSelectorComponent.decorators = [
    { type: Component, args: [{
                selector: 'farris-organization-selector',
                template: "<div #tagbox class=\"input-group s-input-group\" *ngIf=\"showInput\" [class.farris-input-group-readonly]=\"readonly\">\r\n  <div class=\"form-control f-cmp-inputgroup--multi-wrapper multi-more\">\r\n    <div class=\"multi--content\" *ngFor=\"let item of finalText; index as i\" [title]=\"item\">\r\n      <span class=\"multi--item\">\r\n        {{item}}\r\n      </span>\r\n      <i class=\"f-icon f-icon-close cursor-pointer\" *ngIf=\"!readonly\" style=\"margin-top: 1px;\"\r\n        (click)=\"removeItem(item, i)\"></i>\r\n    </div>\r\n    <span class=\"multi-another\" *ngIf=\"finalText.length === 0\">{{placeholder}}</span>\r\n  </div>\r\n  <div *ngIf=\"!readonly\" class=\"input-group-append\" title=\"\">\r\n    <span *ngIf=\"finalText && finalText.length > 0\" class=\"input-group-text input-group-clear cursor-pointer\"\r\n      (click)=\"clearAll()\">\r\n      <i class=\"f-icon modal_close\"></i>\r\n    </span>\r\n    <span class=\"input-group-text cursor-pointer\" (click)=\"showFarrisDialog()\">\r\n      <span class=\"f-icon f-icon-lookup\"></span>\r\n    </span>\r\n  </div>\r\n</div>\r\n\r\n<farris-dialog #farrisDialog *ngIf=\"isShow\" class=\"fos-dialog\" [resizable]=\"false\" id=\"{{dialogId}}\"\r\n  [draggable]=\"draggable\" [buttons]=\"buttonRef\" [beforeClose]=\"farrisDialogbeforeClose\" [showMaxButton]=\"false\"\r\n  [width]=\"760\" [height]=\"dialogHeight\" [title]=\"'\u8BF7\u9009\u62E9\u7EC4\u7EC7'\">\r\n  <div class=\"fos-content\">\r\n    <div class=\"fos-content-container\">\r\n      <div class=\"fos-content-main\">\r\n        <lib-search #searchResultPage [primaryField]=\"primaryField\" [multiSelect]=\"multiSelect\"\r\n          [enableFavorites]=\"enableFavorites\" [absOrgType]=\"absOrgType\" [notGetStopOrg]=\"notGetStopOrg\"\r\n          [onSearch]=\"onSearchToken\" [searchText]=\"searchText\" [pageSize]=\"searchPageSize\"\r\n          (closePanelChange)=\"listenClosePanelChange($event)\" [hidden]=\"hideSearchPanel\">\r\n        </lib-search>\r\n        <input-group class=\"fos-search-input\" id=\"org-search-input\" [placeholder]=\"searchPlaceholder\"\r\n          [(value)]=\"searchText\" [groupText]=\"searchIcon\" (enterHandle)=\"onSearch()\" (clickHandle)=\"onSearch()\"\r\n          (keyup)=\"listenSearchText($event)\" (clear)=\"clearSearch()\">\r\n        </input-group>\r\n        <farris-tabs #selectTabs class=\"fos-tabs\" [value]=\"activeTabId\" [width]=\"'100%'\" [contentFill]=\"true\" (tabChange)=\"changeTabs($event)\">\r\n          <!-- \u7EC4\u7EC7\u673A\u6784  START -->\r\n          <farris-tab [title]=\"'\u7EC4\u7EC7\u67B6\u6784'\" [id]=\"organizationTabId\" *ngIf=\"showTabIds.indexOf(organizationTabId) !== -1\">\r\n            <ng-template #content>\r\n              <lib-org #libOrgTree [enableHierarchicalLoading]=\"enableHierarchicalLoading\" [notGetStopOrg]=\"notGetStopOrg\"\r\n                [enableFavorites]=\"enableFavorites\" [primaryField]=\"primaryField\" [cascadeCheck]=\"cascadeCheck\"\r\n                [cascadeDown]=\"cascadeDown\" [cascadeUp]=\"cascadeUp\" [keepSelect]=\"keepSelect\"\r\n                [multiSelect]=\"multiSelect\" [absOrgType]=\"absOrgType\" [layer]=\"layer\" [orgIds]=\"orgIds\"\r\n                [selectedLimit]=\"selectedLimit\" [showCheckAll]=\"showCheckAll\">\r\n              </lib-org>\r\n            </ng-template>\r\n          </farris-tab>\r\n          <!-- \u7EC4\u7EC7\u673A\u6784  END -->\r\n          <!-- \u6211\u7684\u6536\u85CF  START -->\r\n          <farris-tab [title]=\"'\u6211\u7684\u6536\u85CF'\" [id]=\"favoritesTabId\" *ngIf=\"showTabIds.indexOf(favoritesTabId) !== -1\">\r\n            <ng-template #content>\r\n              <lib-favorites #libOrgFavorites [primaryField]=\"primaryField\" [multiSelect]=\"multiSelect\"></lib-favorites>\r\n            </ng-template>\r\n          </farris-tab>\r\n          <!-- \u6211\u7684\u6536\u85CF  END -->\r\n          <!-- \u5E38\u7528\u7FA4\u7EC4\u5C55\u793A\u533A  START -->\r\n          <farris-tab [title]=\"'\u6211\u7684\u7FA4\u7EC4'\" [id]=\"groupTabId\" *ngIf=\"showTabIds.indexOf(groupTabId) !== -1\">\r\n            <ng-template #content>\r\n              <lib-group #libOrgGroup \r\n                [primaryField]=\"primaryField\" [absOrgType]=\"absOrgType\" [multiSelect]=\"multiSelect\"\r\n                [enableFavorites]=\"enableFavorites\" [groupApiUrl]=\"groupApiUrl\" [notGetStopOrg]=\"notGetStopOrg\"\r\n                [enableHierarchicalLoading]=\"enableHierarchicalLoading\" [cascadeCheck]=\"cascadeCheck\"\r\n                [cascadeDown]=\"cascadeDown\" [cascadeUp]=\"cascadeUp\" [keepSelect]=\"keepSelect\"\r\n                [layer]=\"layer\" [selectedLimit]=\"selectedLimit\" [showCheckAll]=\"showCheckAll\" (groupChange)=\"listenGroupChange($event)\">\r\n              </lib-group>\r\n            </ng-template>\r\n          </farris-tab>\r\n          <!-- \u5E38\u7528\u7FA4\u7EC4\u5C55\u793A\u533A  END -->\r\n        </farris-tabs>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"s-personnel-group\" *ngIf=\"groupDialogOpend\">\r\n    <div class=\"s-personnel-group-title\">\r\n      <span class=\"f-icon f-sidebar-close\" (click)=\"closeGroupDialog()\"></span>{{groupDialogTitle}}\r\n    </div>\r\n    <div class=\"f-form-layout farris-form farris-form-controls-inline\" style=\"margin-top: 22px;\">\r\n      <div class=\"col-12 col-md-12 col-xl-12 col-el-12\">\r\n        <div class=\"farris-group-wrap\">\r\n          <div class=\"form-group farris-form-group\">\r\n            <label class=\"col-form-label\" style=\"width: 4.2rem\" for=\"month_4c7f0115_7796_42b4_bf41_beb7299dd84f_caum\">\r\n              <span class=\"farris-label-info text-danger\">*</span>\r\n              <span class=\"farris-label-text\">\u7FA4\u7EC4\u540D\u79F0</span>\r\n            </label>\r\n            <div class=\"farris-input-wrap\">\r\n              <input class=\"form-control\" id=\"month_4c7f0115_7796_42b4_bf41_beb7299dd84f_caum\"\r\n                (keyup)=\"listenGroupTitle($event)\" placeholder=\"\u8BF7\u8F93\u5165\"\r\n                [ngStyle]=\"{'border-color': !validGroupTitle ? 'red' : '#D8DCE6'}\" [(ngModel)]=\"groupTitle\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 col-md-12 col-xl-12 col-el-12\" style=\"margin-top: 4px;\">\r\n        <div class=\"farris-group-wrap\">\r\n          <div class=\"form-group farris-form-group\">\r\n            <label class=\"col-form-label\" style=\"width: 4.2rem\"\r\n              for=\"billNote_7b43d269_2dd3_4777_8cfb_bd0c721575cf_hh9s\">\r\n              <span class=\"farris-label-text\">\u7FA4\u7EC4\u5907\u6CE8</span>\r\n            </label>\r\n            <div class=\"farris-input-wrap\">\r\n              <textarea class=\"form-control\" style=\"height: 66px;\" [(ngModel)]=\"groupNote\"\r\n                id=\"billNote_7b43d269_2dd3_4777_8cfb_bd0c721575cf_hh9s\" placeholder=\"\u8BF7\u8F93\u5165\"></textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"s-personnel-group-footer\">\r\n      <input type=\"button\" class=\"btn btn-primary fr\" style=\"width: 100px;\" value=\"\u786E\u5B9A\" (click)=\"saveGroup()\" />\r\n      <input type=\"button\" class=\"btn btn-secondary fr mr-3\" value=\"\u53D6\u6D88\" (click)=\"closeGroupDialog()\" />\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n\r\n<ng-template #buttonRef>\r\n  <div class=\"fos-dialog-footer\">\r\n    <span class=\"fosd-footer-selection\" (mouseover)=\"selectionsShow=true\"\r\n      (mouseout)=\"selectionsShow=false\">\u5DF2\u9009\r\n      <a>{{selections.length}}</a> \u4E2A</span>\r\n    <span class=\"fosd-footer-clear\" (click)=\"clearSeletions()\">\u6E05\u7A7A\u6700\u8FD1</span>\r\n    <lib-selection #selectedComponent class=\"fosd-selection-content\" [primaryField]=\"primaryField\"\r\n      [enableGroup]=\"enableGroup\" (mouseover)=\"selectionsShow=true\" (mouseout)=\"selectionsShow=false\"\r\n      [hidden]=\"!selectionsShow\" (openedChange)=\"listenOpenGroup($event)\"></lib-selection>\r\n  </div>\r\n  <input type=\"button\" class=\"btn btn-secondary\" value=\"\u53D6\u6D88\" (click)=\"returnResult(0)\" />\r\n  <input type=\"button\" class=\"btn btn-primary\" style=\"width: 100px;\" value=\"\u786E\u5B9A\" (click)=\"returnResult(1)\" />\r\n</ng-template>",
                providers: [
                    {
                        provide: NG_VALUE_ACCESSOR,
                        useExisting: forwardRef((/**
                         * @return {?}
                         */
                        () => OrganizationSelectorComponent)),
                        multi: true
                    },
                    FavoritesTool, ApiService, StateMgrTool
                ],
                styles: [".fos-dialog .fos-content{width:100%;height:100%;min-width:760px;overflow:hidden}.fos-dialog ::ng-deep .modal-content{border-radius:10px}.fos-dialog ::ng-deep .modal-header{color:#2d2f33;border-bottom:none;padding:15px 0 15px 24px}.fos-dialog ::ng-deep .actions{padding-right:22px;font-size:20px}.fos-dialog ::ng-deep .modal-title-label{font-size:17px;font-weight:600}.fos-dialog ::ng-deep .modal-footer{padding:17px 24px;background:#fff;border-top:none}.fos-dialog .fos-content .fos-content-container{display:-webkit-box;display:flex;width:calc(100% - 48px);height:100%;margin:0 24px;border:1px solid #dee1ea;border-radius:3px}.fos-dialog .fos-content .fos-content-container .fos-content-main{-webkit-box-flex:0;flex:0 0 100%;position:relative;display:-webkit-box;display:flex}.fos-dialog .fos-content .fos-content-container .fos-content-main .fos-search-input{position:absolute;top:7px;right:14px;color:#959ab1;z-index:99;width:320px}.fos-dialog .fos-content .fos-content-container .fos-content-main .fos-tabs{min-width:575px}.fos-dialog ::ng-deep .fos-tabs .nav-link{line-height:18px;padding:11px 0!important}.fos-dialog ::ng-deep .fos-tabs .farris-tabs-header{background:#f9f9f9}.fos-dialog ::ng-deep .fos-tabs .nav-item{margin-right:30px}.fos-dialog ::ng-deep .fos-tabs .nav{padding-left:14px;font-size:16px;font-weight:600}.fos-dialog ::ng-deep .fos-tabs .nav-item .st-tab-text{color:#6f8cb4}.fos-dialog ::ng-deep .fos-tabs .nav-item .active .st-tab-text{color:#2a87ff}.fos-dialog::ng-deep input::-webkit-input-placeholder{color:#b4bccc;font-size:13px;line-height:24px}.fos-dialog ::ng-deep input::-moz-input-placeholder{color:#b4bccc;font-size:13px;line-height:24px}.fos-dialog ::ng-deep input::-ms-input-placeholder{color:#b4bccc;font-size:13px;line-height:24px}.fos-dialog ::ng-deep .fos-search-input .form-control{line-height:26px;height:26px;font-size:13px}.fos-dialog ::ng-deep .fos-treetable .farris-treetable-thead{background:#fff;font-size:13px}.fos-dialog ::ng-deep .fos-treetable .farris-treetable-thead th .tt-checkbox .custom-control-label::before{top:2px;margin:0}.fos-dialog ::ng-deep .fos-treetable .farris-treetable-thead th:hover{background:#fff}.fos-dialog ::ng-deep .fos-treetable .treetable-cell-content span{font-size:13px}:host .input-group .input-group-append{background:#fff}:host .s-input-group .input-group-text{color:rgba(0,0,0,.25)}:host .cursor-pointer{cursor:pointer}:host .s-input-group .multi-more{padding:0 0 2px 8px;height:auto;min-height:24px;-webkit-box-flex:1;flex:1;overflow:hidden}:host .s-input-group .multi--content{display:-webkit-box;display:flex;flex-wrap:nowrap;cursor:default;padding:0 5px;background:#ebf7fe;border:1px solid #cfedff;margin:3px 3px 0 0;float:left;height:17px;border-radius:3px;line-height:17px;-webkit-box-pack:justify;justify-content:space-between;box-sizing:content-box;max-width:calc(100% - 10px)}:host .s-input-group .multi--item{line-height:16px;text-overflow:ellipsis;height:16px;-webkit-box-flex:1;flex:1;overflow:hidden;word-break:break-all}:host .s-input-group .multi-another{padding:3px 3px 0 0;line-height:16px;float:left;height:17px;box-sizing:content-box;border:1px solid #fff;color:#bfbfbf}.fos-dialog ::ng-deep .fos-dialog-footer{width:200px;height:30px;line-height:30px;position:absolute;left:24px;text-align:left;cursor:default}.fos-dialog ::ng-deep .fos-dialog-footer .fosd-footer-selection{font-size:14px;color:#2d2f33;background:#f4f9ff;border-radius:5px;padding:2px 5px}.fos-dialog ::ng-deep .fos-dialog-footer .fosd-footer-selection a{font-size:17px;color:#2a87ff}.fos-dialog ::ng-deep .fos-dialog-footer .fosd-footer-clear{font-size:13px;color:#2a87ff;margin-left:1rem;cursor:pointer}.fos-dialog ::ng-deep .fos-dialog-footer .fosd-selection-content{position:absolute;bottom:25px;left:-10px;background:#fff;z-index:102}.fos-dialog::ng-deep .pagination-container{height:1.5rem;margin-bottom:21px}.fos-dialog::ng-deep .pagination-container input::-webkit-inner-spin-button,.fos-dialog::ng-deep .pagination-container input::-webkit-outer-spin-button{-webkit-appearance:none}.fos-dialog::ng-deep .pagination-container input[type=number]{-moz-appearance:textfield;text-align:center;width:38px;line-height:20px;border:1px solid #e9ecf3;border-radius:6px;box-shadow:0 2px 6px 0 rgba(31,35,41,.06);margin-left:4px;outline:0}.fos-dialog::ng-deep .pagination-container input[type=number]:focus{border:1px solid #0084ff}.fos-dialog::ng-deep .pagination-container li{line-height:22px}.fos-dialog ::ng-deep .fos-treetable td{border-color:#fff}.fos-dialog ::ng-deep .default-light-color{color:#f7b500}.fos-dialog ::ng-deep .default-dark-color{color:#d8dce6}.fos-dialog ::ng-deep .s-personnel-group{width:440px;height:250px;border-radius:5px;background:#fff;box-shadow:0 0 40px 0 rgba(0,0,0,.2);padding:16px 24px;position:fixed;top:50%;left:50%;margin-left:-220px;margin-top:-125px;z-index:9999}.fos-dialog ::ng-deep .s-personnel-group .s-personnel-group-title{font-size:17px;line-height:24px;color:#2d2f33;font-weight:600}.fos-dialog ::ng-deep .s-personnel-group .s-personnel-group-title .f-icon{float:right;font-size:20px;color:#878d99;margin-top:3px;cursor:pointer}.fos-dialog ::ng-deep .s-personnel-group .s-personnel-group-footer{margin-top:20px}.fos-dialog ::ng-deep .s-personnel-group .col-12{padding:0}.fos-dialog ::ng-deep .s-personnel-group-footer .title-checkall{margin-top:6px}.fos-dialog ::ng-deep .s-personnel-group .farris-label-text{color:#5a5e66}.fos-dialog ::ng-deep .s-personnel-group .s-personnel-group-footer .fr{float:right;height:32px}"]
            }] }
];
/** @nocollapse */
OrganizationSelectorComponent.ctorParameters = () => [
    { type: Renderer2 },
    { type: Injector },
    { type: FavoritesTool },
    { type: ApiService },
    { type: NgZone },
    { type: StateMgrTool }
];
OrganizationSelectorComponent.propDecorators = {
    baseCls: [{ type: HostBinding, args: ['class.f-organization-selector',] }],
    width: [{ type: HostBinding, args: ['style.width',] }, { type: Input }],
    dialog: [{ type: ViewChild, args: ['farrisDialog',] }],
    libOrgGroup: [{ type: ViewChild, args: ['libOrgGroup',] }],
    libOrgTree: [{ type: ViewChild, args: ['libOrgTree',] }],
    libOrgFavorites: [{ type: ViewChild, args: ['libOrgFavorites',] }],
    showInput: [{ type: Input }],
    busNum: [{ type: Input }],
    multiSelect: [{ type: Input }],
    placeholder: [{ type: Input }],
    searchPlaceholder: [{ type: Input }],
    readonly: [{ type: Input }],
    absUserOrgUrl: [{ type: Input }],
    absRfQueryUrl: [{ type: Input }],
    absRfModifyUrl: [{ type: Input }],
    groupApiUrl: [{ type: Input }],
    groupExtendUrl: [{ type: Input }],
    absOrgType: [{ type: Input }],
    enableHierarchicalLoading: [{ type: Input }],
    notGetStopOrg: [{ type: Input }],
    primaryField: [{ type: Input }],
    displayField: [{ type: Input }],
    orgIds: [{ type: Input }],
    layer: [{ type: Input }],
    cascadeCheck: [{ type: Input }],
    cascadeDown: [{ type: Input }],
    cascadeUp: [{ type: Input }],
    showCheckAll: [{ type: Input }],
    keepSelect: [{ type: Input }],
    formatFn: [{ type: Input }],
    selectedLimit: [{ type: Input }],
    showTabIds: [{ type: Input }],
    activeTabId: [{ type: Input }],
    searchPageSize: [{ type: Input }],
    mapFields: [{ type: Input }],
    multipleChoiceSeparator: [{ type: Input }],
    draggable: [{ type: Input }],
    selectionsChange: [{ type: Output }],
    inputClear: [{ type: Output }],
    tagRemoved: [{ type: Output }]
};
if (false) {
    /** @type {?} */
    OrganizationSelectorComponent.prototype.baseCls;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.width;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.dialog;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.libOrgGroup;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.libOrgTree;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.libOrgFavorites;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.showInput;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.busNum;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.multiSelect;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.placeholder;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.searchPlaceholder;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.readonly;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.absUserOrgUrl;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.absRfQueryUrl;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.absRfModifyUrl;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.groupApiUrl;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.groupExtendUrl;
    /**
     * 数据源类型
     * 默认为： System_organization  系统数据源   获取系统人员、系统组织
     * Administrative_organization  已扩展数据源  获取行政组织、行政人员
     * absOrgType {string}
     * PersonnelSelectorComponent
     * @type {?}
     */
    OrganizationSelectorComponent.prototype.absOrgType;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.enableHierarchicalLoading;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.notGetStopOrg;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.primaryField;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.displayField;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.orgIds;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.layer;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.cascadeCheck;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.cascadeDown;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.cascadeUp;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.showCheckAll;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.keepSelect;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.formatFn;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.selectedLimit;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.showTabIds;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.activeTabId;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.searchPageSize;
    /**
     * 字段映射, 仅在farris form中使用{ 帮助数据字段：表单字段 }
     * @type {?}
     */
    OrganizationSelectorComponent.prototype.mapFields;
    /**
     * 多选分隔符
     * @type {?}
     */
    OrganizationSelectorComponent.prototype.multipleChoiceSeparator;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.draggable;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.selectionsChange;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.inputClear;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.tagRemoved;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.selections;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.originalSelections;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.finalText;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.lookupIcon;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.searchIcon;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.organizationTabId;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.groupTabId;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.favoritesTabId;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.dialogHeight;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.dialogId;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.isShow;
    /**
     * @type {?}
     * @private
     */
    OrganizationSelectorComponent.prototype.selectionsSub;
    /**
     * @type {?}
     * @private
     */
    OrganizationSelectorComponent.prototype.confirmToken;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.hideSearchPanel;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.searchText;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.onSearchToken;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.enableFavorites;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.enableGroup;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.groupDialogOpend;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.groupDialogTitle;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.groupTitle;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.groupNote;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.validGroupTitle;
    /**
     * @type {?}
     * @private
     */
    OrganizationSelectorComponent.prototype.groupTitleStream;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.ngControl;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.selectionsShow;
    /**
     * @type {?}
     * @private
     */
    OrganizationSelectorComponent.prototype.editingGroupId;
    /**
     * @type {?}
     * @private
     */
    OrganizationSelectorComponent.prototype.cdRef;
    /**
     * @type {?}
     * @private
     */
    OrganizationSelectorComponent.prototype.currentTabId;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.farrisDialogbeforeClose;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.onModelChange;
    /** @type {?} */
    OrganizationSelectorComponent.prototype.onModelTouched;
    /**
     * @type {?}
     * @private
     */
    OrganizationSelectorComponent.prototype.render;
    /**
     * @type {?}
     * @private
     */
    OrganizationSelectorComponent.prototype.injector;
    /**
     * @type {?}
     * @private
     */
    OrganizationSelectorComponent.prototype.favoritesTool;
    /**
     * @type {?}
     * @private
     */
    OrganizationSelectorComponent.prototype.apiService;
    /**
     * @type {?}
     * @private
     */
    OrganizationSelectorComponent.prototype.ngZone;
    /**
     * @type {?}
     * @private
     */
    OrganizationSelectorComponent.prototype.stateMgr;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3JnYW5pemF0aW9uLXNlbGVjdG9yLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvdWktb3JnYW5pemF0aW9uLXNlbGVjdG9yLyIsInNvdXJjZXMiOlsibGliL29yZ2FuaXphdGlvbi1zZWxlY3Rvci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQWlCLFNBQVMsRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBZ0MsTUFBTSxFQUFFLFNBQVMsRUFBaUIsU0FBUyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3ZOLE9BQU8sRUFBd0IsU0FBUyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDcEYsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbEQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3hELE9BQU8sRUFBRSxVQUFVLEVBQTBDLE1BQU0scUJBQXFCLENBQUM7QUFDekYsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxPQUFPLEVBQWdCLE1BQU0sTUFBTSxDQUFDO0FBQzdDLE9BQU8sS0FBSyxDQUFDLE1BQU0sV0FBVyxDQUFDO0FBQy9CLE9BQU8sRUFBRSxZQUFZLEVBQUUsb0JBQW9CLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRXBGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUM3RCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUN4RSxP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OztJQUNoQixzREFBbUI7O0lBQ25CLHdEQUF5Qjs7SUFDekIsb0RBQXFCOztJQUNyQix5REFBeUI7O0lBQ3pCLHlEQUEyQjs7SUFDM0IsbURBQW1COztJQUNuQixrREFBa0I7O0lBQ2xCLHdEQUF1Qjs7Ozs7SUFDdkIseURBQWtFOztJQUNsRSxrREFBc0I7O0lBQ3RCLHVEQUF1Qjs7Ozs7SUFDdkIsdURBQStCOzs7OztJQUMvQiw4Q0FBaUM7Ozs7O0lBQ2pDLHFEQUE2Qjs7SUFFN0IsZ0VBVUM7O0lBRUQsc0RBQXdDOztJQUN4Qyx1REFBeUM7Ozs7O0lBR3ZDLCtDQUF5Qjs7Ozs7SUFDekIsaURBQTBCOzs7OztJQUMxQixzREFBb0M7Ozs7O0lBQ3BDLG1EQUE4Qjs7Ozs7SUFDOUIsK0NBQXNCOzs7OztJQUN0QixpREFBOEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZnRlclZpZXdJbml0LCBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgZm9yd2FyZFJlZiwgSG9zdEJpbmRpbmcsIEluamVjdG9yLCBJbnB1dCwgTmdab25lLCBPbkNoYW5nZXMsIE9uRGVzdHJveSwgT25Jbml0LCBPdXRwdXQsIFJlbmRlcmVyMiwgU2ltcGxlQ2hhbmdlcywgVmlld0NoaWxkLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDb250cm9sVmFsdWVBY2Nlc3NvciwgTmdDb250cm9sLCBOR19WQUxVRV9BQ0NFU1NPUiB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgRGlhbG9nQ29tcG9uZW50IH0gZnJvbSAnQGZhcnJpcy91aS1kaWFsb2cnO1xyXG5pbXBvcnQgeyBBcGlTZXJ2aWNlIH0gZnJvbSAnLi4vdXRpbHMvYXBpLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBDb21tb25VdGlsIH0gZnJvbSAnLi4vdXRpbHMvY29tbW9uLnRvb2wnO1xyXG5pbXBvcnQgeyBGYXZvcml0ZXNUb29sIH0gZnJvbSAnLi4vdXRpbHMvZmF2b3JpdGVzLnRvb2wnO1xyXG5pbXBvcnQgeyBDaGFuZ2VUeXBlLCBPcmdSZXF1ZXN0UGFyYW0sIFNhdmVHcm91cFJlcWV1c3RQYXJhbSB9IGZyb20gJy4uL3V0aWxzL2luZGV4LnR5cGUnO1xyXG5pbXBvcnQgeyBTdGF0ZU1nclRvb2wgfSBmcm9tICcuLi91dGlscy9zdGF0ZS5tZ3IudG9vbCc7XHJcbmltcG9ydCB7IFN1YmplY3QsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaC1lcyc7XHJcbmltcG9ydCB7IGRlYm91bmNlVGltZSwgZGlzdGluY3RVbnRpbENoYW5nZWQsIHN3aXRjaE1hcCwgdGFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xyXG5pbXBvcnQgeyByZXN1bHQgfSBmcm9tICdsb2Rhc2gnO1xyXG5pbXBvcnQgeyBHcm91cENvbXBvbmVudCB9IGZyb20gJy4vdGFiLWdyb3VwL2dyb3VwLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IE9yZ2FuaXphdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vdGFiLW9yZ2FuaXphdGlvbi90by5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBGYXZvcml0ZXNDb21wb25lbnQgfSBmcm9tICcuL3RhYi1mYXZvcml0ZXMvZmF2b3JpdGVzLmNvbXBvbmVudCc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2ZhcnJpcy1vcmdhbml6YXRpb24tc2VsZWN0b3InLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9vcmdhbml6YXRpb24tc2VsZWN0b3IuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL29yZ2FuaXphdGlvbi1zZWxlY3Rvci5jb21wb25lbnQuY3NzJ10sXHJcbiAgcHJvdmlkZXJzOiBbXHJcbiAgICB7XHJcbiAgICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxyXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBPcmdhbml6YXRpb25TZWxlY3RvckNvbXBvbmVudCksXHJcbiAgICAgIG11bHRpOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgRmF2b3JpdGVzVG9vbCwgQXBpU2VydmljZSwgU3RhdGVNZ3JUb29sXHJcbiAgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgT3JnYW5pemF0aW9uU2VsZWN0b3JDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95LCBDb250cm9sVmFsdWVBY2Nlc3NvciB7XHJcblxyXG4gIEBIb3N0QmluZGluZygnY2xhc3MuZi1vcmdhbml6YXRpb24tc2VsZWN0b3InKSBiYXNlQ2xzID0gdHJ1ZTtcclxuICBASG9zdEJpbmRpbmcoJ3N0eWxlLndpZHRoJykgQElucHV0KCkgd2lkdGggPSAnMTAwJSc7XHJcbiAgQFZpZXdDaGlsZCgnZmFycmlzRGlhbG9nJykgZGlhbG9nOiBEaWFsb2dDb21wb25lbnQ7XHJcbiAgQFZpZXdDaGlsZCgnbGliT3JnR3JvdXAnKSBsaWJPcmdHcm91cDogR3JvdXBDb21wb25lbnQ7XHJcbiAgQFZpZXdDaGlsZCgnbGliT3JnVHJlZScpIGxpYk9yZ1RyZWU6IE9yZ2FuaXphdGlvbkNvbXBvbmVudDtcclxuICBAVmlld0NoaWxkKCdsaWJPcmdGYXZvcml0ZXMnKSBsaWJPcmdGYXZvcml0ZXM6IEZhdm9yaXRlc0NvbXBvbmVudDtcclxuICAvLyBpbnB1dOahhuaYr+WQpuaYvuekulxyXG4gIEBJbnB1dCgpIHNob3dJbnB1dCA9IHRydWU7XHJcbiAgLy8g5Lia5Yqh5qCH6K+GXHJcbiAgQElucHV0KCkgYnVzTnVtID0gJ2NvbW1vbic7XHJcbiAgQElucHV0KCkgbXVsdGlTZWxlY3QgPSB0cnVlO1xyXG4gIEBJbnB1dCgpIHBsYWNlaG9sZGVyID0gJ+ivt+mAieaLqSc7XHJcbiAgQElucHV0KCkgc2VhcmNoUGxhY2Vob2xkZXIgPSAn6K+36L6T5YWl57yW5Y+35oiW5ZCN56ew5pCc57SiJztcclxuICBASW5wdXQoKSByZWFkb25seSA9IGZhbHNlO1xyXG4gIC8vIOS8oOWFpeeahHVybFxyXG4gIEBJbnB1dCgpIGFic1VzZXJPcmdVcmwgPSAnL2FwaS9ydW50aW1lL3N5cy92MS4wL2Fic1VzZXJPcmcnO1xyXG4gIEBJbnB1dCgpIGFic1JmUXVlcnlVcmwgPSAnL2FwaS9ydW50aW1lL3N5cy92MS4wL2Fic1JlY2VudENvbnRhY3RzL3F1ZXJ5JztcclxuICBASW5wdXQoKSBhYnNSZk1vZGlmeVVybCA9ICcvYXBpL3J1bnRpbWUvc3lzL3YxLjAvYWJzUmVjZW50Q29udGFjdHMvbW9kaWZ5JztcclxuICBASW5wdXQoKSBncm91cEFwaVVybCA9IFwiL2FwaS9ydW50aW1lL3N5cy92MS4wL29yZy1ncm91cFwiO1xyXG4gIEBJbnB1dCgpIGdyb3VwRXh0ZW5kVXJsID0gJy9wbGF0Zm9ybS9ydW50aW1lL3dmL3dlYmFwcC9uZy1mYXJyaXMtbW9iaWxlLXVpL2V4dGVuZC1vcmcuanMnO1xyXG4gIC8qKlxyXG4gICAqIOaVsOaNrua6kOexu+Wei1xyXG4gICAqIOm7mOiupOS4uu+8miBTeXN0ZW1fb3JnYW5pemF0aW9uICDns7vnu5/mlbDmja7mupAgICDojrflj5bns7vnu5/kurrlkZjjgIHns7vnu5/nu4Tnu4dcclxuICAgKiBBZG1pbmlzdHJhdGl2ZV9vcmdhbml6YXRpb24gIOW3suaJqeWxleaVsOaNrua6kCAg6I635Y+W6KGM5pS/57uE57uH44CB6KGM5pS/5Lq65ZGYXHJcbiAgICogYWJzT3JnVHlwZSB7c3RyaW5nfVxyXG4gICAqIFBlcnNvbm5lbFNlbGVjdG9yQ29tcG9uZW50XHJcbiAgICovXHJcbiAgQElucHV0KCkgYWJzT3JnVHlwZSA9ICdTeXN0ZW1fb3JnYW5pemF0aW9uJztcclxuICAvLyDlkK/nlKjliIblsYLliqDovb1cclxuICBASW5wdXQoKSBlbmFibGVIaWVyYXJjaGljYWxMb2FkaW5nID0gdHJ1ZTtcclxuICAvLyDkuI3ljIXlkKvlgZznlKjnu4Tnu4dcclxuICBASW5wdXQoKSBub3RHZXRTdG9wT3JnID0gdHJ1ZTtcclxuICBASW5wdXQoKSBwcmltYXJ5RmllbGQgPSAnb3JnSWQnO1xyXG4gIEBJbnB1dCgpIGRpc3BsYXlGaWVsZCA9ICduYW1lJztcclxuICBASW5wdXQoKSBvcmdJZHM6IHN0cmluZ1tdID0gW107XHJcbiAgLy8g5bGV5byA5bGC57qnXHJcbiAgQElucHV0KCkgbGF5ZXIgPSAxO1xyXG4gIC8vIOaYr+WQpuWQr+eUqOe6p+iBlOmAieS4rVxyXG4gIEBJbnB1dCgpIGNhc2NhZGVDaGVjayA9IHRydWU7XHJcbiAgLy8g57qn6IGU6YCJ5Lit5LiL57qnXHJcbiAgQElucHV0KCkgY2FzY2FkZURvd24gPSB0cnVlO1xyXG4gIC8vIOe6p+iBlOmAieS4reS4iue6p1xyXG4gIEBJbnB1dCgpIGNhc2NhZGVVcCA9IGZhbHNlO1xyXG4gIC8vIOaYvuekuuWFqOmAieaMiemSrlxyXG4gIEBJbnB1dCgpIHNob3dDaGVja0FsbCA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIGtlZXBTZWxlY3QgPSBmYWxzZTtcclxuICAvLyDlh73mlbDoh6rlrprkuYnovpPlh7rmoLflvI9cclxuICBASW5wdXQoKSBmb3JtYXRGbjogKG9iajogYW55KSA9PiBzdHJpbmc7XHJcbiAgLy8g5LiA5qyh5oCn5pyA5aSa6YCJ5Lit5aSa5bCR5p2hXHJcbiAgQElucHV0KCkgc2VsZWN0ZWRMaW1pdCA9IDUwO1xyXG4gIEBJbnB1dCgpIHNob3dUYWJJZHMgPSAnb3JnYW5pemF0aW9uLGZhdm9yaXRlcyc7XHJcbiAgQElucHV0KCkgYWN0aXZlVGFiSWQgPSAnb3JnYW5pemF0aW9uJztcclxuICAvLyDmkJzntKLliY3nq6/liIbpobU1MOadoVxyXG4gIEBJbnB1dCgpIHNlYXJjaFBhZ2VTaXplID0gNTA7XHJcbiAgLyoqIOWtl+auteaYoOWwhCwg5LuF5ZyoZmFycmlzIGZvcm3kuK3kvb/nlKh7IOW4ruWKqeaVsOaNruWtl+aute+8muihqOWNleWtl+autSB9ICovXHJcbiAgQElucHV0KCkgbWFwRmllbGRzOiB7IFtzb3VyY2VGaWVsZDogc3RyaW5nXTogc3RyaW5nIH07XHJcbiAgLyoqIOWkmumAieWIhumalOespiAqL1xyXG4gIEBJbnB1dCgpIG11bHRpcGxlQ2hvaWNlU2VwYXJhdG9yID0gJywnO1xyXG4gIEBJbnB1dCgpIGRyYWdnYWJsZSA9IHRydWU7XHJcbiAgQE91dHB1dCgpIHNlbGVjdGlvbnNDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICAvLyDlhajpg6jmuIXpmaTmjInpkq7op6blj5Hlm57osINcclxuICBAT3V0cHV0KCkgaW5wdXRDbGVhciA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIC8vIOagh+etvuWIoOmZpOaMiemSruWHuuWPkeWbnuiwg1xyXG4gIEBPdXRwdXQoKSB0YWdSZW1vdmVkID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcblxyXG4gIHNlbGVjdGlvbnMgPSBbXTtcclxuICBvcmlnaW5hbFNlbGVjdGlvbnMgPSBbXTtcclxuICBmaW5hbFRleHQgPSBbXTtcclxuICBsb29rdXBJY29uID0gJzxpIGNsYXNzPVwiZi1pY29uIGYtaWNvbi1sb29rdXBcIj48L2k+JztcclxuICBzZWFyY2hJY29uID0gJzxzcGFuIGNsYXNzPVwiay1pY29uIGstaS1zZWFyY2hcIj48L3NwYW4+JztcclxuICBvcmdhbml6YXRpb25UYWJJZCA9ICdvcmdhbml6YXRpb24nO1xyXG4gIGdyb3VwVGFiSWQgPSAnZ3JvdXAnO1xyXG4gIGZhdm9yaXRlc1RhYklkID0gJ2Zhdm9yaXRlcyc7XHJcbiAgZGlhbG9nSGVpZ2h0ID0gNTQ4O1xyXG4gIGRpYWxvZ0lkID0gJ2RpYWxvZ0lkJztcclxuICBpc1Nob3cgPSBmYWxzZTtcclxuICBwcml2YXRlIHNlbGVjdGlvbnNTdWI6IFN1YnNjcmlwdGlvbjtcclxuICBwcml2YXRlIGNvbmZpcm1Ub2tlbiA9IGZhbHNlO1xyXG4gIGhpZGVTZWFyY2hQYW5lbCA9IHRydWU7XHJcbiAgc2VhcmNoVGV4dCA9ICcnO1xyXG4gIG9uU2VhcmNoVG9rZW46IGFueTtcclxuICBlbmFibGVGYXZvcml0ZXM6IGJvb2xlYW47XHJcbiAgZW5hYmxlR3JvdXA6IGJvb2xlYW47XHJcbiAgZ3JvdXBEaWFsb2dPcGVuZCA9IGZhbHNlO1xyXG4gIGdyb3VwRGlhbG9nVGl0bGUgPSAn5L+d5a2Y5Li6576k57uEJztcclxuICBncm91cFRpdGxlOiBzdHJpbmc7XHJcbiAgZ3JvdXBOb3RlOiBzdHJpbmc7XHJcbiAgdmFsaWRHcm91cFRpdGxlID0gdHJ1ZTtcclxuICBwcml2YXRlIGdyb3VwVGl0bGVTdHJlYW06IFN1YmplY3Q8c3RyaW5nPiA9IG5ldyBTdWJqZWN0PHN0cmluZz4oKTtcclxuICBwdWJsaWMgbmdDb250cm9sOiBhbnk7XHJcbiAgc2VsZWN0aW9uc1Nob3cgPSBmYWxzZTtcclxuICBwcml2YXRlIGVkaXRpbmdHcm91cElkOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBjZFJlZjogQ2hhbmdlRGV0ZWN0b3JSZWY7XHJcbiAgcHJpdmF0ZSBjdXJyZW50VGFiSWQ6IHN0cmluZztcclxuXHJcbiAgZmFycmlzRGlhbG9nYmVmb3JlQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmlzU2hvdyA9IGZhbHNlO1xyXG4gICAgaWYgKHRoaXMuY29uZmlybVRva2VuKSB7XHJcbiAgICAgIHRoaXMub3JpZ2luYWxTZWxlY3Rpb25zID0gXy5jbG9uZURlZXAodGhpcy5zZWxlY3Rpb25zKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IF8uY2xvbmVEZWVwKHRoaXMub3JpZ2luYWxTZWxlY3Rpb25zKTtcclxuICAgIH1cclxuICAgIHRoaXMuaGlkZVNlYXJjaFBhbmVsID0gdHJ1ZTtcclxuICAgIHRoaXMuY29uZmlybVRva2VuID0gZmFsc2U7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIG9uTW9kZWxDaGFuZ2U6IGFueSA9ICh2YWw/OiBhbnkpID0+IHsgfTtcclxuICBvbk1vZGVsVG91Y2hlZDogYW55ID0gKHZhbD86IGFueSkgPT4geyB9O1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgcmVuZGVyOiBSZW5kZXJlcjIsXHJcbiAgICBwcml2YXRlIGluamVjdG9yOiBJbmplY3RvcixcclxuICAgIHByaXZhdGUgZmF2b3JpdGVzVG9vbDogRmF2b3JpdGVzVG9vbCxcclxuICAgIHByaXZhdGUgYXBpU2VydmljZTogQXBpU2VydmljZSxcclxuICAgIHByaXZhdGUgbmdab25lOiBOZ1pvbmUsXHJcbiAgICBwcml2YXRlIHN0YXRlTWdyOiBTdGF0ZU1nclRvb2xcclxuICApIHtcclxuICAgIHRoaXMuYXBpU2VydmljZS5hYnNVcmwgPSB0aGlzLmFic1VzZXJPcmdVcmw7XHJcbiAgICB0aGlzLmFwaVNlcnZpY2UuZ3JvdXBBcGlVcmwgPSB0aGlzLmdyb3VwQXBpVXJsO1xyXG4gICAgdGhpcy5jZFJlZiA9IHRoaXMuaW5qZWN0b3IuZ2V0KENoYW5nZURldGVjdG9yUmVmKTtcclxuICB9XHJcblxyXG4gIHdyaXRlVmFsdWUob2JqOiBhbnkpOiB2b2lkIHtcclxuICAgIGlmICghIW9iaiAmJiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykge1xyXG4gICAgICB0aGlzLmZpbmFsVGV4dCA9IG9iai5zcGxpdCh0aGlzLm11bHRpcGxlQ2hvaWNlU2VwYXJhdG9yKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZmluYWxUZXh0ID0gW107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiBhbnkpOiB2b2lkIHtcclxuICAgIHRoaXMub25Nb2RlbENoYW5nZSA9IGZuO1xyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJPblRvdWNoZWQoZm46IGFueSk6IHZvaWQge1xyXG4gICAgdGhpcy5vbk1vZGVsVG91Y2hlZCA9IGZuO1xyXG4gIH1cclxuXHJcbiAgc2V0RGlzYWJsZWRTdGF0ZT8oaXNEaXNhYmxlZDogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLmluaXREaWFsb2dIZWlnaHQoKTtcclxuICAgIHRoaXMubGlzdGVuU2VsZWN0aW9uc0NoYW5nZSgpO1xyXG4gICAgdGhpcy5pbml0VGFicygpO1xyXG4gICAgdGhpcy5pbml0R3JvdXBTZWFyY2goKTtcclxuICAgIHRoaXMubmdDb250cm9sID0gdGhpcy5pbmplY3Rvci5nZXQoTmdDb250cm9sLCBudWxsKTtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMubGlzdGVuV2luZG93UmVzaXplKCk7XHJcbiAgfVxyXG5cclxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XHJcbiAgICBjb25zdCBvcmdJZHNDaGFuZ2UgPSBjaGFuZ2VzLm9yZ0lkcztcclxuICAgIGlmIChvcmdJZHNDaGFuZ2UgJiYgb3JnSWRzQ2hhbmdlLmN1cnJlbnRWYWx1ZSkge1xyXG4gICAgICB0aGlzLmFzc2VtYmxlRGF0YUJ5T3JnSWRzKG9yZ0lkc0NoYW5nZS5jdXJyZW50VmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLnNlbGVjdGlvbnNTdWIudW5zdWJzY3JpYmUoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZW1pdFNlbGVjdGlvbnMoc2VsZWN0aW9uczogYW55LCBjaGFuZ2VUeXBlID0gQ2hhbmdlVHlwZS5WYWx1ZUNoYW5nZWQpIHtcclxuICAgIHRoaXMuc3RhdGVNZ3IuZW1pdFNlbGVjdGlvbnMoc2VsZWN0aW9ucywgY2hhbmdlVHlwZSk7XHJcbiAgfVxyXG5cclxuICAvLyDmoLnmja7lrZfmrrXmmKDlsITlhbPns7vojrflj5blvZPliY3lt7LpgInnu4Tnu4fnmoRpZO+8jOi/m+iAjOWcqOaJk+W8gOmAiee7hOe7h+W8ueeql+aXtui/m+ihjOebuOW6lOWxleekulxyXG4gIHByaXZhdGUgbWFwRmllbGRzMkNvbXBvbmVudCgpIHtcclxuICAgIGNvbnN0IGhlbHBGaWVsZHMgPSBPYmplY3Qua2V5cyh0aGlzLm1hcEZpZWxkcyk7XHJcbiAgICBpZiAoIWhlbHBGaWVsZHMuaW5jbHVkZXModGhpcy5wcmltYXJ5RmllbGQpKSB7XHJcbiAgICAgIGNvbnNvbGUud2Fybign6YCJ5Lit57uE5Lu25pWw5o2u77yM6ZyA6KaB5pig5bCE57uE5Lu25Li76ZSuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChcclxuICAgICAgdGhpcy5uZ0NvbnRyb2wgJiZcclxuICAgICAgdGhpcy5uZ0NvbnRyb2wuZm9ybURpcmVjdGl2ZSAmJlxyXG4gICAgICB0aGlzLm5nQ29udHJvbC5mb3JtRGlyZWN0aXZlLmZvcm0gJiZcclxuICAgICAgdGhpcy5uZ0NvbnRyb2wuZm9ybURpcmVjdGl2ZS5mb3JtLmJpbmRpbmdEYXRhXHJcbiAgICApIHtcclxuICAgICAgY29uc3QgYmluZGluZ0RhdGEgPSB0aGlzLm5nQ29udHJvbC5mb3JtRGlyZWN0aXZlLmZvcm0uYmluZGluZ0RhdGE7XHJcbiAgICAgIGlmIChiaW5kaW5nRGF0YS5zZXRWYWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IGJpbmRpbmdQYXRoID0gdGhpcy5uZ0NvbnRyb2wuZm9ybURpcmVjdGl2ZS5mb3JtLmJpbmRpbmdQYXRoO1xyXG4gICAgICAgIGxldCBwYXRoQXJyOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGlmIChiaW5kaW5nUGF0aCkge1xyXG4gICAgICAgICAgcGF0aEFyciA9IGJpbmRpbmdQYXRoLnNwbGl0KCcvJykuZmlsdGVyKG4gPT4gbiAhPT0gJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtdWx0aVBhdGggPSB0aGlzLm1hcEZpZWxkc1t0aGlzLnByaW1hcnlGaWVsZF0uc3BsaXQodGhpcy5tdWx0aXBsZUNob2ljZVNlcGFyYXRvcik7XHJcbiAgICAgICAgY29uc3QgZmllbGRQYXRocyA9IHBhdGhBcnIuY29uY2F0KG11bHRpUGF0aFswXS5zcGxpdCgnLicpKTtcclxuICAgICAgICBjb25zdCBpZHMgPSBiaW5kaW5nRGF0YS5nZXRWYWx1ZShmaWVsZFBhdGhzKTtcclxuICAgICAgICBpZiAoIWlkcykge1xyXG4gICAgICAgICAgdGhpcy5lbWl0U2VsZWN0aW9ucyhbXSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYXNzZW1ibGVEYXRhQnlPcmdJZHMoaWRzLnNwbGl0KHRoaXMubXVsdGlwbGVDaG9pY2VTZXBhcmF0b3IpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5qC55o2u5Lyg5YWl55qE57uE57uHaWTmlbDnu4Tojrflj5blr7nlupTnmoTnu4Tnu4dcclxuICAvLyDnlLFuZ09uQ2hhbmdlcygp44CBbWFwRmllbGRzMkNvbXBvbmVudCgp6LCD55SoXHJcbiAgcHJpdmF0ZSBhc3NlbWJsZURhdGFCeU9yZ0lkcyhpZHM6IHN0cmluZ1tdKSB7XHJcbiAgICBpZiAoIWlkcyB8fCBpZHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChpZHMgJiYgaWRzLmxlbmd0aCA+IDEgJiYgIXRoaXMubXVsdGlTZWxlY3QpIHtcclxuICAgICAgY29uc29sZS53YXJuKCfljZXpgInmqKHlvI/kuIvvvIzlj6rlhYHorrjpgInkuK3kuIDmnaHmlbDmja5+Jyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHBhcmFtOiBPcmdSZXF1ZXN0UGFyYW0gPSB7XHJcbiAgICAgIGFic09yZ1R5cGU6IHRoaXMuYWJzT3JnVHlwZSxcclxuICAgICAgaWRMaXN0OiBpZHMsXHJcbiAgICAgIGdldE9yZ0FsbFBhdGg6IHRydWUsXHJcbiAgICAgIGdldEN1clVzZXI6IGZhbHNlXHJcbiAgICB9O1xyXG4gICAgdGhpcy5hcGlTZXJ2aWNlLmdldE9yZ2FuaXphdGlvbihwYXJhbSkuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICBpZiAocmVzICYmIHJlcy5kYXRhKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gcmVzLmRhdGE7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hcEZpZWxkcykge1xyXG4gICAgICAgICAgdGhpcy5hc3NlbWJsZUZpbmFsVGV4dCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmVtaXRTZWxlY3Rpb25zKHRoaXMuc2VsZWN0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIOaehOmAoOWbnuaYvuiHs2lucHV05paH5pys5qGG55qE5YaF5a65XHJcbiAgLy8g5Zyo5pyJbWFwRmllbGRz55qE5YmN5o+Q5LiL77yM55SxYXNzZW1ibGVEYXRhQnlPcmdJZHMoKeiwg+eUqO+8jGNsZWFyQWxsKCnjgIFyZW1vdmVJdGVtKCnjgIFyZXR1cm5SZXN1bHQoKeS5n+S8muiwg+eUqFxyXG4gIHByaXZhdGUgYXNzZW1ibGVGaW5hbFRleHQoKSB7XHJcbiAgICB0aGlzLmZpbmFsVGV4dCA9IFtdO1xyXG4gICAgdGhpcy5zZWxlY3Rpb25zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGNvbnN0IGZvcm1hdGVkTmFtZSA9IHRoaXMuZm9ybWF0Rm4gJiYgdGhpcy5mb3JtYXRGbihpdGVtKTtcclxuICAgICAgY29uc3QgZmluYWxUZXh0ID0gZm9ybWF0ZWROYW1lID8gZm9ybWF0ZWROYW1lIDogaXRlbVt0aGlzLmRpc3BsYXlGaWVsZF07XHJcbiAgICAgIHRoaXMuZmluYWxUZXh0LnB1c2goZmluYWxUZXh0KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5maW5hbFRleHQgPSB0aGlzLmZpbmFsVGV4dC5zbGljZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8g5Yid5aeL5YyW5by556qXaWTlj4rpq5jluqZcclxuICAvLyDnlLFuZ09uSW5pdCgp6LCD55SoXHJcbiAgaW5pdERpYWxvZ0hlaWdodCgpIHtcclxuICAgIGNvbnN0IHV1aWQgPSBDb21tb25VdGlsLm5ld0d1aWQoKTtcclxuICAgIHRoaXMuZGlhbG9nSWQgKz0gdXVpZDtcclxuICAgIGNvbnN0IHdpbmRvd0lubmVySGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgdGhpcy5kaWFsb2dIZWlnaHQgPSB3aW5kb3dJbm5lckhlaWdodCAtIDYwO1xyXG4gICAgaWYgKHRoaXMuZGlhbG9nSGVpZ2h0ID4gNjgwKSB7XHJcbiAgICAgIHRoaXMuZGlhbG9nSGVpZ2h0ID0gNjgwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g55uR5ZCsc2VsZWN0aW9uc+eahOWPmOabtO+8jOWPmOabtOWMheWQq+S4ieenjeW9ouW8j++8mnZhbHVlQ2hhbmdl44CBYXBwZW5k44CBcmVtb3ZlXHJcbiAgLy8g55SxbmdPbkluaXQoKeiwg+eUqFxyXG4gIGxpc3RlblNlbGVjdGlvbnNDaGFuZ2UoKSB7XHJcbiAgICB0aGlzLnNlbGVjdGlvbnNTdWIgPSB0aGlzLnN0YXRlTWdyLnNlbGVjdGlvbnNTdWJqZWN0LnN1YnNjcmliZShkYXRhID0+IHtcclxuICAgICAgaWYgKGRhdGEuY2hhbmdlVHlwZSA9PT0gQ2hhbmdlVHlwZS5WYWx1ZUNoYW5nZWQpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdGlvbnMgPSBfLmNsb25lRGVlcChkYXRhLnZhbHVlKTtcclxuICAgICAgfSBlbHNlIGlmIChkYXRhLmNoYW5nZVR5cGUgPT09IENoYW5nZVR5cGUuUmVtb3ZlKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gdGhpcy5zZWxlY3Rpb25zLmZpbHRlcihpdGVtID0+IGl0ZW1bdGhpcy5wcmltYXJ5RmllbGRdICE9PSBkYXRhLnZhbHVlW3RoaXMucHJpbWFyeUZpZWxkXSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZGF0YS5jaGFuZ2VUeXBlID09PSBDaGFuZ2VUeXBlLkFwcGVuZCkge1xyXG4gICAgICAgIENvbW1vblV0aWwuZmluZEluZGV4KGRhdGEudmFsdWVbdGhpcy5wcmltYXJ5RmllbGRdLCB0aGlzLnByaW1hcnlGaWVsZCwgdGhpcy5zZWxlY3Rpb25zKSA9PT0gLTEgPyB0aGlzLnNlbGVjdGlvbnMucHVzaChkYXRhLnZhbHVlKSA6IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jZFJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIOagueaNrnNob3dUYWJJZHPliKTmlq3mmK/lkKblkK/nlKjmlLbol4/lip/og73jgIHnvqTnu4Tlip/og71cclxuICAvLyDnlLFuZ09uSW5pdCgp6LCD55SoXHJcbiAgcHJpdmF0ZSBpbml0VGFicygpIHtcclxuICAgIGlmICh0aGlzLnNob3dUYWJJZHMuaW5kZXhPZih0aGlzLmZhdm9yaXRlc1RhYklkKSAhPT0gLTEpIHtcclxuICAgICAgdGhpcy5lbmFibGVGYXZvcml0ZXMgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbmFibGVGYXZvcml0ZXMgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDmmoLkuI3lvIDlkK/nvqTnu4Tlip/og71cclxuICAgIC8vIGNvbnN0IGFsbFRhYklkc0FycmF5ID0gdGhpcy5zaG93VGFiSWRzLnNwbGl0KCcsJykuZmlsdGVyKGl0ZW0gPT4gaXRlbSAhPT0gdGhpcy5ncm91cFRhYklkKTtcclxuICAgIC8vIHRoaXMuc2hvd1RhYklkcyA9IGFsbFRhYklkc0FycmF5LmpvaW4oJywnKTtcclxuICAgIGlmICh0aGlzLnNob3dUYWJJZHMuaW5kZXhPZih0aGlzLmdyb3VwVGFiSWQpICE9PSAtMSkge1xyXG4gICAgICB0aGlzLmVuYWJsZUdyb3VwID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZW5hYmxlR3JvdXAgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIOWQr+eUqOe+pOe7hOWKn+iDveaJqeWxleWHveaVsFxyXG4gICAgLypcclxuICAgIGlmICh0aGlzLmVuYWJsZUdyb3VwKSB7XHJcbiAgICAgIGNvbnN0IGNjd29yayA9IHdpbmRvdy50b3AuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKVxyXG4gICAgICBjY3dvcmsuc3JjID0gdGhpcy5ncm91cEV4dGVuZFVybCArICc/dnM9JyArIE1hdGgucmFuZG9tKCk7XHJcbiAgICAgIHdpbmRvdy5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGNjd29yayk7XHJcbiAgICB9XHJcbiAgICAqL1xyXG4gIH1cclxuXHJcbiAgLy8g5Yik5pat576k57uE5ZCN56ew5piv5ZCm5ZCI5rOVXHJcbiAgLy8g55SxbmdPbkluaXQoKeiwg+eUqFxyXG4gIHByaXZhdGUgaW5pdEdyb3VwU2VhcmNoKCkge1xyXG4gICAgaWYgKHRoaXMuZW5hYmxlR3JvdXApIHtcclxuICAgICAgdGhpcy5ncm91cFRpdGxlU3RyZWFtLnBpcGUoXHJcbiAgICAgICAgZGVib3VuY2VUaW1lKDUwMCksXHJcbiAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKVxyXG4gICAgICApLnN1YnNjcmliZShkYXRhID0+IHtcclxuICAgICAgICBpZiAoISFkYXRhKSB7XHJcbiAgICAgICAgICB0aGlzLnZhbGlkR3JvdXBUaXRsZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudmFsaWRHcm91cFRpdGxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOW9k+a1j+iniOWZqOeql+WPo+Wkp+Wwj+WPmOabtOaXtu+8jOWPmOabtOW8ueeql+eahOWkp+Wwj1xyXG4gIC8vIOeUsW5nQWZ0ZXJWaWV3SW5pdCgp6LCD55SoXHJcbiAgbGlzdGVuV2luZG93UmVzaXplKCkge1xyXG4gICAgY29uc3QgZGlhbG9nRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgdGhpcy5kaWFsb2dJZCk7XHJcbiAgICBsZXQgdGFyZ2V0RWxlbWVudCA9IG51bGw7XHJcbiAgICBpZiAoISFkaWFsb2dFbGVtZW50KSB7XHJcbiAgICAgIHRhcmdldEVsZW1lbnQgPSBkaWFsb2dFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1kaWFsb2cnKTtcclxuICAgIH1cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICAgIGlmICghIXRhcmdldEVsZW1lbnQpIHtcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gNjA7XHJcbiAgICAgICAgaWYgKGhlaWdodCA+IDY4MCkge1xyXG4gICAgICAgICAgaGVpZ2h0ID0gNjgwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRpYWxvZ0hlaWdodCA9IGhlaWdodDtcclxuICAgICAgICBjb25zdCBpbm5lckhlaWdodCA9IGhlaWdodCArICdweCc7XHJcbiAgICAgICAgY29uc3QgbWFyZ2luVG9wID0gJy0nICsgaGVpZ2h0IC8gMiArICdweCc7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIuc2V0U3R5bGUodGFyZ2V0RWxlbWVudCwgJ2hlaWdodCcsIGlubmVySGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnJlbmRlci5zZXRTdHlsZSh0YXJnZXRFbGVtZW50LCAnbWFyZ2luLXRvcCcsIG1hcmdpblRvcCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g5Yid5aeL5YyW57uE57uH5pS26JeP5pWw5o2uXHJcbiAgLy8g55Sxc2hvd0ZhcnJpc0RpYWxvZygp6LCD55So77yM5Y2z5omT5byA6YCJ57uE57uH5by556qX5pe25Y+R6YCB6K+35rGCXHJcbiAgcHJpdmF0ZSBpbml0RmF2b3JpdGVzKCkge1xyXG4gICAgdGhpcy5mYXZvcml0ZXNUb29sLmFic09yZ1R5cGUgPSB0aGlzLmFic09yZ1R5cGU7XHJcbiAgICB0aGlzLmZhdm9yaXRlc1Rvb2wuYnVzTnVtID0gdGhpcy5idXNOdW07XHJcbiAgICB0aGlzLmZhdm9yaXRlc1Rvb2wuaWRGaWVsZCA9IHRoaXMucHJpbWFyeUZpZWxkO1xyXG4gICAgdGhpcy5mYXZvcml0ZXNUb29sLmFic1JmUXVlcnlVcmwgPSB0aGlzLmFic1JmUXVlcnlVcmw7XHJcbiAgICB0aGlzLmZhdm9yaXRlc1Rvb2wuYWJzUmZNb2RpZnlVcmwgPSB0aGlzLmFic1JmTW9kaWZ5VXJsO1xyXG4gICAgdGhpcy5mYXZvcml0ZXNUb29sLmdldEZhdm9yaXRlc0xpc3QoKS5zdWJzY3JpYmUoKHJlc3VsdCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNEYXRhID0gcmVzdWx0ID8gKHJlc3VsdCBhcyBhbnkpLm9yZ0RhdGEgOiBbXTtcclxuICAgICAgdGhpcy5mYXZvcml0ZXNUb29sLmZhdm9yaXRlc0xpc3QgPSByZXNEYXRhO1xyXG4gICAgICB0aGlzLmZhdm9yaXRlc1Rvb2wuc2V0RmF2b3JpdGVzTGlzdChyZXNEYXRhKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g5omT5byA6YCJ57uE57uH5by556qXXHJcbiAgc2hvd0ZhcnJpc0RpYWxvZygpIHtcclxuICAgIHRoaXMuaXNTaG93ID0gdHJ1ZTtcclxuICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kaWFsb2cuc2hvdygpO1xyXG4gICAgICAgIGlmICh0aGlzLnNob3dUYWJJZHMuaW5kZXhPZih0aGlzLmZhdm9yaXRlc1RhYklkKSAhPT0gLTEpIHtcclxuICAgICAgICAgIHRoaXMuaW5pdEZhdm9yaXRlcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5tYXBGaWVsZHMpIHtcclxuICAgICAgICAgIHRoaXMubWFwRmllbGRzMkNvbXBvbmVudCgpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXRlTWdyLmVtaXRTZWxlY3Rpb25zKHRoaXMuc2VsZWN0aW9ucywgQ2hhbmdlVHlwZS5WYWx1ZUNoYW5nZWQpO1xyXG4gICAgICB9KTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvLyBpbnB1dOaWh+acrOahhuWGheeCueWHu+a4hemZpOaMiemSruaXtuinpuWPkVxyXG4gIGNsZWFyQWxsKCkge1xyXG4gICAgdGhpcy5zZWxlY3Rpb25zID0gW107XHJcbiAgICB0aGlzLmFzc2VtYmxlRmluYWxUZXh0KCk7XHJcbiAgICB0aGlzLm9uTW9kZWxDaGFuZ2UodGhpcy5maW5hbFRleHQuam9pbigpKTtcclxuICAgIHRoaXMub25Nb2RlbFRvdWNoZWQodGhpcy5maW5hbFRleHQuam9pbigpKTtcclxuICAgIHRoaXMuZW1pdFNlbGVjdGlvbnMoW10pO1xyXG4gICAgdGhpcy5pbnB1dENsZWFyLmVtaXQoKTtcclxuICB9XHJcblxyXG4gIC8vIGlucHV05paH5pys5qGG5YaF5Yig6Zmk5p+Q5LiA5Liq5bey6YCJ57uE57uH5pe26Kem5Y+RXHJcbiAgcmVtb3ZlSXRlbShkYXRhOiBhbnksIGluZGV4OiBudW1iZXIpIHtcclxuICAgIHRoaXMuc2VsZWN0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgdGhpcy5hc3NlbWJsZUZpbmFsVGV4dCgpO1xyXG4gICAgLy8g5YWz6IGU5oiWdWR05YWI5Ye66Z2e5Li76ZSu55qEXHJcbiAgICB0aGlzLm9uTW9kZWxDaGFuZ2UodGhpcy5maW5hbFRleHQuam9pbigpKTtcclxuICAgIHRoaXMub25Nb2RlbFRvdWNoZWQodGhpcy5maW5hbFRleHQuam9pbigpKTtcclxuICAgIHRoaXMuZW1pdFNlbGVjdGlvbnMoZGF0YSwgQ2hhbmdlVHlwZS5SZW1vdmUpO1xyXG4gICAgdGhpcy50YWdSZW1vdmVkLmVtaXQoe1xyXG4gICAgICBkZWxldGVJdGVtOiBkYXRhLFxyXG4gICAgICBkZWxldGVJbmRleDogaW5kZXgsXHJcbiAgICAgIHNlbGVjdGlvbnM6IHRoaXMuc2VsZWN0aW9uc1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDmuIXnqbrmnIDov5Hlt7LpgInnu4Tnu4dcclxuICBjbGVhclNlbGV0aW9ucygpIHtcclxuICAgIHRoaXMuc3RhdGVNZ3IuZW1pdFNlbGVjdGlvbnMoW10sIENoYW5nZVR5cGUuVmFsdWVDaGFuZ2VkKTtcclxuICB9XHJcblxyXG4gIC8vIOeCueWHu+aQnOe0ouaMiemSruaIluiAheaVsuWHu+Wbnui9puaXtuinpuWPkVxyXG4gIG9uU2VhcmNoKCkge1xyXG4gICAgaWYgKCEhdGhpcy5zZWFyY2hUZXh0KSB7XHJcbiAgICAgIHRoaXMuaGlkZVNlYXJjaFBhbmVsID0gZmFsc2U7XHJcbiAgICAgIHRoaXMub25TZWFyY2hUb2tlbiA9IENvbW1vblV0aWwubmV3R3VpZCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5riF56m657uE57uH5pCc57Si5YaF5a655pe26Kem5Y+RXHJcbiAgY2xlYXJTZWFyY2goKSB7XHJcbiAgICB0aGlzLmhpZGVTZWFyY2hQYW5lbCA9IHRydWU7XHJcbiAgICB0aGlzLm9uU2VhcmNoVG9rZW4gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIOebkeWQrOaQnOe0ouahhuWGhei+k+WFpeeahOaWh+acrFxyXG4gIGxpc3RlblNlYXJjaFRleHQoZSkge1xyXG4gICAgaWYgKGUuY29kZSA9PT0gJ0JhY2tzcGFjZScgfHwgZS5jb2RlID09PSAnRGVsZXRlJykge1xyXG4gICAgICBpZiAoIXRoaXMuc2VhcmNoVGV4dCkge1xyXG4gICAgICAgIHRoaXMuY2xlYXJTZWFyY2goKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g55uR5ZCs5pCc57Si6aG155qE5YWz6Zet5LqL5Lu277yM55uu5YmN5Y+q5Lya5o6l5pS25YiwdHJ1ZVxyXG4gIGxpc3RlbkNsb3NlUGFuZWxDaGFuZ2UoZSkge1xyXG4gICAgdGhpcy5oaWRlU2VhcmNoUGFuZWwgPSBlO1xyXG4gIH1cclxuXHJcbiAgLy8g5YWz6Zet5L+d5a2Y576k57uE55qE5by556qX5pe254K55Ye74oCc5Y+W5raI4oCd5oiW6ICF5Y+z5LiK6KeS5Y+J5Y+36Kem5Y+RXHJcbiAgY2xvc2VHcm91cERpYWxvZygpIHtcclxuICAgIHRoaXMuZ3JvdXBEaWFsb2dPcGVuZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5lZGl0aW5nR3JvdXBJZCA9IG51bGw7XHJcbiAgICB0aGlzLmdyb3VwVGl0bGUgPSBudWxsO1xyXG4gICAgdGhpcy5ncm91cE5vdGUgPSBudWxsO1xyXG4gICAgdGhpcy5ncm91cERpYWxvZ1RpdGxlID0gJ+S/neWtmOS4uue+pOe7hCc7XHJcbiAgfVxyXG5cclxuICAvLyDlnKjkv53lrZjnvqTnu4TnmoTlvLnnqpflhoXvvIzkv67mlLnnvqTnu4TlkI3np7Dml7bop6blj5HvvIznm5HlkKxrZXl1cOS6i+S7tlxyXG4gIGxpc3Rlbkdyb3VwVGl0bGUoZSkge1xyXG4gICAgdGhpcy5ncm91cFRpdGxlU3RyZWFtLm5leHQodGhpcy5ncm91cFRpdGxlKTtcclxuICB9XHJcblxyXG4gIC8vIOmAiee7hOe7h+eahOW8ueeql+WGheacieS4gOS4quKAnOW3sumAieKAneagh+W/l++8jOm8oOagh+enu+S4iuWOu+WQjuS8muaYvuekuuW3sumAiee7hOe7h+eahOmhtemdou+8jOivpemhtemdouWGheacieKAnOS/neWtmOS4uue+pOe7hOKAneeahOaMiemSru+8jOeCueWHu+WQjuWPr+S7peaJk+W8gOS/neWtmOe+pOe7hOeahOW8ueeql1xyXG4gIGxpc3Rlbk9wZW5Hcm91cChlKSB7XHJcbiAgICB0aGlzLmdyb3VwRGlhbG9nT3BlbmQgPSBlO1xyXG4gIH1cclxuXHJcbiAgLy8g54K55Ye7576k57uE57yW6L6R5oyJ6ZKu6Kem5Y+R77yM5Y+v5L+u5pS56YCJ5Lit576k57uE55qE5ZCN56ew5Y+K5o+P6L+wXHJcbiAgbGlzdGVuR3JvdXBDaGFuZ2UoaXRlbTogYW55KSB7XHJcbiAgICB0aGlzLmdyb3VwRGlhbG9nT3BlbmQgPSB0cnVlO1xyXG4gICAgdGhpcy5lZGl0aW5nR3JvdXBJZCA9IGl0ZW0uaWQ7XHJcbiAgICB0aGlzLmdyb3VwVGl0bGUgPSBpdGVtLnRpdGxlO1xyXG4gICAgdGhpcy5ncm91cE5vdGUgPSBpdGVtLmRlc2NyaXB0aW9uO1xyXG4gICAgdGhpcy5ncm91cERpYWxvZ1RpdGxlID0gJ+e8lui+kee+pOe7hCc7XHJcbn1cclxuXHJcbiAgLy8g5YWz6Zet5L+d5a2Y576k57uE55qE5by556qX5pe254K55Ye74oCc56Gu5a6a4oCd6Kem5Y+R77yM5bCG5b2T5YmN5bey6YCJ57uE57uH5L+d5a2Y5Li65LiA5Liq5paw55qE576k57uEXHJcbiAgc2F2ZUdyb3VwKCkge1xyXG4gICAgaWYgKCF0aGlzLmdyb3VwVGl0bGUpIHtcclxuICAgICAgdGhpcy52YWxpZEdyb3VwVGl0bGUgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZ3JvdXBJZCA9IENvbW1vblV0aWwubmV3R3VpZCgpO1xyXG4gICAgbGV0IGdyb3VwQ29kZSA9ICdvcmdHcm91cF9wcml2YXRlXyc7XHJcbiAgICBncm91cENvZGUgKz0gTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDIsIDEwKTtcclxuICAgIGNvbnN0IGFkZElkcyA9IFtdO1xyXG4gICAgdGhpcy5zZWxlY3Rpb25zLmZvckVhY2goc2VsZWN0aW9uID0+IHtcclxuICAgICAgYWRkSWRzLnB1c2goc2VsZWN0aW9uW3RoaXMucHJpbWFyeUZpZWxkXSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZ3JvdXBEaWFsb2dPcGVuZCA9IGZhbHNlO1xyXG4gICAgY29uc3QgYm9keTogU2F2ZUdyb3VwUmVxZXVzdFBhcmFtID0ge1xyXG4gICAgICBncm91cElkLFxyXG4gICAgICBncm91cENvZGUsXHJcbiAgICAgIHRpdGxlOiB0aGlzLmdyb3VwVGl0bGUsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmdyb3VwTm90ZSxcclxuICAgICAgYWJzT3JnVHlwZTogdGhpcy5hYnNPcmdUeXBlLFxyXG4gICAgICBjaGFuZ2VUeXBlOiBOdW1iZXIoMSlcclxuICAgIH07XHJcbiAgICBpZiAodGhpcy5lZGl0aW5nR3JvdXBJZCkge1xyXG4gICAgICBib2R5Lmdyb3VwSWQgPSB0aGlzLmVkaXRpbmdHcm91cElkO1xyXG4gICAgICBib2R5LmNoYW5nZVR5cGUgPSBOdW1iZXIoMik7XHJcbiAgICAgIGRlbGV0ZSBib2R5Lmdyb3VwQ29kZTtcclxuICAgICAgdGhpcy51cGRhdGVOYW1lT3JOb3RlKGJvZHkpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBuZXdHcm91cCQgPSB0aGlzLmFwaVNlcnZpY2Uuc2F2ZUdyb3VwKGJvZHkpO1xyXG4gICAgbmV3R3JvdXAkLnBpcGUoXHJcbiAgICAgIHN3aXRjaE1hcChcclxuICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn576k57uE5L+d5a2Y5oiQ5Yqf77yBJyk7XHJcbiAgICAgICAgICB0aGlzLmxpYk9yZ0dyb3VwLnNlbGVjdGVkR3JvdXBJZCA9IGdyb3VwSWQ7XHJcbiAgICAgICAgICBjb25zdCBhZGRPcmdzSW5OZXdHcm91cCQgPSB0aGlzLmFwaVNlcnZpY2Uuc2F2ZUdyb3VwKHtcclxuICAgICAgICAgICAgZ3JvdXBJZCxcclxuICAgICAgICAgICAgYWRkSWRzLFxyXG4gICAgICAgICAgICBkZWxldGVJZHM6IFtdLFxyXG4gICAgICAgICAgICBjaGFuZ2VUeXBlOiBOdW1iZXIoMylcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIGFkZE9yZ3NJbk5ld0dyb3VwJC5waXBlKFxyXG4gICAgICAgICAgICB0YXAoXHJcbiAgICAgICAgICAgICAgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+W3suS4uuaWsOe+pOe7hOa3u+WKoOe7hOe7h+aIkOWRmO+8gScpO1xyXG4gICAgICAgICAgICAgICAgICBpZih0aGlzLmN1cnJlbnRUYWJJZCA9PSB0aGlzLmdyb3VwVGFiSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpYk9yZ0dyb3VwLmFzc2VtYmxlRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgKVxyXG4gICAgKS5zdWJzY3JpYmUoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlTmFtZU9yTm90ZShwYXJhbTogU2F2ZUdyb3VwUmVxZXVzdFBhcmFtKSB7XHJcbiAgICBjb25zdCB1cGRhdGVJbmZvJCA9IHRoaXMuYXBpU2VydmljZS5zYXZlR3JvdXAocGFyYW0pO1xyXG4gICAgdXBkYXRlSW5mbyQucGlwZShcclxuICAgICAgdGFwKFxyXG4gICAgICAgIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICBpZihkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfkv67mlLnnvqTnu4Tkv6Hmga/miJDlip/vvIEnKTtcclxuICAgICAgICAgICAgdGhpcy5lZGl0aW5nR3JvdXBJZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBUaXRsZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBOb3RlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5ncm91cERpYWxvZ1RpdGxlID0gJ+S/neWtmOS4uue+pOe7hCc7XHJcbiAgICAgICAgICAgIHRoaXMubGliT3JnR3JvdXAuYXNzZW1ibGVEYXRhKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICApLnN1YnNjcmliZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8g54K55Ye76YCJ57uE57uH5by556qX55qE56Gu5a6a5oiW6ICF5Y+W5raI5oyJ6ZKu5pe26Kem5Y+R77yMMeS4uuehruWumu+8jDDkuLrlj5bmtohcclxuICByZXR1cm5SZXN1bHQodHlwZTogbnVtYmVyKSB7XHJcbiAgICBsZXQgZmluYWxUZXh0ID0gJyc7XHJcbiAgICBpZiAoISF0eXBlKSB7XHJcbiAgICAgIHRoaXMuY29uZmlybVRva2VuID0gdHJ1ZTtcclxuICAgICAgdGhpcy5hc3NlbWJsZUZpbmFsVGV4dCgpO1xyXG4gICAgICBmaW5hbFRleHQgPSB0aGlzLmZpbmFsVGV4dC5qb2luKCk7XHJcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbnMgJiYgdGhpcy5zZWxlY3Rpb25zLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uc0NoYW5nZS5lbWl0KHtcclxuICAgICAgICAgIHNlbGVjdGlvbnM6IHRoaXMuc2VsZWN0aW9uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25Nb2RlbENoYW5nZShmaW5hbFRleHQpO1xyXG4gICAgICAgIHRoaXMub25Nb2RlbFRvdWNoZWQoZmluYWxUZXh0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm9uTW9kZWxDaGFuZ2UoZmluYWxUZXh0KTtcclxuICAgICAgICB0aGlzLm9uTW9kZWxUb3VjaGVkKGZpbmFsVGV4dCk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zQ2hhbmdlLmVtaXQoe1xyXG4gICAgICAgICAgc2VsZWN0aW9uczogdGhpcy5zZWxlY3Rpb25zXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMub3JnSWRzID0gW107XHJcbiAgICB0aGlzLmRpYWxvZy5jbG9zZSgpO1xyXG4gICAgdGhpcy5pc1Nob3cgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGNoYW5nZVRhYnMoZTogYW55KSB7XHJcbiAgICBpZiAoZS5uZXh0SWQgPT09IHRoaXMuZ3JvdXBUYWJJZCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRUYWJJZCA9IHRoaXMuZ3JvdXBUYWJJZDtcclxuICAgICAgdGhpcy5saWJPcmdHcm91cC5zZWxlY3Rpb25zID0gXy5jbG9uZURlZXAodGhpcy5zZWxlY3Rpb25zKTtcclxuICAgICAgdGhpcy5saWJPcmdHcm91cC5hc3NlbWJsZURhdGEoKTtcclxuICAgIH0gZWxzZSBpZihlLm5leHRJZCA9PT0gdGhpcy5mYXZvcml0ZXNUYWJJZCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRUYWJJZCA9IHRoaXMuZmF2b3JpdGVzVGFiSWQ7XHJcbiAgICAgIC8vIHRoaXMubGliT3JnRmF2b3JpdGVzLnNlbGVjdGlvbnMgPSBfLmNsb25lRGVlcCh0aGlzLnNlbGVjdGlvbnMpO1xyXG4gICAgICAvLyB0aGlzLmxpYk9yZ0Zhdm9yaXRlcy5hc3NlbWJsZURhdGEoKTtcclxuICAgIH0gZWxzZSBpZihlLm5leHRJZCA9PT0gdGhpcy5vcmdhbml6YXRpb25UYWJJZCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRUYWJJZCA9IHRoaXMub3JnYW5pemF0aW9uVGFiSWQ7XHJcbiAgICAgIC8vIHRoaXMubGliT3JnVHJlZS5zZWxlY3Rpb25zID0gXy5jbG9uZURlZXAodGhpcy5zZWxlY3Rpb25zKTtcclxuICAgICAgLy8gdGhpcy5saWJPcmdUcmVlLmFzc2VtYmxlRGF0YSgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=