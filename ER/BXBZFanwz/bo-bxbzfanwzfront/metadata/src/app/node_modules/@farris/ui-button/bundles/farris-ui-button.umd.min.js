!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("@farris/ui-button",["exports","@angular/common","@angular/core","rxjs"],e):e((t.farris=t.farris||{},t.farris["ui-button"]={}),t.ng.common,t.ng.core,t.rxjs)}(this,function(t,e,n,i){"use strict";var o=(r.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],r.ctorParameters=function(){return[]},r.ngInjectableDef=n.defineInjectable({factory:function(){return new r},token:r,providedIn:"root"}),r);function r(){}var s=(a.prototype.clickEvent=function(t){t.stopPropagation(),this.disabled||this.click.emit(t)},a.decorators=[{type:n.Component,args:[{selector:"farris-button",template:"\n    <button [class]=\"(size === 'large'?'btn-lg ':'btn-sm ')+\n    'btn '+ (type?'btn-'+type+' ':'')\"\n    [class.disabled]=\"disabled\" (click)=\"clickEvent($event)\">\n      <ng-content></ng-content>\n    </button>\n  "}]}],a.ctorParameters=function(){return[]},a.propDecorators={text:[{type:n.Input}],size:[{type:n.Input}],type:[{type:n.Input}],disabled:[{type:n.Input}],click:[{type:n.Output}]},a);function a(){this.size="small",this.type="primary",this.click=new n.EventEmitter}var c=(Object.defineProperty(p.prototype,"placement",{get:function(){return this._placement},set:function(t){t&&t!==this._placement&&(this.realPlacement=this.getRealPlacement(t),this._placement=t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"flatButtons",{get:function(){return this.data&&this.data.slice(0,this.count)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dpButtons",{get:function(){return this.data&&this.data.slice(this.count)},enumerable:!0,configurable:!0}),p.prototype.ngOnInit=function(){},p.prototype.ngOnChanges=function(t){t.data},p.prototype.ngAfterViewInit=function(){},p.prototype.ngAfterViewChecked=function(){this.show&&this.setPosition(this.event)},p.prototype.clickEvent=function(t){var e=this;t.stopPropagation(),this.show=!this.show,this.show&&(this.appendBody(),this.event=t,this.ngZone.runOutsideAngular(function(){e.bindMenuMouseenter(),e.bindiMenuMouseleave(),e.mouseNotEnterLeave()})),this.changeRef.detectChanges(),this.changeRef.markForCheck(),this.changeState.emit(this.show)},p.prototype.toggle=function(t,e){t.stopPropagation(),e.disabled||(this.show=!1,this.changeRef.detectChanges(),this.changeRef.markForCheck(),this.change.emit(e.id),this.click.emit(e))},p.prototype.appendBody=function(){this.dpMenu.nativeElement&&document.body.appendChild(this.dpMenu.nativeElement)},p.prototype.changePlacement=function(t){if(this.autoRectify){var e=this.getReferencePosition(),n=this.realPlacement;-1<n.indexOf("bottom")?this._menuHeight>e.bottom-t.bottom&&(n=n.replace("bottom","top")):-1<n.indexOf("top")&&this._menuHeight>t.top-e.top&&(n=n.replace("top","bottom")),-1<n.indexOf("left")?this._menuWidth>t.left-e.left&&(n=n.replace("left","right")):-1<n.indexOf("right")&&this._menuWidth>e.right-t.right&&(n=n.replace("right","left")),this.rectifyPlacement=n}},p.prototype.getReferencePosition=function(){var t=document.documentElement.clientWidth,e=document.documentElement.clientHeight,n=0,i=0;return this.rectifyReferenceH&&(t=this.rectifyReferenceH.getBoundingClientRect().right,i=this.rectifyReferenceH.getBoundingClientRect().left),this.rectifyReferenceV&&(e=this.rectifyReferenceV.getBoundingClientRect().bottom,n=this.rectifyReferenceV.getBoundingClientRect().top),{top:n,left:i,right:t,bottom:e}},p.prototype._getClsName=function(t){var e="";switch(t){case"top-right":case"top":e="dropup";break;case"top-left":e="dropup-left";break;case"left-bottom":case"left":e="dropleft";break;case"left-top":e="dropleft-up";break;case"right-bottom":case"right":e="dropright";break;case"right-top":e="dropright-up";break;case"bottom-left":e="dropdown-left";break;case"bottom-right":e="dropdown";break;default:e="dropdown"}return e},p.prototype.getRealPlacement=function(t){var e="bottom-right";switch(t){case"top":e="top-right";break;case"left":e="left-bottom";break;case"right":e="right-bottom";break;case"bottom":e="bottom-right";break;default:e=t}return e},p.prototype.changePosition=function(t){var e="",n=0,i=0;-1<(e=this.autoRectify?this.rectifyPlacement:this.realPlacement).indexOf("top")?n=t.top-this._menuHeight:-1<e.indexOf("bottom")&&(n=t.bottom),-1<e.indexOf("right")?i=t.right:-1<e.indexOf("left")&&(i=t.left-this._menuWidth),-1<e.indexOf("-top")?n-=t.height:-1<e.indexOf("-bottom")&&(n+=t.height),this.dpMenu.nativeElement.style.top=n+"px",this.dpMenu.nativeElement.style.left=i+"px"},p.prototype.bindMenuMouseenter=function(){this.mouseenterEvent=this.changeFlagToTrue.bind(this),this.dpMenu.nativeElement.addEventListener("mouseenter",this.mouseenterEvent)},p.prototype.bindiMenuMouseleave=function(){this.mouseleaveEvent=this.mouseLeave.bind(this),this.dpMenu.nativeElement.addEventListener("mouseleave",this.mouseleaveEvent)},p.prototype.unbindMenuMouseenter=function(){this.mouseenterEvent&&this.dpMenu.nativeElement.removeEventListener("mouseenter",this.mouseenterEvent)},p.prototype.unbindiMenuMouseleave=function(){this.mouseleaveEvent&&this.dpMenu.nativeElement.removeEventListener("mouseleave",this.mouseleaveEvent)},p.prototype.changeFlagToTrue=function(){this.dpFlag=!0},p.prototype.changeFlagToFalse=function(){this.dpFlag=!1},p.prototype.mouseLeave=function(){var t=this;this.dpFlag&&(this.changeFlagToFalse(),this.unbindiMenuMouseleave(),this.unbindMenuMouseenter(),this.close(),this.setTimeObj&&this.ngZone.runOutsideAngular(function(){clearTimeout(t.setTimeObj)}))},p.prototype.mouseNotEnterLeave=function(){var t=this;this.ngZone.runOutsideAngular(function(){t.setTimeObj=setTimeout(function(){t.dpFlag||(t.changeFlagToFalse(),t.unbindiMenuMouseleave(),t.unbindMenuMouseenter(),t.close(),t.setTimeObj&&clearTimeout(t.setTimeObj))},1500)})},p.prototype.close=function(){this.show=!1,this.changeRef.destroyed||(this.changeRef.detectChanges(),this.changeRef.markForCheck())},p.prototype.setPosition=function(t){var e=this.dpBtn.nativeElement.getBoundingClientRect(),n=this.dpMenu.nativeElement.getBoundingClientRect();this._menuHeight=n.height,this._menuWidth=n.width,this.autoRectify&&this.changePlacement(e),this.changePosition(e)},p.prototype.ngOnDestroy=function(){},p.decorators=[{type:n.Component,args:[{selector:"farris-button-group",template:'<div class="f-btn-group">\r\n    <div [class]="(size===\'large\'?\'btn-group-lg\':\'btn-group-sm\')+\' btn-group f-btn-group-links\'">\r\n        <ng-container *ngFor="let btn of flatButtons">\r\n            <ng-container *ngIf="btn.icon">\r\n                <button [id]="btn.id" class="btn btn-link btn-icontext" [disabled]="btn.disabled" (click)="toggle($event,btn)">\r\n                       <i class="f-icon"  [ngClass]="btn.icon"></i>\r\n                </button>\r\n            </ng-container>\r\n            <ng-container *ngIf="!btn.icon">\r\n            <button [id]="btn.id"\r\n                [class]="\'btn \'+(btn.type?\'btn-\'+btn.type:\'btn-link\')+\' \'+ (btn.type && btn.type !== \'link\' ? \'f-btn-ml\' :\'\')"\r\n                [disabled]="btn.disabled" (click)="toggle($event,btn)">\r\n                {{btn.text}}\r\n            </button> \r\n            </ng-container>\r\n        </ng-container>\r\n    </div>\r\n    <ng-container *ngIf="dpButtons.length">\r\n        <div class="btn-group f-btn-group-dropdown">\r\n            <button #dpBtn type="button" class="f-btn-dropdown" (click)="clickEvent($event)">\r\n                <span class="f-icon f-icon-lookup"></span>\r\n            </button>\r\n            <div #dpMenu class="dropdown-menu f-btn-group-dropdown-menu" [class.show]="show"  style="position:fixed;">\r\n                <ng-container *ngFor="let dpBtn of dpButtons">\r\n                    <div class="dropdown-divider" *ngIf="dpBtn.divider"></div>\r\n                    <li [id]="dpBtn.id" class="dropdown-item" [class.disabled]="dpBtn.disabled"\r\n                        (click)="toggle($event,dpBtn)">\r\n                        <ng-container *ngIf="dpBtn.icon">\r\n                            <i class="f-icon dropdown-item-icon" [ngClass]="dpBtn.icon"></i>\r\n                        </ng-container>\r\n                        <span>{{dpBtn.text}}</span>\r\n                    </li>\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</div>',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],p.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:n.NgZone}]},p.propDecorators={dpBtn:[{type:n.ViewChild,args:["dpBtn"]}],dpMenu:[{type:n.ViewChild,args:["dpMenu"]}],rectifyReferenceH:[{type:n.Input}],rectifyReferenceV:[{type:n.Input}],autoRectify:[{type:n.Input}],data:[{type:n.Input}],count:[{type:n.Input}],size:[{type:n.Input}],type:[{type:n.Input}],placement:[{type:n.Input}],width:[{type:n.Input}],height:[{type:n.Input}],changeState:[{type:n.Output}],change:[{type:n.Output}],click:[{type:n.Output}],clickMenuOut:[{type:n.Output}],autoSize:[{type:n.Input}]},p);function p(t,e){this.changeRef=t,this.ngZone=e,this.autoRectify=!0,this.realPlacement="bottom-right",this.rectifyPlacement="bottom-right",this.count=2,this.size="small",this.type="primary",this._placement="bottom",this.width=120,this.height=250,this._menuWidth=0,this._menuHeight=0,this.changeState=new n.EventEmitter,this.change=new n.EventEmitter,this.click=new n.EventEmitter,this.clickMenuOut=new n.EventEmitter,this.autoSize=!1,this.show=!1,this.setPosition$=new i.Subject}var u=(h.decorators=[{type:n.NgModule,args:[{declarations:[s,c],imports:[e.CommonModule],exports:[s,c]}]}],h);function h(){}t.FarrisButtonService=o,t.FarrisButtonComponent=s,t.FarrisButtonModule=u,t.FarrisButtonGroupComponent=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-button.umd.min.js.map