!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/forms"),require("@angular/common/http"),require("@farris/ui-dialog"),require("@edp-aif/common-api"),require("@farris/ui-treetable"),require("@farris/ui-notify"),require("@farris/ui-messager"),require("@farris/command-services"),require("@angular/core"),require("@farris/ui-modal"),require("@farris/devkit"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@edp-aif/runtime-api",["exports","@angular/common","@angular/forms","@angular/common/http","@farris/ui-dialog","@edp-aif/common-api","@farris/ui-treetable","@farris/ui-notify","@farris/ui-messager","@farris/command-services","@angular/core","@farris/ui-modal","@farris/devkit","rxjs","rxjs/operators"],e):e((t["edp-aif"]=t["edp-aif"]||{},t["edp-aif"]["runtime-api"]={}),t.ng.common,t.ng.forms,t.ng.common.http,t.uiDialog,t.commonApi,t.uiTreetable,t.uiNotify,t.uiMessager,t.commandServices,t.ng.core,t.uiModal,t.devkit,t.rxjs,t.rxjs.operators)}(this,function(t,e,o,r,n,i,s,a,l,u,c,p,d,h,m){"use strict";var b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};function y(t,e){function o(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var I,f=(y(g,I=i.JsonConvertableImpl),g.prototype.ResetBeforeLoadFrom=function(){I.prototype.ResetBeforeLoadFrom.call(this),this.relationName=null,this.srcRootTableName=null,this.srcRootDataId=null,this.srcParentTableName=null,this.srcParentDataId=null,this.srcTableName=null,this.srcDataId=null,this.tarRootTableName=null,this.tarRootDataId=null,this.tarParentTableName=null,this.tarParentDataId=null,this.tarTableName=null,this.tarDataId=null,this.srcTableNamePath=null,this.srcDataIdPath=null,this.tarTableNamePath=null,this.tarDataIdPath=null,this.mappingUnitId=null,this.associationType=null},g.prototype.ConvertToJsonObject=function(){var t=I.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"relationName",this.relationName),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcRootTableName",this.srcRootTableName),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcRootDataId",this.srcRootDataId),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcParentTableName",this.srcParentTableName),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcParentDataId",this.srcParentDataId),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcTableName",this.srcTableName),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcDataId",this.srcDataId),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarRootTableName",this.tarRootTableName),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarRootDataId",this.tarRootDataId),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarParentTableName",this.tarParentTableName),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarParentDataId",this.tarParentDataId),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarTableName",this.tarTableName),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarDataId",this.tarDataId),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcTableNamePath",this.srcTableNamePath),i.BpmnModelJsonHelper.SetAttributeValue(t,"srcDataIdPath",this.srcDataIdPath),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarTableNamePath",this.tarTableNamePath),i.BpmnModelJsonHelper.SetAttributeValue(t,"tarDataIdPath",this.tarDataIdPath),i.BpmnModelJsonHelper.SetAttributeValue(t,"mappingUnitId",this.mappingUnitId),i.BpmnModelJsonHelper.SetAttributeValue(t,"associationType",this.associationType),t},g.prototype.LoadFromJsonObject=function(t){I.prototype.LoadFromJsonObject.call(this,t),this.relationName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"relationName"),this.srcRootTableName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcRootTableName"),this.srcRootDataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcRootDataId"),this.srcParentTableName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcParentTableName"),this.srcParentDataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcParentDataId"),this.srcTableName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcTableName"),this.srcDataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcDataId"),this.tarRootTableName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarRootTableName"),this.tarRootDataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarRootDataId"),this.tarParentTableName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarParentTableName"),this.tarParentDataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarParentDataId"),this.tarTableName=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarTableName"),this.tarDataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarDataId"),this.srcTableNamePath=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcTableNamePath"),this.srcDataIdPath=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"srcDataIdPath"),this.tarTableNamePath=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarTableNamePath"),this.tarDataIdPath=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"tarDataIdPath"),this.mappingUnitId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"mappingUnitId"),this.associationType=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"associationType")},g);function g(){return null!==I&&I.apply(this,arguments)||this}var A,V=(y(v,A=i.JsonConvertableImpl),v.prototype.ResetBeforeLoadFrom=function(){A.prototype.ResetBeforeLoadFrom.call(this),this.creationRuleId=null,this.creationRuleInstanceId=null,this.bizFlowchartId=null,this.creationProcessId=null,this.creationProcessInstanceId=null,this.isAllAssociation=!1,this.associations=new Array},v.prototype.ConvertToJsonObject=function(){var t=A.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleId",this.creationRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleInstanceId",this.creationRuleInstanceId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"creationProcessId",this.creationProcessId),i.BpmnModelJsonHelper.SetAttributeValue(t,"creationProcessInstanceId",this.creationProcessInstanceId),i.BpmnModelJsonHelper.SetAttributeValue(t,"isAllAssociation",this.isAllAssociation),i.BpmnModelJsonHelper.SetAttributeValue(t,"associations",this.associations),t},v.prototype.LoadFromJsonObject=function(t){A.prototype.LoadFromJsonObject.call(this,t),this.creationRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleId"),this.creationRuleInstanceId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleInstanceId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.creationProcessId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationProcessId"),this.creationProcessInstanceId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationProcessInstanceId"),this.isAllAssociation=i.BpmnModelJsonHelper.GetAttributeValueAsBoolean(t,"isAllAssociation"),this.associations=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"associations",f)},v);function v(){var t=null!==A&&A.apply(this,arguments)||this;return t.isAllAssociation=!1,t.associations=new Array,t}var S,R=(y(J,S=i.JsonConvertableImpl),J.prototype.ResetBeforeLoadFrom=function(){S.prototype.ResetBeforeLoadFrom.call(this),this.upperBeFuncSessionId=null,this.associations=new Array},J.prototype.ConvertToJsonObject=function(){var t=S.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"upperBeFuncSessionId",this.upperBeFuncSessionId),i.BpmnModelJsonHelper.SetAttributeValue(t,"associations",this.associations),t},J.prototype.LoadFromJsonObject=function(t){S.prototype.LoadFromJsonObject.call(this,t),this.upperBeFuncSessionId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"upperBeFuncSessionId"),this.associations=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"associations",V)},J);function J(){var t=null!==S&&S.apply(this,arguments)||this;return t.associations=new Array,t}var B,M=(y(C,B=i.JsonConvertableImpl),C.prototype.ResetBeforeLoadFrom=function(){B.prototype.ResetBeforeLoadFrom.call(this),this.voId=null,this.changeDetail=null},C.prototype.ConvertToJsonObject=function(){var t=B.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"voId",this.voId),i.BpmnModelJsonHelper.SetAttributeValue(t,"changeDetail",this.changeDetail),t},C.prototype.LoadFromJsonObject=function(t){B.prototype.LoadFromJsonObject.call(this,t),this.voId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"voId"),this.changeDetail=JSON.parse(i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"changeDetail"))},C);function C(){return null!==B&&B.apply(this,arguments)||this}var F,L=(y(H,F=M),H.prototype.ResetBeforeLoadFrom=function(){F.prototype.ResetBeforeLoadFrom.call(this),this.associations=new Array},H.prototype.ConvertToJsonObject=function(){var t=F.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"associations",this.associations),t},H.prototype.LoadFromJsonObject=function(t){F.prototype.LoadFromJsonObject.call(this,t),this.associations=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"associations",f)},H);function H(){var t=null!==F&&F.apply(this,arguments)||this;return t.associations=new Array,t}var w,T=(y(D,w=i.JsonConvertableImpl),D.prototype.ResetBeforeLoadFrom=function(){w.prototype.ResetBeforeLoadFrom.call(this),this.sourceVoEntities=new Array,this.creationRuleId=null,this.bizFlowchartId=null,this.sourceVoId=null,this.targetVoProxyId=null,this.targetVoProxyEntities=new Array},D.prototype.ConvertToJsonObject=function(){var t=w.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleId",this.creationRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoId",this.sourceVoId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoEntities",this.sourceVoEntities),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoProxyId",this.targetVoProxyId),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoProxyEntities",this.targetVoProxyEntities),t},D.prototype.LoadFromJsonObject=function(t){w.prototype.LoadFromJsonObject.call(this,t),this.creationRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleId"),this.sourceVoId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"sourceVoId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.sourceVoEntities=i.BpmnModelJsonHelper.GetAttributeValue(t,"sourceVoEntities"),this.targetVoProxyId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"targetVoProxyId"),this.targetVoProxyEntities=i.BpmnModelJsonHelper.GetAttributeValue(t,"targetVoProxyEntities")},D);function D(){var t=null!==w&&w.apply(this,arguments)||this;return t.sourceVoEntities=new Array,t.targetVoProxyEntities=new Array,t}var E,j=(y(x,E=i.JsonConvertableImpl),x.prototype.ResetBeforeLoadFrom=function(){E.prototype.ResetBeforeLoadFrom.call(this),this.creationRuleId=null,this.creationRuleInstanceId=null,this.bizFlowchartId=null,this.isAllAssociation=!1,this.mappingResults=new Array},x.prototype.ConvertToJsonObject=function(){var t=E.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleId",this.creationRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleInstanceId",this.creationRuleInstanceId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"isAllAssociation",this.isAllAssociation),i.BpmnModelJsonHelper.SetAttributeValue(t,"mappingResults",this.mappingResults),t},x.prototype.LoadFromJsonObject=function(t){E.prototype.LoadFromJsonObject.call(this,t),this.creationRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleId"),this.creationRuleInstanceId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleInstanceId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.isAllAssociation=i.BpmnModelJsonHelper.GetAttributeValueAsBoolean(t,"isAllAssociation"),this.mappingResults=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"mappingResults",L)},x);function x(){var t=null!==E&&E.apply(this,arguments)||this;return t.isAllAssociation=!1,t.mappingResults=new Array,t}var O,P=(y(G,O=i.JsonConvertableImpl),G.prototype.ResetBeforeLoadFrom=function(){O.prototype.ResetBeforeLoadFrom.call(this),this.voId=null,this.changeDetail=null},G.prototype.ConvertToJsonObject=function(){var t=O.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"voId",this.voId),i.BpmnModelJsonHelper.SetAttributeValue(t,"changeDetail",this.changeDetail),t},G.prototype.LoadFromJsonObject=function(t){O.prototype.LoadFromJsonObject.call(this,t),this.voId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"voId"),this.changeDetail=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"changeDetail")},G);function G(){return null!==O&&O.apply(this,arguments)||this}var N,z=(y(k,N=P),k);function k(){return null!==N&&N.apply(this,arguments)||this}var U,_=(y(q,U=z),q.prototype.ResetBeforeLoadFrom=function(){U.prototype.ResetBeforeLoadFrom.call(this),this.associations=new Array},q.prototype.ConvertToJsonObject=function(){var t=U.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"associations",this.associations),t},q.prototype.LoadFromJsonObject=function(t){U.prototype.LoadFromJsonObject.call(this,t),this.associations=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"associations",f)},q);function q(){var t=null!==U&&U.apply(this,arguments)||this;return t.associations=new Array,t}var K,W=(y(Y,K=i.JsonConvertableImpl),Y.prototype.ResetBeforeLoadFrom=function(){K.prototype.ResetBeforeLoadFrom.call(this),this.sourceVoEntities=new Array,this.creationRuleId=null,this.bizFlowchartId=null,this.sourceVoId=null,this.targetVoProxyId=null,this.targetVoProxyEntities=new Array},Y.prototype.ConvertToJsonObject=function(){var t=K.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleId",this.creationRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoId",this.sourceVoId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoEntities",i.BpmnModelJsonHelper.StringListToJson(this.sourceVoEntities)),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoProxyId",this.targetVoProxyId),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoProxyEntities",i.BpmnModelJsonHelper.StringListToJson(this.targetVoProxyEntities)),t},Y.prototype.LoadFromJsonObject=function(t){K.prototype.LoadFromJsonObject.call(this,t),this.creationRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleId"),this.sourceVoId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"sourceVoId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.sourceVoEntities=i.BpmnModelJsonHelper.StringListFromJson(i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"sourceVoEntities")),this.targetVoProxyId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"targetVoProxyId"),this.targetVoProxyEntities=i.BpmnModelJsonHelper.StringListFromJson(i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"targetVoProxyEntities"))},Y);function Y(){var t=null!==K&&K.apply(this,arguments)||this;return t.sourceVoEntities=new Array,t.targetVoProxyEntities=new Array,t}var Q,X=(y(Z,Q=i.JsonConvertableImpl),Z.prototype.ResetBeforeLoadFrom=function(){Q.prototype.ResetBeforeLoadFrom.call(this),this.creationRuleId=null,this.creationRuleInstanceId=null,this.bizFlowchartId=null,this.mappingResults=new Array},Z.prototype.ConvertToJsonObject=function(){var t=Q.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleId",this.creationRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleInstanceId",this.creationRuleInstanceId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"mappingResults",this.mappingResults),t},Z.prototype.LoadFromJsonObject=function(t){Q.prototype.LoadFromJsonObject.call(this,t),this.creationRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleId"),this.creationRuleInstanceId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleInstanceId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.mappingResults=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"mappingResults",_)},Z);function Z(){var t=null!==Q&&Q.apply(this,arguments)||this;return t.mappingResults=new Array,t}var $,tt=(y(et,$=i.JsonConvertableImpl),et.prototype.ResetBeforeLoadFrom=function(){$.prototype.ResetBeforeLoadFrom.call(this),this.voId=null,this.voChangeDetails=null,this.voEntityDatas=null,this.voEntityDataIds=new Array,this.bizEventId=null,this.voFuncSessionId=null,this.bizFlowchartId=null,this.upperBeFuncSessionId=null,this.associations=new Array},et.prototype.ConvertToJsonObject=function(){var t=$.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"voId",this.voId),i.BpmnModelJsonHelper.SetAttributeValue(t,"voChangeDetails",this.voChangeDetails),i.BpmnModelJsonHelper.SetAttributeValue(t,"voEntityDatas",this.voEntityDatas),i.BpmnModelJsonHelper.SetAttributeValue(t,"voEntityDataIds",i.BpmnModelJsonHelper.StringListToJsonArray(this.voEntityDataIds)),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizEventId",this.bizEventId),i.BpmnModelJsonHelper.SetAttributeValue(t,"voFuncSessionId",this.voFuncSessionId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"upperBeFuncSessionId",this.upperBeFuncSessionId),i.BpmnModelJsonHelper.SetAttributeValue(t,"associations",this.associations),t},et.prototype.LoadFromJsonObject=function(t){$.prototype.LoadFromJsonObject.call(this,t),this.voId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"voId"),this.voChangeDetails=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"voChangeDetails"),this.voEntityDatas=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"voEntityDatas"),this.voEntityDataIds=i.BpmnModelJsonHelper.StringListFromJsonArray(i.BpmnModelJsonHelper.GetAttributeValue(t,"voEntityDataIds")),this.bizEventId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizEventId"),this.voFuncSessionId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"voFuncSessionId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.upperBeFuncSessionId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"upperBeFuncSessionId"),this.associations=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"associations",V)},et);function et(){var t=null!==$&&$.apply(this,arguments)||this;return t.voChangeDetails=null,t.voEntityDatas=null,t.voEntityDataIds=new Array,t.associations=new Array,t}var ot,rt=(y(nt,ot=z),nt);function nt(){return null!==ot&&ot.apply(this,arguments)||this}var it,st=(y(at,it=i.JsonConvertableImpl),at.prototype.ResetBeforeLoadFrom=function(){it.prototype.ResetBeforeLoadFrom.call(this),this.writebackRuleId=null,this.sourceVoId=null,this.targetVoFuncSessionId=null,this.sourceVoEntities=new Array,this.associations=new Array},at.prototype.ConvertToJsonObject=function(){var t=it.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"writebackRuleId",this.writebackRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoId",this.sourceVoId),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoFuncSessionId",this.targetVoFuncSessionId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoEntities",i.BpmnModelJsonHelper.StringListToJson(this.sourceVoEntities)),i.BpmnModelJsonHelper.SetAttributeValue(t,"associations",this.associations),t},at.prototype.LoadFromJsonObject=function(t){it.prototype.LoadFromJsonObject.call(this,t),this.writebackRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"writebackRuleId"),this.sourceVoId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"sourceVoId"),this.targetVoFuncSessionId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"targetVoFuncSessionId"),this.sourceVoEntities=i.BpmnModelJsonHelper.StringListFromJson(i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"sourceVoEntities")),this.associations=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"associations",f)},at);function at(){var t=null!==it&&it.apply(this,arguments)||this;return t.sourceVoEntities=new Array,t.associations=new Array,t}var lt,ut=(y(ct,lt=i.JsonConvertableImpl),ct.prototype.ResetBeforeLoadFrom=function(){lt.prototype.ResetBeforeLoadFrom.call(this),this.mappingResults=new Array},ct.prototype.ConvertToJsonObject=function(){var t=lt.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"mappingResults",this.mappingResults),t},ct.prototype.LoadFromJsonObject=function(t){lt.prototype.LoadFromJsonObject.call(this,t),this.mappingResults=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"mappingResults",rt)},ct);function ct(){var t=null!==lt&&lt.apply(this,arguments)||this;return t.mappingResults=new Array,t}function pt(){}var dt,ht=new c.InjectionToken("SELECTOR_ARGS_INJECTOR"),mt=(y(bt,dt=i.JsonConvertableImpl),bt.prototype.ResetBeforeLoadFrom=function(){dt.prototype.ResetBeforeLoadFrom.call(this),this.rpcCreationRuleExecutorResult=null},bt.prototype.ConvertToJsonObject=function(){var t=dt.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"rpcCreationRuleExecutorResult",this.rpcCreationRuleExecutorResult),t},bt.prototype.LoadFromJsonObject=function(t){dt.prototype.LoadFromJsonObject.call(this,t),this.rpcCreationRuleExecutorResult=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"rpcCreationRuleExecutorResult")},bt);function bt(){return null!==dt&&dt.apply(this,arguments)||this}var yt,It=(y(ft,yt=mt),ft.prototype.ResetBeforeLoadFrom=function(){yt.prototype.ResetBeforeLoadFrom.call(this),this.formVoId=null},ft.prototype.ConvertToJsonObject=function(){var t=yt.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"formVoId",this.formVoId),t},ft.prototype.LoadFromJsonObject=function(t){yt.prototype.LoadFromJsonObject.call(this,t),this.formVoId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"formVoId")},ft);function ft(){return null!==yt&&yt.apply(this,arguments)||this}var gt,At=(y(Vt,gt=i.JsonConvertableImpl),Vt);function Vt(){return null!==gt&&gt.apply(this,arguments)||this}var vt,St=(y(Rt,vt=At),Rt.prototype.ResetBeforeLoadFrom=function(){vt.prototype.ResetBeforeLoadFrom.call(this),this.entityDataList=new Array},Rt.prototype.ConvertToJsonObject=function(){var t=vt.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"entityDataList",i.BpmnModelJsonHelper.StringListToJsonArray(this.entityDataList)),t},Rt.prototype.LoadFromJsonObject=function(t){vt.prototype.LoadFromJsonObject.call(this,t),this.entityDataList=i.BpmnModelJsonHelper.StringListFromJsonArray(i.BpmnModelJsonHelper.GetAttributeValue(t,"entityDataList"))},Rt);function Rt(){var t=null!==vt&&vt.apply(this,arguments)||this;return t.entityDataList=new Array,t}var Jt,Bt=(y(Mt,Jt=i.JsonConvertableImpl),Mt.prototype.ResetBeforeLoadFrom=function(){Jt.prototype.ResetBeforeLoadFrom.call(this),this.sourceVoEntityDatas=new Array,this.creationRuleId=null,this.bizFlowchartId=null,this.targetVoDataIds=new Array},Mt.prototype.ConvertToJsonObject=function(){var t=Jt.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"creationRuleId",this.creationRuleId),i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoEntityDatas",i.BpmnModelJsonHelper.StringListToJsonArray(this.sourceVoEntityDatas)),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoDataIds",i.BpmnModelJsonHelper.StringListToJsonArray(this.targetVoDataIds)),t},Mt.prototype.LoadFromJsonObject=function(t){Jt.prototype.LoadFromJsonObject.call(this,t),this.creationRuleId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"creationRuleId"),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.sourceVoEntityDatas=i.BpmnModelJsonHelper.StringListFromJsonArray(i.BpmnModelJsonHelper.GetAttributeValue(t,"sourceVoEntityDatas")),this.targetVoDataIds=i.BpmnModelJsonHelper.StringListFromJsonArray(i.BpmnModelJsonHelper.GetAttributeValue(t,"targetVoDataIds"))},Mt);function Mt(){var t=null!==Jt&&Jt.apply(this,arguments)||this;return t.sourceVoEntityDatas=new Array,t.targetVoDataIds=new Array,t}var Ct,Ft=(y(Lt,Ct=i.JsonConvertableImpl),Lt.prototype.ResetBeforeLoadFrom=function(){if(Ct.prototype.ResetBeforeLoadFrom.call(this),(this.dataId=null)!=this.children)for(var t in this.children)delete this.children[t]},Lt.prototype.ConvertToJsonObject=function(){var t=Ct.prototype.ConvertToJsonObject.call(this);if(i.BpmnModelJsonHelper.SetAttributeValue(t,"dataId",this.dataId),null!=this.children){var e={};for(var o in this.children)i.BpmnModelJsonHelper.SetAttributeValue(e,o,this.children[o]);i.BpmnModelJsonHelper.SetAttributeValue(t,"children",e)}return t},Lt.prototype.LoadFromJsonObject=function(t){Ct.prototype.LoadFromJsonObject.call(this,t),this.dataId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"dataId");var e=i.BpmnModelJsonHelper.GetAttributeValue(t,"children");if(null!=e)for(var o in e){var r=i.BpmnModelJsonHelper.GetAttributeValueAsList(e,o,Lt);this.children[o]=r}},Lt);function Lt(){var t=null!==Ct&&Ct.apply(this,arguments)||this;return t.children={},t}var Ht,wt=(y(Tt,Ht=mt),Tt);function Tt(){return null!==Ht&&Ht.apply(this,arguments)||this}var Dt,Et=(y(jt,Dt=At),jt);function jt(){return null!==Dt&&Dt.apply(this,arguments)||this}var xt,Ot=(y(Pt,xt=i.JsonConvertableImpl),Pt.prototype.ResetBeforeLoadFrom=function(){xt.prototype.ResetBeforeLoadFrom.call(this),this.bizFlowchartId=null,this.sourceVoId=null,this.targetVoId=null},Pt.prototype.ConvertToJsonObject=function(){var t=xt.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"bizFlowchartId",this.bizFlowchartId),i.BpmnModelJsonHelper.SetAttributeValue(t,"sourceVoId",this.sourceVoId),i.BpmnModelJsonHelper.SetAttributeValue(t,"targetVoId",this.targetVoId),t},Pt.prototype.LoadFromJsonObject=function(t){xt.prototype.LoadFromJsonObject.call(this,t),this.bizFlowchartId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"bizFlowchartId"),this.sourceVoId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"sourceVoId"),this.targetVoId=i.BpmnModelJsonHelper.GetAttributeValueAsString(t,"targetVoId")},Pt);function Pt(){return null!==xt&&xt.apply(this,arguments)||this}var Gt,Nt=(y(zt,Gt=i.JsonConvertableImpl),zt.prototype.ResetBeforeLoadFrom=function(){Gt.prototype.ResetBeforeLoadFrom.call(this),this.ruleEntityExes=new Array},zt.prototype.ConvertToJsonObject=function(){var t=Gt.prototype.ConvertToJsonObject.call(this);return i.BpmnModelJsonHelper.SetAttributeValue(t,"ruleEntityExes",this.ruleEntityExes),t},zt.prototype.LoadFromJsonObject=function(t){Gt.prototype.LoadFromJsonObject.call(this,t),this.ruleEntityExes=i.BpmnModelJsonHelper.GetAttributeValueAsList(t,"ruleEntityExes",i.SlimCreationRuleEntityEx)},zt);function zt(){var t=null!==Gt&&Gt.apply(this,arguments)||this;return t.ruleEntityExes=new Array,t}var kt=(Ut.prototype.getSlimCreationRulesBySourceVoId=function(t){var e=new Ot;return e.sourceVoId=t,this.getCreationRuleList(e).pipe(m.map(function(t){return t.ruleEntityExes}))},Ut.prototype.getSlimCreationRulesByTargetVoId=function(t){var e=new Ot;return e.targetVoId=t,this.getCreationRuleList(e).pipe(m.map(function(t){return t.ruleEntityExes}))},Ut.prototype.getSlimCreationRulesBySourceVoIdAndTargetVoId=function(t,e){var o=new Ot;return o.sourceVoId=t,o.targetVoId=e,this.getCreationRuleList(o).pipe(m.map(function(t){return t.ruleEntityExes}))},Ut.prototype.getSlimCreationRulesBySourceVoIdAndFlowchartId=function(t,e){var o=new Ot;return o.sourceVoId=t,o.bizFlowchartId=e,this.getCreationRuleList(o).pipe(m.map(function(t){return t.ruleEntityExes}))},Ut.prototype.getSlimCreationRulesByTargetVoIdAndFlowchartId=function(t,e){var o=new Ot;return o.targetVoId=t,o.bizFlowchartId=e,this.getCreationRuleList(o).pipe(m.map(function(t){return t.ruleEntityExes}))},Ut.prototype.getSlimCreationRulesBySourceVoIdAndTargetVoIdAndFlowchartId=function(t,e,o){var r=new Ot;return r.sourceVoId=t,r.targetVoId=e,r.bizFlowchartId=o,this.getCreationRuleList(r).pipe(m.map(function(t){return t.ruleEntityExes}))},Ut.prototype.getSlimCreationRuleEntityExById=function(t){return this.repository.proxy.request(this.getCreationRuleEntityByIdUrl+"/"+t,this.getCreationRuleEntityByIdMethod,null)},Ut.prototype.getFormSettingsById=function(t){if(null==t||""==t.trim())throw"生单规则为空";return this.repository.proxy.request(this.generalTextUrl+"/"+t,this.generalTextMethod,null,{responseType:"text"}).pipe(m.map(function(t){var e=new i.GeneralTextEntity;e.LoadFromJson(t);var o=new i.FormSettings;return o.LoadFromJson(e.text),o}))},Ut.prototype.executeCreationRule=function(t){var e=t.ConvertToJson();return this.repository.proxy.request(this.executeCreationRuleUrl,this.executeCreationRuleMethod,null,{body:e,responseType:"text"}).pipe(m.map(function(t){var e=new X;return e.LoadFromJson(t),e}))},Ut.prototype.createEntityDatas=function(t){var n=this,e={body:t.ConvertToJson(),responseType:"text"};return this.repository.proxy.request(this.formCreateUrl,this.formCreateMethod,null,e).pipe(m.switchMap(function(t){var e=new St;e.LoadFromJson(t);var o=e.entityDataList.map(function(t){var e=n.repository.buildEntity(JSON.parse(t));return n.appendInitialData(e,e),e}),r=n.repository.entityCollection.getAllEntities();return null==r||0==r.length?n.repository.entityCollection.loadEntities(o):n.repository.entityCollection.addEntities(o),h.of(e)}))},Ut.prototype.updateEntityDatas=function(t){var e={body:t.ConvertToJson(),responseType:"text"};return this.repository.proxy.request(this.formUpdateUrl,this.formUpdateMethod,null,e).pipe(m.map(function(t){var e=new Et;return e.LoadFromJson(t),e}))},Ut.prototype.getCreationRuleList=function(t){if(null==t)throw"args不可为空";if("string"==typeof t){if(""==t)throw"args不可为空";var e=new Ot;e.LoadFromJson(t),t=e}return this.repository.proxy.request(this.getCreationRuleUrl,this.getCreationRuleMethod,null,{body:t.ConvertToJson(),responseType:"text"}).pipe(m.map(function(t){var e=new Nt;return e.LoadFromJson(t),e}))},Ut.prototype.appendInitialData=function(t,e){var o=Object.assign({},e);delete o.id,delete o.parentID,t.initialData=o},Ut.decorators=[{type:c.Injectable}],Ut.ctorParameters=function(){return[{type:d.Repository}]},Ut);function Ut(t){this.getCreationRuleEntityByIdUrl="/api/runtime/aif/v1.0/form/getcreationruleentityex",this.getCreationRuleEntityByIdMethod="GET",this.getCreationRuleUrl="/api/runtime/aif/v1.0/form/getcreationruleentityexes",this.getCreationRuleMethod="POST",this.executeCreationRuleUrl="/api/runtime/aif/v1.0/form/executecreationrule",this.executeCreationRuleMethod="POST",this.formCreateUrl="/api/runtime/aif/v1.0/form/create",this.formCreateMethod="POST",this.formUpdateUrl="/api/runtime/aif/v1.0/form/update",this.formUpdateMethod="POST",this.generalTextUrl="/api/runtime/aif/v1.0/generaltext",this.generalTextMethod="GET",this.repository=t}var _t=(Object.defineProperty(qt.prototype,"selectedSourceVoId",{get:function(){return this._selectedSourceVoId},set:function(t){null!=(this._selectedSourceVoId=t)&&(this.selectedCreationRule=this.creationRuleDict[this._selectedSourceVoId][0])},enumerable:!0,configurable:!0}),qt.prototype.ngOnInit=function(){this.loadItems()},qt.prototype.loadItems=function(){var e=this;(null==this.args.sourceVoId?null==this.args.bizFlowchartId?this.dataService.getSlimCreationRulesByTargetVoId(this.args.targetVoId):this.dataService.getSlimCreationRulesByTargetVoIdAndFlowchartId(this.args.targetVoId,this.args.bizFlowchartId):null==this.args.bizFlowchartId?this.dataService.getSlimCreationRulesBySourceVoIdAndTargetVoId(this.args.sourceVoId,this.args.targetVoId):this.dataService.getSlimCreationRulesBySourceVoIdAndTargetVoIdAndFlowchartId(this.args.sourceVoId,this.args.targetVoId,this.args.bizFlowchartId)).subscribe(function(t){t.forEach(function(t){!1===e.sourceVoIdList.includes(t.sourceVoId)&&(e.sourceVoIdList.push(t.sourceVoId),e.creationRuleDict[t.sourceVoId]=new Array),e.sourceVoNameDict[t.sourceVoId]=t.sourceVoName,e.creationRuleDict[t.sourceVoId].push(t)}),e.selectedSourceVoId=0<e.sourceVoIdList.length?e.sourceVoIdList[0]:null})},qt.decorators=[{type:c.Component,args:[{selector:"lib-refer-selector",template:'<div class="g-main p-2">\r\n  \x3c!--  --\x3e\r\n  <div class="form-group" style="height: 150px;overflow-y: auto;">\r\n    <div [hidden]="sourceVoIdList.length != 0"><span style="color: red;">{{ \'emptyResult\' | aifLocale }}</span></div>\r\n    <div>{{ \'selectSourceBillType\' | aifLocale }}</div>\r\n    <div *ngFor="let sourceVoId of sourceVoIdList;let i=index" class="col-sm-12 col-md-5 form-check form-check-inline">\r\n      <input class="form-check-input" type="radio" [name]="\'sourceVoId\'+i" id="sourceVoId" [value]="sourceVoId"\r\n        [(ngModel)]="selectedSourceVoId" />\r\n      <label class="form-check-label" [for]="\'sourceVoId\'+i">{{sourceVoNameDict[sourceVoId]}}</label>\r\n    </div>\r\n  </div>\r\n\r\n  \x3c!--  --\x3e\r\n  <div class="form-group" style="">\r\n    <div>{{ \'selectCreationRule\' | aifLocale }}</div>\r\n    <select class="form-control" name="selectedCreationRule" [(ngModel)]="selectedCreationRule">\r\n      <option *ngFor="let cr of creationRuleDict[selectedSourceVoId];" [ngValue]="cr">\r\n        {{cr.name}}</option>\r\n    </select>\r\n  </div>\r\n\r\n  \x3c!--  --\x3e\r\n  <div class="form-group" style="">\r\n    <div>{{ \'creationRuleDesciption\' | aifLocale }}</div>\r\n    <textarea readonly class="form-control" name="description" rows="3"\r\n      [ngModel]="selectedCreationRule&&selectedCreationRule.description"></textarea>\r\n  </div>\r\n</div>',styles:[""]}]}],qt.ctorParameters=function(){return[{type:undefined,decorators:[{type:c.Inject,args:[ht]}]},{type:kt},{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},qt);function qt(t,e,o){var r=this;this.dataService=e,this.sourceVoIdList=[],this.sourceVoNameDict={},this.creationRuleDict={},this.bsModalRef4AifSelector=null,this.subject4CreationRule=new h.Subject,this.clickOk4AifSelector=function(){r.subject4CreationRule.next(r.selectedCreationRule),r.subject4CreationRule.complete(),r.bsModalRef4AifSelector.close()},this.clickClose4AifSelector=function(){r.bsModalRef4AifSelector.close()},this.args=new Ot,this.args.LoadFromJsonObject(t)}var Kt=(Object.defineProperty(Wt.prototype,"selectedTargetVoId",{get:function(){return this._selectedTargetVoId},set:function(t){null!=(this._selectedTargetVoId=t)&&(this.selectedCreationRule=this.creationRuleDict[this._selectedTargetVoId][0])},enumerable:!0,configurable:!0}),Wt.prototype.ngOnInit=function(){this.loadItems()},Wt.prototype.loadItems=function(){var e=this;(null==this.args.targetVoId?null==this.args.bizFlowchartId?this.dataService.getSlimCreationRulesBySourceVoId(this.args.sourceVoId):this.dataService.getSlimCreationRulesBySourceVoIdAndFlowchartId(this.args.sourceVoId,this.args.bizFlowchartId):null==this.args.bizFlowchartId?this.dataService.getSlimCreationRulesBySourceVoIdAndTargetVoId(this.args.sourceVoId,this.args.targetVoId):this.dataService.getSlimCreationRulesBySourceVoIdAndTargetVoIdAndFlowchartId(this.args.sourceVoId,this.args.targetVoId,this.args.bizFlowchartId)).subscribe(function(t){t.forEach(function(t){!1===e.targetVoIdList.includes(t.targetVoId)&&(e.targetVoIdList.push(t.targetVoId),e.creationRuleDict[t.targetVoId]=new Array),e.targetVoNameDict[t.targetVoId]=t.targetVoName,e.creationRuleDict[t.targetVoId].push(t)}),e.selectedTargetVoId=0<e.targetVoIdList.length?e.targetVoIdList[0]:null})},Wt.decorators=[{type:c.Component,args:[{selector:"lib-push-selector",template:'<div class="g-main p-2">\r\n  \x3c!--  --\x3e\r\n  <div class="form-group" style="height: 150px;overflow-y: auto;">\r\n    <div [hidden]="targetVoIdList.length != 0"><span style="color: red;">{{ \'emptyResult\' | aifLocale }}</span></div>\r\n    <div>{{ \'selectTargetBillType\' | aifLocale }}</div>\r\n    <div *ngFor="let targetVoId of targetVoIdList;let i=index" class="col-sm-12 col-md-5 form-check form-check-inline">\r\n      <input class="form-check-input" type="radio" [name]="\'targetVoId\'+i" id="targetVoId" [value]="targetVoId"\r\n        [(ngModel)]="selectedTargetVoId" />\r\n      <label class="form-check-label" [for]="\'targetVoId\'+i">{{targetVoNameDict[targetVoId]}}</label>\r\n    </div>\r\n  </div>\r\n\r\n  \x3c!--  --\x3e\r\n  <div class="form-group" style="">\r\n    <div>{{ \'selectCreationRule\' | aifLocale }}</div>\r\n    <select class="form-control" name="selectedCreationRule" [(ngModel)]="selectedCreationRule">\r\n      <option *ngFor="let cr of creationRuleDict[selectedTargetVoId];" [ngValue]="cr">\r\n        {{cr.name}}</option>\r\n    </select>\r\n  </div>\r\n\r\n  \x3c!--  --\x3e\r\n  <div class="form-group" style="">\r\n    <div>{{ \'creationRuleDesciption\' | aifLocale }}</div>\r\n    <textarea readonly class="form-control" name="description" rows="3"\r\n      [ngModel]="selectedCreationRule&&selectedCreationRule.description"></textarea>\r\n  </div>\r\n</div>',styles:[""]}]}],Wt.ctorParameters=function(){return[{type:undefined,decorators:[{type:c.Inject,args:[ht]}]},{type:kt},{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},Wt);function Wt(t,e,o){var r=this;this.dataService=e,this.targetVoIdList=[],this.targetVoNameDict={},this.creationRuleDict={},this.bsModalRef4AifSelector=null,this.subject4CreationRule=new h.Subject,this.clickOk4AifSelector=function(){r.subject4CreationRule.next(r.selectedCreationRule),r.subject4CreationRule.complete(),r.bsModalRef4AifSelector.close()},this.clickClose4AifSelector=function(){r.bsModalRef4AifSelector.close()},this.args=new Ot,this.args.LoadFromJsonObject(t)}var Yt=(Qt.prototype.ngOnInit=function(){},Qt.decorators=[{type:c.Component,args:[{selector:"lib-source-data-selector",template:'<div class="g-main p-2">\r\n  <farris-treetable #treetable [columns]="cols" [showBorder]="false" [showHeader]="false" [data]="treedata"\r\n    [idField]="\'id\'" [fit]="true" [singleSelect]="true" [showCheckbox]="false" [showIcon]="true" [disabled]="false">\r\n  </farris-treetable>\r\n\r\n  <ng-template #cell let-ctx>\r\n\r\n  </ng-template>\r\n\r\n  <p>\r\n    Hello world\r\n  </p>\r\n\r\n  \x3c!-- <div class="form-group" style="float: right;">\r\n    <button class="btn-primary btn btn-sm ml-2" (click)="clickOk4Aif()">确定</button>\r\n    <button class="btn btn-sm ml-2 btn-default" (click)="clickClose4Aif()">取消</button>\r\n  </div> --\x3e\r\n</div>',styles:[""]}]}],Qt.ctorParameters=function(){return[{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},Qt.propDecorators={treetable:[{type:c.ViewChild,args:["treetable"]}]},Qt);function Qt(t){var e=this;this.subject4EntityDatas=new h.Subject,this.cols=[],this.treedata=[],this.clickOk4AifSelector=function(){e.subject4EntityDatas.next([]),e.subject4EntityDatas.complete(),e.bsModalRef4AifSelector.close()},this.clickClose4AifSelector=function(){e.bsModalRef4AifSelector.close()}}var Xt={"zh-CHS":{confirm:"确定",cancel:"取消",emptyResult:"查询结果为空",selectSourceBillType:"选择来源单据类型",selectTargetBillType:"选择目标单据类型",selectCreationRule:"选择生单规则",creationRuleDesciption:"生单规则描述",creationRuleSelector:"生单规则选择器",sourceDataSelector:"来源单据选择器"},en:{confirm:"confirm",cancel:"cancel",emptyResult:"The result is empty",selectSourceBillType:"Select source bill type",selectTargetBillType:"Select target bill type",selectCreationRule:"Select creation rule",creationRuleDesciption:"Desciption",creationRuleSelector:"CreationRule Selector",sourceDataSelector:"SourceBill Selector"}},Zt=($t.prototype.transform=function(t){return this.lang[t]||t},$t.decorators=[{type:c.Pipe,args:[{name:"aifLocale"}]}],$t.ctorParameters=function(){return[{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},$t);function $t(t){this.langCode=t||"zh-CHS",this.lang=Xt[this.langCode]}var te=localStorage.getItem("languageCode")||"zh-CHS",ee={},oe=(re.forRoot=function(t){return{ngModule:re,providers:[{provide:pt,useValue:t||{}}]}},re.decorators=[{type:c.NgModule,args:[{imports:[e.CommonModule,o.FormsModule,o.ReactiveFormsModule,r.HttpClientModule,p.ModalModule.forRoot(),a.NotifyModule.forRoot(),l.MessagerModule.forRoot(),n.FarrisDialogModule.forRoot(),s.TreeTableModule],providers:[{provide:c.LOCALE_ID,useValue:te},{provide:pt,useValue:ee},{provide:c.NgModuleFactoryLoader,useClass:c.SystemJsNgModuleLoader}],declarations:[_t,Kt,Yt,Zt],exports:[_t,Kt,Yt],entryComponents:[_t,Kt,Yt]}]}],re);function re(){}var ne="5eb32009-1d86-43df-96c8-8d685aea4e66",ie=(se.prototype.openCreationRuleSelector=function(t,e,o,r){var n=this;if("string"==typeof o){if(""==o)throw"modalOptions不可为空";o=JSON.parse(o)}(o=null==o?this.defaultModalOptions:o).title=null==o.title?this.aifLocalePipe.transform("creationRuleSelector"):o.title;var i=null;if(null!=r&&""!=r.trim())return h.from(this.loader.load(r)).pipe(m.switchMap(function(t){var e=t.create(n.frameContext.root.injector);return i=e.instance.createCreationRuleSelector(n.frameContext.root.injector),n.configModalButtons(o,i),i.instance.bsModalRef4AifSelector=n.modalService.show(i,o),i.instance.subject4CreationRule.asObservable()}));var s=this.cfr.resolveComponentFactory(e),a=c.ReflectiveInjector.resolveAndCreate([{provide:ht,useValue:t.ConvertToJsonObject()}],this.injector);return i=s.create(a),this.configModalButtons(o,i),i.instance.bsModalRef4AifSelector=this.modalService.show(i,o),i.instance.subject4CreationRule.asObservable()},se.prototype.configModalButtons=function(t,e){t.buttons=[{text:this.aifLocalePipe.transform("confirm"),cls:"btn btn-primary",handle:e.instance.clickOk4AifSelector},{text:this.aifLocalePipe.transform("cancel"),cls:"btn btn-secondary",handle:e.instance.clickClose4AifSelector}],t.showButtons=!0},se.ctorParameters=function(){return[{type:d.FrameContext},{type:p.BsModalService},{type:c.Injector},{type:c.ComponentFactoryResolver},{type:c.NgModuleFactoryLoader},{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},se);function se(t,e,o,r,n,i){this.frameContext=t,this.modalService=e,this.injector=o,this.cfr=r,this.loader=n,this.localeId=i,this.defaultModalOptions={title:null,width:650,height:415,buttons:null,showButtons:null},this.aifLocalePipe=new Zt(i)}var ae,le=(y(ue,ae=ie),ue.prototype.openCreationRuleSelector4Push=function(t,e,o,r){var n=new Ot;return n.sourceVoId=t,n.bizFlowchartId=e,this.openCreationRuleSelector(n,Kt,o,r)},ue.prototype.openCreationRuleSelector4SpecificPush=function(t,e,o,r,n){var i=new Ot;return i.sourceVoId=t,i.targetVoId=e,i.bizFlowchartId=o,this.openCreationRuleSelector(i,Kt,r,n)},ue.prototype.openTargetForm=function(t,e,o){var r,n;if(null==t)throw"参数formSettings不可为空";if(null==e)throw"参数rpcCreationRuleExecutorResult不可为空";if("string"==typeof e){if(""==e)throw"参数rpcCreationRuleExecutorResult不可为空";var i=new X;i.LoadFromJson(e),e=i}if(e instanceof X==0){var s=new X;s.LoadFromJsonObject(e),e=s}if(null!=e.mappingResults&&0!=e.mappingResults.length)if(1==e.mappingResults.length)this.navigationService.openApp(e.mappingResults[0].associations[0].tarDataId,t.targetCardAppId,t.targetCardAppEntrance,this.buildRouteParams(e,null==o?{}:o),!1);else{if(null!=t.targetListAppId)throw"暂不支持打开批量编辑界面";try{for(var a=function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}}(e.mappingResults),l=a.next();!l.done;l=a.next()){var u=l.value,c=new X;c.bizFlowchartId=e.bizFlowchartId,c.creationRuleId=e.creationRuleId,c.creationRuleInstanceId=e.creationRuleInstanceId,c.mappingResults=[u],this.navigationService.openApp(u.associations[0].tarDataId,t.targetCardAppId,t.targetCardAppEntrance,this.buildRouteParams(c,null==o?{}:o),!1)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=a["return"])&&n.call(a)}finally{if(r)throw r.error}}}},ue.prototype.buildRouteParams=function(t,e){var o=e;return o[this.aifUIStateCreationRuleResultKey]=t,o},ue.decorators=[{type:c.Injectable}],ue.ctorParameters=function(){return[{type:kt},{type:u.NavigationService},{type:d.FrameContext},{type:p.BsModalService},{type:c.Injector},{type:c.ComponentFactoryResolver},{type:c.NgModuleFactoryLoader},{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},ue);function ue(t,e,o,r,n,i,s,a){var l=ae.call(this,o,r,n,i,s,a)||this;return l.aifDataService=t,l.navigationService=e,l.frameContext=o,l.modalService=r,l.injector=n,l.cfr=i,l.loader=s,l.localeId=a,l.aifUIStateCreationRuleResultKey=ne,l}var ce,pe=(y(de,ce=ie),de.prototype.openCreationRuleSelector4Refer=function(t,e,o,r){var n=new Ot;return n.targetVoId=t,n.bizFlowchartId=e,this.openCreationRuleSelector(n,_t,o,r)},de.prototype.openCreationRuleSelector4SpecificRefer=function(t,e,o,r,n){var i=new Ot;return i.sourceVoId=t,i.targetVoId=e,i.bizFlowchartId=o,this.openCreationRuleSelector(i,_t,r,n)},de.prototype.openSourceDataSelector4Refer=function(t,o){var r=this;(o=null==o?this.defaultModalOptions:o).title=null==o.title?this.aifLocalePipe.transform("sourceDataSelector"):o.title;var n=null;if(null!=t&&null!=t.sourceDataSelectorModuleUrl)return h.from(this.loader.load(t.sourceDataSelectorModuleUrl)).pipe(m.switchMap(function(t){var e=t.create(r.frameContext.root.injector);return n=e.instance.createSourceDataSelector(r.frameContext.root.injector),r.configModalButtons(o,n),n.instance.bsModalRef4AifSelector=r.modalService.show(n,o),n.instance.subject4EntityDatas.asObservable()}));throw"暂无默认实现，请使用自定义来源单据选择器"},de.prototype.getRpcCreationRuleExecutorResult=function(){var t=this.frameContext.root.uiState[this.aifUIStateCreationRuleResultKey],e=new X;if("string"==typeof t)e.LoadFromJson(t);else{if("object"!=typeof t)throw"不合法的类型";e.LoadFromJsonObject(t)}return e},de.decorators=[{type:c.Injectable}],de.ctorParameters=function(){return[{type:kt},{type:d.FrameContext},{type:p.BsModalService},{type:c.Injector},{type:c.ComponentFactoryResolver},{type:c.NgModuleFactoryLoader},{type:String,decorators:[{type:c.Inject,args:[c.LOCALE_ID]}]}]},de);function de(t,e,o,r,n,i,s){var a=ce.call(this,e,o,r,n,i,s)||this;return a.aifDataService=t,a.frameContext=e,a.modalService=o,a.injector=r,a.cfr=n,a.loader=i,a.localeId=s,a.aifUIStateCreationRuleResultKey=ne,a}t.AifManualCreationType={Push:"Push",Refer:"Refer"},t.AifRuntimeModuleConfig=pt,t.AifRuntimeModule=oe,t.AifDataService=kt,t.AifSourceUiService=le,t.AifTargetUiService=pe,t.SourceDataSelectorComponent=Yt,t.PushSelectorComponent=Kt,t.ReferSelectorComponent=_t,t.BefContentVariable=R,t.CreationMappingResult=L,t.CreationRuleExecutorArgs=T,t.CreationRuleExecutorAssociations=V,t.CreationRuleExecutorResult=j,t.MappingAssociation=f,t.MappingResult=M,t.RpcCreationMappingResult=_,t.RpcCreationRuleExecutorArgs=W,t.RpcCreationRuleExecutorResult=X,t.RpcFireBizEventArgs=tt,t.RpcMappingResult=z,t.RpcVoChangeDetail=P,t.RpcWritebackMappingResult=rt,t.RpcWritebackRuleExecutorArgs=st,t.RpcWritebackRuleExecutorResult=ut,t.FormCreateArgs=It,t.FormCreateResult=St,t.FormCreationRuleExecutorArgs=Bt,t.FormEntityData=Ft,t.FormRestArgs=mt,t.FormRestResult=At,t.FormUpdateArgs=wt,t.FormUpdateResult=Et,t.FormGetCreationRuleEntityExArgs=Ot,t.FormGetCreationRuleEntityExResult=Nt,t.AIF_UISTATE_KEY_OPEN_TYPE="abdbaec8-0bbe-4894-acee-b8d493bc4e1c",t.AIF_UISTATE_KEY_CREATION_RULE_RESULT=ne,t.ɵa=ht,t.ɵb=Zt,t.ɵc=ie,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=edp-aif-runtime-api.umd.min.js.map