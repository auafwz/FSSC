{"version":3,"sources":["ng://@farris/ui-tabs/lib/tab/tabhost.directive.ts","node_modules/tslib/tslib.es6.js","ng://@farris/ui-tabs/lib/tabs.config.ts","ng://@farris/ui-tabs/lib/tabs/tabs.component.ts","ng://@farris/ui-tabs/lib/tab/extend.directive.ts","ng://@farris/ui-tabs/lib/tab/tab.component.ts","ng://@farris/ui-tabs/lib/tab/tab.transclude.directive.ts","ng://@farris/ui-tabs/lib/tab/tab.headtemplate.directive.ts","ng://@farris/ui-tabs/lib/dropdown/dropdown-config.ts","ng://@farris/ui-tabs/lib/util/positioning.ts","ng://@farris/ui-tabs/lib/dropdown/dropdown.ts","ng://@farris/ui-tabs/lib/dropdown/dropdown.module.ts","ng://@farris/ui-tabs/lib/util/triggers.ts","ng://@farris/ui-tabs/lib/util/popup.ts","ng://@farris/ui-tabs/lib/tooltip/tooltip-config.ts","ng://@farris/ui-tabs/lib/tooltip/tooltip.ts","ng://@farris/ui-tabs/lib/tooltip/tooltip.module.ts","ng://@farris/ui-tabs/lib/tabs.module.ts"],"names":["TabHostDirective","Directive","args","selector","ViewContainerRef","viewContainerRef","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","TabConfig","showDropDown","showTooltips","scrollStep","autoResize","maxDropdownH","maxDropdownW","maxTabW","maxTooltipLen","TabService","prototype","getConfig","config","Injectable","decorators","type","Optional","exConfig","assign","defineProperty","FarrisTabsComponent","_position","positionStates","_width","resolveSize","widthStates","_height","heightStates","_headerHeight","headerHeight","_contentFill","contentFillStates","_tabs","_customClass","customClass","_this","split","forEach","cssClass","renderer","removeClass","el","trim","addClass","position","trackByButton","index","btn","id","verifyConfig","stService","parseInt","ngOnInit","beforeSelect","of","clickSubscription","clickItems","pipe","debounceTime","clickThrottleTime","subscribe","btnInfo","click","_tabContainerEl","tabContainer","nativeElement","_createStream","activeId","selectId","ngZone","runOutsideAngular","ro","ResizeObserver","_reCalculateAll","_calculateToolbarDropdownIsShow","_calculateButtonsShow","observe","parentElement","ngOnChanges","changes","selectTab","currentValue","ngAfterContentInit","ngAfterContentChecked","ngAfterViewInit","data","setStyle","getToolbarConf","_setActive","_changeTitleStyle","_listenShowChanges","_ddmHandler","listen","document","target","closest","querySelector","ddm","dropdown","close","ngAfterViewChecked","ngOnDestroy","subscription","sub","unsubscribe","unobserve","clickHandler","openChange","searchInputVisible","searchTabText","undefined","menuItemsWidth","resetMenuElWidthOpen","searchTab","stopBubble","stopPropagation","window","event","cancelBubble","getToolbarState","state","btnStates","map","console","warn","tabs","item","showStates","activeIdToken","_show","_active","filter","defaultTabId","length","cdRef","detectChanges","tabId","selectedTab","_getTabById","_selectTab","tab","_cpSelectTabByIndex","ev","targetEL","className","indexOf","closeTab","preventDefault","markForCheck","selectTabByIndex","disabled","tabsChangeEventParam_1","prevId","nextId","scrollTabIntoView","tabChange","emit","activeTab","targetTab","find","showTab","selectable","len","hideTab","showTabs","addTabs","curTabs","setActiveId","_a","splice","apply","__spread","arguments","concat","_unique","filterTab","objArray","hash","reduce","removeTabByIndex","removeTab","tabRemove","removeIndex","removeId","load","_truncateTitle","title","substr","autoTitleWidth","$textEls","querySelectorAll","k","parentEl","parentNode","scrollWidth","titleOverflow","rightNav","leftNav","curBtn","direction","mousedown$","fromEvent","mouseup$","mousepressSub","switchMap","interval","takeUntil","scan","sum","num","takeWhile","disableRight","disableLeft","v","change","_scrollTab","move","dist_scrollleft","scrollLeft","max_scroll_left","offsetWidth","Math","min","max","_reCalculateSides","hideButtons","tabToScroll","tabIndex","allTabs","tab_left","getBoundingClientRect","left","tabs_left","rightPosition","width","leftPosition","tabConfig","toolbarConf","toolbar","headerExtendConf","farrisTabsExtendDirective","toolbarDpHidden","headerExtendEl","headerExtendElWidth","toolbarContainer","hasInHeadCl","removeStyle","btnPlaceHolder","divEl","btnPlaceHolderEl","btnPlaceHolderBtns","moreButton","basicStart","basicWidth","toolbarDropdownHidden","showBtns","contents","inMoreButtonContents","tabParentWidth","tabParent","getComputedStyle","getPropertyValue","hideDropDown","dropdownTabs","_reCalulateTooltips","t_right_tooltips","t_left_tooltips","hiddenTabsLength","leftTooltipTabs","slice","rightTooltipTabs","disableRTooltip","disableLTooltip","indexWidthId","tabsWithId","size","regex","test","match","Component","template","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","ElementRef","Renderer2","ChangeDetectorRef","NgZone","Input","ViewChild","Output","elementRef","fill","titleLength","searchBoxVisible","contentDirection","Subject","titleWidth","EventEmitter","BehaviorSubject","FarrisTabsExtendDirective","TemplateRef","templateRef","FarrisTabComponent","_activeForOld","activeState","scrollTabs","nEl","render","loadComponent","Compiler","ComponentFactoryResolver","ContentChild","cp","componentFactoryResolver","cef","tabWidth","titleCustomCls","selected","TabTranscludeDirective","_trancludeTempl","viewRef","createEmbeddedView","ngDoCheck","KeyValueDiffers","_differs","TabHeadDirective","tabItem","headingRef","NgbDropdownConfig","autoClose","placement","Positioning","positionService","getAllStyles","element","getStyle","prop","isStaticPositioned","offsetParent","offsetParentEl","documentElement","round","elPosition","parentOffset","height","top","bottom","right","offset","clientTop","clientLeft","elBcr","viewportOffset","pageYOffset","pageXOffset","elOffset","offsetHeight","positionElements","hostElement","targetElement","appendToBody","referElement","oldhostElPosition","hostElPosition","getRectCompareReferElementAndHostElement","targetElStyles","targetElBCR","placementPrimary","placementSecondary","targetElPosition","parseFloat","marginBottom","marginRight","hostRect","hostElemClientRect","referRect","getAvailablePlacements","oldhostElemClientRect","availablePlacements","targetElemClientRect","html","windowHeight","innerHeight","clientHeight","windowWidth","innerWidth","clientWidth","hostElemClientRectHorCenter","hostElemClientRectVerCenter","setSecondaryPlacementForLeftRight","setSecondaryPlacementForTopBottom","primaryPlacement","availablePlacementArr","placementVals","isArray","hasAuto","findIndex","val","obj","search","appliedPlacement","topVal","leftVal","pos","_b","__values","tslib_1.__values","toItemIndexes","a","_c","_d","style","NgbDropdownMenu","_elementRef","parentNodeW","menuW","isEventFrom","$event","contains","triggerEl","applyPlacement","_placement","_renderer","host","[class.dropdown-menu]","[class.show]","[attr.x-placement]","exportAs","Inject","forwardRef","NgbDropdown","isOpen","NgbDropdownAnchor","class","aria-haspopup","[attr.aria-expanded]","anchorEl","_super","NgbDropdownToggle","__extends","__","constructor","create","tslib_1.__extends","toggleOpen","toggle","(click)","providers","provide","useExisting","_menu","_open","open","_positionMenu","closeFromClick","button","_isEventFromToggle","_isEventFromMenu","closeFromOutsideEsc","_zoneSubscription","_anchor","(keyup.esc)","(document:click)","onStable","NGB_DROPDOWN_DIRECTIVES","NgbDropdownModule","forRoot","ngModule","NgModule","declarations","exports","Trigger","isManual","DEFAULT_ALIASES","hover","noopFn","listenToTriggers","triggers","openFn","closeFn","toggleFn","parsedTriggers","parseTriggers","aliases","trimmedTriggers","trigger","triggerPair","alias","manualTriggers","listeners","unsubscribeFn","ContentRef","nodes","componentRef","PopupService","content","context","_windowRef","_contentRef","_getContentRef","_viewContainerRef","createComponent","_componentFactoryResolver","resolveComponentFactory","_type","_injector","remove","hostView","rootNodes","createText","NgbTooltipConfig","container","disableTooltip","NgbTooltipWindow","_element","toString","[class]","role","[id]","NgbTooltip","_ngbTooltip","_popupService","instance","_ngbTooltipWindowId","setAttribute","appendChild","location","changeDetectorRef","shown","removeAttribute","hidden","_unregisterListenersFn","bind","Injector","injector","NgbTooltipModule","entryComponents","FarrisTabsModule","useValue","imports","CommonModule","LocaleModule","FormsModule"],"mappings":"orBAAA,IAAAA,uBACCC,EAAAA,UAASC,KAAA,CAAC,CACPC,SAAU,yDAFMC,EAAAA,oBAQpBJ,GAFI,SAAAA,EAAoBK,GAAAC,KAAAD,iBAAAA,ECUxB,IAAIE,EAAgB,SAASC,EAAGC,GAI5B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IAmG5B,SAAgBO,EAAOC,EAAGC,GACtB,IAAIC,EAAsB,mBAAXC,QAAyBH,EAAEG,OAAOC,UACjD,IAAKF,EAAG,OAAOF,EACf,IAAmBK,EAAYC,EAA3BC,EAAIL,EAAEM,KAAKR,GAAOS,EAAK,GAC3B,IACI,WAAc,IAANR,GAAsB,EAANA,QAAcI,EAAIE,EAAEG,QAAQC,MAAMF,EAAGG,KAAKP,EAAEQ,OAExE,MAAOC,GAASR,EAAI,CAAEQ,MAAOA,WAEzB,IACQT,IAAMA,EAAEM,OAAST,EAAIK,EAAU,YAAIL,EAAEM,KAAKD,WAExC,GAAID,EAAG,MAAMA,EAAEQ,OAE7B,OAAOL,ECrIX,IAAAM,EAEA,SAAAA,KAEE1B,KAAA2B,cAAe,EAEf3B,KAAA4B,cAAe,EAEf5B,KAAA6B,WAAa,GAEb7B,KAAA8B,YAAa,EAEb9B,KAAA+B,aAAe,IAEf/B,KAAAgC,cAAgB,EAEhBhC,KAAAiC,QAAU,IAEVjC,KAAAkC,cAAgB,MAYhBC,EAAAC,UAAAC,UAAA,WACE,OAAOrC,KAAKsC,4BAVfC,EAAAA,sDAGmCb,EAASc,WAAA,CAAA,CAAAC,KAA9BC,EAAAA,cASfP,GATE,SAAAA,EAAwBQ,GACtB3C,KAAKsC,OAAS,IAAIZ,EACdiB,GACFvC,OAAOwC,OAAO5C,KAAKsC,OAAQK,UCO7BvC,OAAAyC,eAAaC,EAAAV,UAAA,WAAQ,KAIrB,WACI,OAAOpC,KAAK+C,eALhB,SAAsBvB,GAClBxB,KAAK+C,UAAYvB,EACjBxB,KAAKgD,eAAe3B,KAAKG,oCAmB7BpB,OAAAyC,eAAaC,EAAAV,UAAA,QAAK,KAAlB,SAAmBZ,GACfxB,KAAKiD,OAASjD,KAAKkD,YAAY1B,GAC/BxB,KAAKmD,YAAY9B,KAAKrB,KAAKiD,yCAE/B7C,OAAAyC,eAAaC,EAAAV,UAAA,SAAM,KAAnB,SAAoBZ,GAChBxB,KAAKoD,QAAUpD,KAAKkD,YAAY1B,GAChCxB,KAAKqD,aAAahC,KAAKrB,KAAKoD,0CAMhChD,OAAAyC,eACIC,EAAAV,UAAA,eAAY,KADhB,WAEI,OAAOpC,KAAKsD,mBAEhB,SAAiBC,GACbvD,KAAKsD,cAAgBtD,KAAKkD,YAAYK,oCAM1CnD,OAAAyC,eAAaC,EAAAV,UAAA,cAAW,KAAxB,SAAyBZ,GACrBxB,KAAKwD,aAAehC,EACpBxB,KAAKyD,kBAAkBpC,KAAKG,oCAUhCpB,OAAAyC,eACIC,EAAAV,UAAA,OAAI,KADR,WAEI,OAAOpC,KAAK0D,WAEhB,SAASlC,GACLxB,KAAK0D,MAAQlC,mCAGjBpB,OAAAyC,eACIC,EAAAV,UAAA,cAAW,KADf,WAEI,OAAOpC,KAAK2D,kBAEhB,SAAgBC,GAAhB,IAAAC,EAAA7D,KACQA,KAAK4D,aACL5D,KAAK4D,YAAYE,MAAM,KAAKC,QAAO,SAAEC,GACjCH,EAAKI,SAASC,YAAYL,EAAKM,GAAIH,KAI3ChE,KAAK2D,aAAeC,EAAcA,EAAYQ,OAAS,KAEnDpE,KAAK4D,aACL5D,KAAK4D,YAAYE,MAAM,KAAKC,QAAO,SAAEC,GACjCH,EAAKI,SAASI,SAASR,EAAKM,GAAIH,sCAmB5C5D,OAAAyC,eAAIC,EAAAV,UAAA,YAAS,KAAb,WACI,OAAQpC,KAAKsE,UACT,IAAK,MACD,MAAO,SACX,IAAK,SACD,MAAO,iBACX,IAAK,OACD,MAAO,MACX,IAAK,QACD,MAAO,gDAKnBlE,OAAAyC,eAAIC,EAAAV,UAAA,eAAY,KAAhB,WACI,MAAsB,QAAlBpC,KAAKsE,UAAwC,WAAlBtE,KAAKsE,SACzB,MACkB,SAAlBtE,KAAKsE,UAAyC,UAAlBtE,KAAKsE,SACjC,cADJ,mCA2EXxB,EAAAV,UAAAmC,cAAA,SAAcC,EAAeC,GAAoB,OAAOA,EAAIC,IAYpD5B,EAAAV,UAAAuC,aAAR,eACUrC,EAAoBtC,KAAK4E,UAAUvC,YACzCjC,OAAOwC,OAAO5C,KAAMsC,GACpBtC,KAAK6B,WAAagD,SAAS7E,KAAK6B,WAAa,GAAI,KAIrDiB,EAAAV,UAAA0C,SAAA,WAAA,IAAAjB,EAAA7D,KAESA,KAAK+E,eACN/E,KAAK+E,aAAY,WAAS,OAAAC,EAAAA,IAAG,KAEjChF,KAAKiF,kBAAoBjF,KAAKkF,WAAWC,KAAKC,EAAAA,aAAapF,KAAKqF,oBAC3DC,UAAS,SAAEC,GACDA,EAAQC,OAA6B,mBAAfD,EAAQC,OAC7BD,EAAQC,UAKxBxF,KAAKyF,gBAAkBzF,KAAK0F,aAAaC,cACzC3F,KAAK4F,gBACL5F,KAAK6F,SAAW7F,KAAK8F,SAEjB9F,KAAK+F,QACL/F,KAAK+F,OAAOC,kBAAiB,WACT,OAAZnC,EAAKoC,KACLpC,EAAKoC,GAAK,IAAIC,EAAc,SAAE/B,GAC1BN,EAAKsC,kBACLtC,EAAKuC,kCACLvC,EAAKwC,0BAGTxC,EAAKoC,GAAGK,QAAQzC,EAAKM,GAAGoC,mBAOxCzD,EAAAV,UAAAoE,YAAA,SAAYC,GACJA,EAAkB,UAClBzG,KAAK0G,UAAUD,EAAkB,SAAEE,eAK3C7D,EAAAV,UAAAwE,mBAAA,aACA9D,EAAAV,UAAAyE,sBAAA,aAIA/D,EAAAV,UAAA0E,gBAAA,WAAA,IAAAjD,EAAA7D,KAEIA,KAAKiE,SAASI,SAASrE,KAAKmE,GAAI,eAChCnE,KAAKiE,SAASI,SAASrE,KAAKmE,GAAI,eAChCnE,KAAKyD,kBAAkB6B,UAAS,SAACyB,GACzBA,EACAlD,EAAKI,SAASI,SAASR,EAAKM,GAAI,uBAEhCN,EAAKI,SAASC,YAAYL,EAAKM,GAAI,yBAG3CnE,KAAKmD,YAAYmC,UAAS,SAACyB,GACnBA,GACAlD,EAAKI,SAAS+C,SAASnD,EAAKM,GAAI,QAAS4C,KAGjD/G,KAAKqD,aAAaiC,UAAS,SAACyB,GACpBA,GACAlD,EAAKI,SAAS+C,SAASnD,EAAKM,GAAI,SAAU4C,KAGlD/G,KAAKgD,eAAesC,UAAS,SAACyB,GAC1BlD,EAAKI,SAASC,YAAYL,EAAKM,GAAI,YACnCN,EAAKI,SAASC,YAAYL,EAAKM,GAAI,eACnCN,EAAKI,SAASC,YAAYL,EAAKM,GAAI,oBACnCN,EAAKI,SAASC,YAAYL,EAAKM,GAAI,uBACtB,SAAT4C,GACAlD,EAAKI,SAASI,SAASR,EAAKM,GAAI,YAEvB,QAAT4C,GACAlD,EAAKI,SAASI,SAASR,EAAKM,GAAI,eAEvB,UAAT4C,GACAlD,EAAKI,SAASI,SAASR,EAAKM,GAAI,oBAEvB,WAAT4C,GACAlD,EAAKI,SAASI,SAASR,EAAKM,GAAI,yBAIxCnE,KAAKiH,iBACLjH,KAAKmG,kBACLnG,KAAKkH,aACLlH,KAAKmH,oBACLnH,KAAKoH,qBAQLpH,KAAKqH,YAAcrH,KAAKiE,SAASqD,OAAOC,SAAU,YAAW,SAAGtG,GACvDA,EAAEuG,OAAOC,QAAQ,wBACd5D,EAAKM,IAAMN,EAAKM,GAAGuD,cAAc,mBAC7B7D,EAAK8D,KAAO9D,EAAK8D,IAAIC,UACrB/D,EAAK8D,IAAIC,SAASC,WAMtC/E,EAAAV,UAAA0F,mBAAA,aAGAhF,EAAAV,UAAA2F,YAAA,WAEI/H,KAAKgI,aAAajE,QAAO,SAACkE,GACtBA,EAAIC,gBAERlI,KAAKgI,aAAe,GAEhBhI,KAAKiG,KACDjG,KAAKmE,GAAGoC,eACRvG,KAAKiG,GAAGkC,UAAUnI,KAAKmE,GAAGoC,eAE9BvG,KAAKiG,GAAK,MAGVjG,KAAKqH,cACLrH,KAAKqH,cACLrH,KAAKqH,YAAc,MAEnBrH,KAAKiF,mBACLjF,KAAKiF,kBAAkBiD,eAG/BpF,EAAAV,UAAAgG,aAAA,SAAa7C,GACJA,GAGLvF,KAAKkF,WAAW7D,KAAKkE,IAIzBzC,EAAAV,UAAAiG,WAAA,SAAWpH,GACPjB,KAAKsI,mBAAqBrH,EAC1BjB,KAAKuI,cAAgBC,UACrBxI,KAAKmG,kBAIDnG,KAAKyI,eADLxH,EACsBjB,KAAK2H,IAAIe,uBAAyB,KAElC,QAK9B5F,EAAAV,UAAAuG,UAAA,SAAU1H,GACNjB,KAAKmG,kBACLnG,KAAK4I,WAAW3H,IAGpB6B,EAAAV,UAAAwG,WAAA,SAAW3H,GACHA,GAAKA,EAAE4H,gBACP5H,EAAE4H,kBAEFC,OAAOC,MAAMC,cAAe,GAGpClG,EAAAV,UAAA6G,gBAAA,SAAgBvE,EAAYwE,GACxB,YADwB,IAAAA,IAAAA,EAAyBlJ,KAAKmJ,WAClDD,EACOA,EAAM/D,KACTiE,EAAAA,IAAG,SAAExI,GACD,OAAIA,EAAE8D,KAAQ8D,WACVa,QAAQC,KAAK,SAAS5E,EAAE,aACjB,GAEJ9D,EAAE8D,MAIVM,EAAAA,IAAG,IAIVlC,EAAAV,UAAAgF,mBAAR,WAAA,IAAAvD,EAAA7D,KAEIA,KAAKuJ,KAAKxF,QAAO,SAACyF,GACdA,EAAKC,WAAWnE,UAAS,SAACyB,OAClB2C,GAES,KADbF,EAAKG,MAAQ5C,IACSyC,EAAK9E,KAAOb,EAAKgC,WACnC2D,EAAKI,SAAU,EACf/F,EAAKgC,SAAW,GAChB6D,GAAgB,OAEdH,EAAO1F,EAAK0F,KAAKM,OAAM,SAACL,GAAQ,OAAe,IAAfA,EAAKG,QACrCG,EAAeP,EAAKQ,OAASR,EAAK,GAAG7E,GAAK,KAE5CoF,IAAkC,IAAlBJ,IAChB7F,EAAK0F,KAAKxF,QAAO,SAAEyF,EAAMhF,GACjBgF,EAAK9E,KAAOoF,IACZjG,EAAKgC,SAAW2D,EAAK9E,GACrBb,EAAK0F,KAAK/E,GAAOoF,SAAU,KAGnC/F,EAAKoD,kBAETpD,EAAKmG,MAAMC,qBAQvBnH,EAAAV,UAAAsE,UAAA,SAAUwD,OACAC,EAAcnK,KAAKoK,YAAYF,GACrClK,KAAKqK,WAAWF,EAAYG,IAAKH,EAAY3F,QAEjD1B,EAAAV,UAAAmI,oBAAA,SAAoBC,EAAW9F,EAAYiD,QAAA,IAAAA,IAAAA,EAAA,UACjC8C,EAAWD,EAAS,OAuB1B,OArBmD,EAA/CC,EAASC,UAAUC,QAAQ,mBACkC,EAA7DF,EAASlE,cAAcmE,UAAUC,QAAQ,kBAGzCH,EAAG3B,kBACH7I,KAAK4K,SAASlG,KAGd8F,EAAGK,iBACH7K,KAAK0G,UAAUhC,IAEnB1E,KAAKiH,iBACLjH,KAAKgK,MAAMc,eACX9K,KAAKmG,kBACLnG,KAAKoG,kCACLpG,KAAKqG,wBAEDsB,GACAA,EAAIC,SAASC,SAGV,GAMX/E,EAAAV,UAAA2I,iBAAA,SAAiBvG,GACb,GAAa,GAATA,GAAcA,EAAQxE,KAAKuJ,KAAKQ,OAAQ,KAClCrD,EAAY1G,KAAKuJ,KAAK/E,GAC5BxE,KAAKqK,WAAW3D,EAAWlC,KAI3B1B,EAAAV,UAAAiI,WAAR,SAAmBC,EAAK9F,GAAxB,IAAAX,EAAA7D,KACI,GAAIsK,IAAQA,EAAIU,UAAYhL,KAAK6F,WAAayE,EAAI5F,GAAI,CAE7C1E,KAAK+E,eACN/E,KAAK+E,aAAY,WAAS,OAAAC,EAAAA,IAAG,SAG3BiG,EAAuB,CACzBC,OAAQlL,KAAK6F,SACbsF,OAAQb,EAAI5F,IAEhB1E,KAAK+E,aAAakG,GAAsB3F,UAAS,SAAErE,GAC3CA,IACA4C,EAAKgC,SAAWyE,EAAI5F,GAGpBb,EAAK0F,KAAKxF,QAAO,SAAEyF,EAA0BtI,GACzCsI,EAAKI,SAAU,IAEnB/F,EAAK0F,KAAK/E,GAAOoF,SAAU,EAE3B/F,EAAKoD,iBAELpD,EAAKuH,kBAAkB5G,GACvBX,EAAKmG,MAAMC,gBAEXpG,EAAKwH,UAAUC,KAAKL,QAK5BnI,EAAAV,UAAA8E,WAAR,WAAA,IAAArD,EAAA7D,KACI,GAAIA,KAAKuJ,KAAKQ,OAAQ,KACZR,EAAOvJ,KAAKuJ,KAAKM,OAAM,SAACL,GAAQ,OAAe,IAAfA,EAAKG,QACrC4B,EAAYvL,KAAKoK,YAAYpK,KAAK6F,UAAUyE,IAIlD,GAHAtK,KAAK6F,SAAW0F,EAAYA,EAAU7G,GAAK1E,KAAKuJ,KAAKQ,OAAS/J,KAAKuJ,KAAK,GAAG7E,GAAK,KAG5E6E,EAAKQ,OACL,GAAI/J,KAAK6F,SAAU,KACT2F,EAAYjC,EAAKkC,KAAI,SAACjC,GAAQ,OAAAA,EAAK9E,KAAOb,EAAKgC,WACjD2F,IACAxL,KAAK6F,SAAW2F,EAAU9G,SAG9B1E,KAAK6F,SAAW0D,EAAK,GAAG7E,QAG5B1E,KAAK6F,SAAW,KAEpB7F,KAAKuJ,KAAKxF,QAAO,SAACyF,GACdA,EAAKI,SAAU,EACXJ,EAAK9E,KAAOb,EAAKgC,WACjB2D,EAAKI,SAAU,OAQ/B9G,EAAAV,UAAAsJ,QAAA,SAAQxB,EAAYyB,QAAA,IAAAA,IAAAA,GAAA,GAEhB,QADMC,EAAM5L,KAAKuJ,KAAKQ,OACb7I,EAAI,EAAGA,EAAI0K,EAAK1K,IACrB,GAAIlB,KAAKuJ,KAAKrI,GAAGwD,KAAOwF,EAKpB,OAJAlK,KAAKuJ,KAAKrI,GAAGyI,OAAQ,OACjBgC,GACA3L,KAAK0G,UAAUwD,KAS/BpH,EAAAV,UAAAyJ,QAAA,SAAQhG,OACEiG,EAAW9L,KAAKuJ,KAAKM,OAAM,SAACL,GAC9B,OAAsB,IAAfA,EAAKG,QAEViC,EAAME,EAAS/B,OAAS,EAC9B,KAAI6B,EAAM,GAAV,CAIA,QADIpH,EACKtD,EAAI,EAAGA,GAAK0K,EAAK1K,IACtB,GAAI4K,EAAS5K,GAAGwD,KAAOmB,EAAU,CAC7BiG,EAAS5K,GAAGyI,OAAQ,EACpBnF,EAAQtD,EACR,MAGJsD,IAAUgE,YAEHhE,IAAUoH,GAAOA,EAAM,EAC9B5L,KAAK0G,UAAU,IACRlC,IAAUoH,GAAc,GAAPA,EACxB5L,KAAK0G,UAAUoF,EAASF,EAAM,GAAGlH,IAEjC1E,KAAK0G,UAAUoF,EAAStH,EAAQ,GAAGE,OAQ3C5B,EAAAV,UAAA2J,QAAA,SAAQC,EAAgBxH,EAAOyH,SAM3B,GALqB,EAAjBD,EAAQjC,UACRmC,EAAAlM,KAAKuJ,MAAK4C,OAAMC,MAAAF,EFtd5B,SAAgBG,IACZ,IAAK,IAAIjL,EAAK,GAAIF,EAAI,EAAGA,EAAIoL,UAAUvC,OAAQ7I,IAC3CE,EAAKA,EAAGmL,OAAO7L,EAAO4L,UAAUpL,KACpC,OAAOE,EEmdiBiL,CAAA,CAAC7H,EAAO,GAAMwH,IAE9BhM,KAAKuJ,KAAOvJ,KAAKwM,QAAQxM,KAAKuJ,OAE9B0C,GAAejM,KAAK6F,WAAaoG,EAAa,KACxCQ,EAAYzM,KAAKoK,YAAY6B,GACZ,GAAnBQ,EAAUjI,QACVxE,KAAK0G,UAAUuF,GACfjM,KAAK6F,SAAWoG,EAChBjM,KAAKoL,kBAAkBqB,EAAUjI,QAGzCxE,KAAKgK,MAAMC,gBACXjK,KAAKmG,kBACLnG,KAAKmH,qBAMDrE,EAAAV,UAAAoK,QAAR,SAAgBE,OACNC,EAAO,GASb,OARAD,EAAWA,EAASE,OAAM,SAAWpD,EAAMnI,GAMvC,OALIsL,EAAKtL,EAAKqD,IACViI,EAAKtL,EAAKqD,IAAM,GAEhBiI,EAAKtL,EAAKqD,IAAM8E,EAAajI,KAAKF,GAE/BmI,GACR,KAIP1G,EAAAV,UAAAyK,iBAAA,SAAiBrI,OACPoH,EAAM5L,KAAKuJ,KAAKQ,OAAS,EAC/B,KAAIvF,EAAQ,GAAaoH,EAARpH,GAAjB,KAGMsI,EAAY9M,KAAKuJ,KAAK/E,GAC5BsI,EAAUlD,SAAU,EAChB5J,KAAK6F,WAAaiH,EAAUpI,IAEhB,GAARkH,EAEA5L,KAAK6F,SAAW,GACTrB,IAAUoH,GAEjB5L,KAAK6F,SAAW7F,KAAKuJ,KAAKqC,EAAM,GAAGlH,GACnC1E,KAAKuJ,KAAK/E,EAAQ,GAAGoF,SAAU,IAG/B5J,KAAK6F,SAAW7F,KAAKuJ,KAAK/E,EAAQ,GAAGE,GACrC1E,KAAKuJ,KAAK/E,EAAQ,GAAGoF,SAAU,GAEnC5J,KAAKuJ,KAAK4C,OAAO3H,EAAO,GACxBxE,KAAKoL,kBAAkB5G,IAEvBxE,KAAKuJ,KAAK4C,OAAO3H,EAAO,GAE5BxE,KAAK+M,UAAUzB,KAAK,CAChB0B,YAAaxI,EACbyI,SAAUH,EAAUpI,GACpBmB,SAAU7F,KAAK6F,WAEnB7F,KAAKgK,MAAMC,kBAMfnH,EAAAV,UAAAwI,SAAA,SAAS/E,GAEL,QADM+F,EAAM5L,KAAKuJ,KAAKQ,OACb7I,EAAI,EAAGA,EAAI0K,EAAK1K,IAErB,GADYlB,KAAKuJ,KAAKrI,GACdwD,KAAOmB,EAEX,YADA7F,KAAK6M,iBAAiB3L,IAQlC4B,EAAAV,UAAA8K,KAAA,WACI,IAAK,IAAIhM,EAAI,EAAGA,EAAIlB,KAAKuJ,KAAKQ,OAAQ7I,IAClC,GAAIlB,KAAKuJ,KAAKrI,GAAGwD,KAAO1E,KAAK6F,SAEzB,YADA7F,KAAKuJ,KAAKrI,GAAG0I,SAAU,IAS3B9G,EAAAV,UAAA+K,eAAR,WACInN,KAAKuJ,KAAOvJ,KAAKuJ,KAAKH,IAAG,SAACI,GAEtB,OADAA,EAAK4D,MAA4B,EAApB5D,EAAK4D,MAAMrD,OAAaP,EAAK4D,MAAMC,OAAO,EAAG,GAAK7D,EAAK4D,MAC7D5D,KAOP1G,EAAAV,UAAA+E,kBAAR,WACI,IAAInH,KAAKsN,eAIT,QADMC,EAAWvN,KAAKyF,gBAAgB+H,iBAAiB,gBAC9CC,EAAI,EAAGA,EAAIF,EAASxD,OAAQ0D,IAAK,KAClCC,EAAWH,EAASE,GAAGE,WACvBJ,EAASE,GAAGG,YAAcF,EAAsB,YAChD1N,KAAKuJ,KAAKkE,GAAGI,eAAgB,EAE7B7N,KAAKuJ,KAAKkE,GAAGI,eAAgB,IAQjC/K,EAAAV,UAAAwD,cAAR,WAAA,IAAA/B,EAAA7D,KACI,CAACA,KAAK8N,SAAU9N,KAAK+N,SAAShK,QAAO,SAAEiK,EAAQxJ,OACrCyJ,EAAYzJ,GAAS,EAAI,EAEzB0J,EAAaC,EAAAA,UAAUH,EAAOrI,cAAe,aAC7CyI,EAAWD,EAAAA,UAAUH,EAAOrI,cAAe,WAuB3C0I,EAtBgBH,EAAW/I,KAC7BmJ,EAAAA,UAAS,SAAEvF,GAkBP,OAjBAA,EAAM8B,iBACY7F,EAAAA,GAAG,GAAGG,KACpBoH,EAAAA,OAAOgC,EAAAA,SAAS,KAChBC,EAAAA,UAAUJ,GACVK,EAAAA,KAAI,SAAEC,EAAaC,GACf,OAAOD,EAAM7K,EAAKhC,WAAaoM,GAChC,GACHW,EAAAA,UAAS,SAACD,GACN,OAAgB,EAAZV,GACQpK,EAAKgL,cAEThL,EAAKiL,cAEjB1F,EAAAA,IAAG,SAAC2F,GACA,MAAO,CAAEvN,MAAOuN,EAAGd,UAAWA,SAMV3I,UAAS,SAAC0J,GAC1CnL,EAAKoL,WAAWD,EAAOxN,MAAOwN,EAAOf,aAEzCpK,EAAKmE,aAAazG,KAAK8M,MAmBvBvL,EAAAV,UAAA6M,WAAR,SAAmBC,EAAMjB,OACfkB,EAAkBnP,KAAKyF,gBAAgB2J,WAAaF,EACpDG,EACFrP,KAAKyF,gBAAgBmI,YAAc5N,KAAKyF,gBAAgB6J,YAE5C,EAAZrB,EACAjO,KAAKyF,gBAAgB2J,WAAaG,KAAKC,IACnCL,EACAE,GAEGpB,EAAY,IAEnBjO,KAAKyF,gBAAgB2J,WAAaG,KAAKE,IAAIN,EAAiB,IAEhEnP,KAAK0P,oBACL1P,KAAKgK,MAAMC,iBAMfnH,EAAAV,UAAAgJ,kBAAA,SAAkB5G,GACd,GAAKxE,KAAKyF,kBAAmBzF,KAAK2P,YAAlC,KAIIC,EADEC,EAAWhL,SAASL,EAAQ,GAAI,IAItC,GAAgB,GAAZqL,EAAe,KACTC,EAAU9P,KAAKyF,gBAAgB+H,iBAAiB,aAClDsC,EAAQ/F,OAAS8F,IACjBD,EAAcE,EAAQD,QAEvB,KAEGtE,EAAYvL,KAAKyF,gBAAgBiC,cAAc,aACjD6D,IACAqE,EAAcrE,GAItB,GAAIqE,EAAa,KACPG,EAAWlL,SACb+K,EAAYI,wBAAwBC,KAAO,GAC3C,IAEEC,EAAYrL,SACd7E,KAAKyF,gBAAgBuK,wBAAwBC,KAAO,GACpD,IAEEE,EACFJ,EACAlL,SAAS+K,EAAYI,wBAAwBI,MAAQ,GAAI,IACzDF,EAEEG,EAAeN,EAAWG,EAAY,GACxCG,EAAe,EACfrQ,KAAKiP,WAAWoB,GAAe,GACxBF,EAAgBnQ,KAAKyF,gBAAgB6J,aAC5CtP,KAAKiP,WACDkB,EAAgBnQ,KAAKyF,gBAAgB6J,YAAc,GACnD,MAURxM,EAAAV,UAAA6E,eAAR,eACUqJ,EAAYtQ,KAAKuJ,KAAKM,OAAM,SAACL,GAC/B,OAAwB,IAAjBA,EAAKI,UACb,GACE0G,GAAcA,EAAU7P,eAAe,WAGxCT,KAAKuQ,YAAcD,EAAUE,QAF7BxQ,KAAKuQ,YAAc,KAKlBD,GAAcA,EAAU7P,eAAe,6BAGxCT,KAAKyQ,iBAAmBH,EAAUI,0BAFlC1Q,KAAKyQ,iBAAmB,KAK5BzQ,KAAK2Q,iBAAkB,EACvB3Q,KAAKgK,MAAMC,iBAMPnH,EAAAV,UAAAgE,gCAAR,eACQwK,EACAC,EAAsB,EAC1B,GAAK7Q,KAAK8Q,kBAAqB9Q,KAAKuQ,YAApC,KAGMO,EAAmB9Q,KAAK+Q,cAAgB/Q,KAAK8Q,iBAAiBnL,cAAgB3F,KAAK8Q,iBAAiBnL,cAAcY,cAC5GuK,EAAiBpJ,cAAc,8BAIvC1H,KAAKyQ,mBACLG,EAAiBE,EAAiBpJ,cAAc,8BAChD1H,KAAKiE,SAAS+M,YAAYJ,EAAgB,YAC1CC,EAAsBD,EAAetB,cAGpCtP,KAAK+Q,eAAiB/Q,KAAKiR,eAAetL,cAAc2J,YAAcwB,EAAiBxB,YACxFtP,KAAK2Q,iBAAkB,EAChB3Q,KAAK+Q,eAAiB/Q,KAAKiR,eAAetL,cAAc2J,YAAcwB,EAAiBxB,YAAcuB,EAE5G7Q,KAAK2Q,iBAAkB,EAEvB3Q,KAAK2Q,iBAAkB,EAE3B3Q,KAAKgK,MAAMC,mBAMPnH,EAAAV,UAAAiE,sBAAR,eACQuK,EACAC,EAAsB,EAC1B,GAAK7Q,KAAK8Q,kBAAqB9Q,KAAKuQ,YAApC,KAGMO,EAAmB9Q,KAAK+Q,cAAgB/Q,KAAK8Q,iBAAiBnL,cAAgB3F,KAAK8Q,iBAAiBnL,cAAcY,cACpH2K,EAAQJ,EAAiBpJ,cAAc,4BACvCyJ,EAAmBnR,KAAKiR,eAAetL,cACvCyL,EAAqBD,EAAiB3D,iBAAiB,UAC3D,GAAK0D,GAAsC,GAA7BE,EAAmBrH,OAAjC,CAII/J,KAAKyQ,mBACLG,EAAiBE,EAAiBpJ,cAAc,8BAChDmJ,EAAsB7Q,KAAK+Q,cAAgBH,EAAetB,YAAc,OAGtE+B,EAAaP,EAAiBpJ,cAAc,YAE9C4J,EAAazM,SAASsM,EAAiBnB,wBAAwBC,MAC/DsB,EAAaT,EAAiBxB,YAAc+B,EAAW/B,YAAc,GAAKuB,EAC1EW,GAAwB,EACxB/D,EAAI,EAER,GAAiC,GAA7B2D,EAAmBrH,OACfoH,EAAiB7B,YAAciC,EAC/BC,GAAwB,EAExB/D,EAAI,OAGR,IAAKA,EAAI,EAAGA,GAAK2D,EAAmBrH,OAAS,EAAG0D,IAE5C,GAAIA,GAAK2D,EAAmBrH,OAAS,GACjC,GAAIoH,EAAiB7B,YAAciC,EAAY,CAC3CC,GAAwB,EACxB/D,GAAQ,EACR,YAED,GAAI5I,SAASuM,EAAmB3D,GAAGuC,wBAAwBC,MAAQqB,EAAaC,EAAY,CAC/FC,GAAwB,EACxB/D,GAAQ,EACR,MAKZzN,KAAK2Q,gBAAkBa,EAEvB,QADIC,EAAWP,EAAM1D,iBAAiB,UAC7BtM,EAAI,EAAGA,EAAIuM,EAAGvM,IACnBlB,KAAKiE,SAAS+C,SAASyK,EAASvQ,GAAI,UAAW,IAEnD,IAAK,IAAIL,EAAI4M,EAAG5M,EAAI4Q,EAAS1H,OAAQlJ,IACjCb,KAAKiE,SAAS+C,SAASyK,EAAS5Q,GAAI,UAAW,QAE/Cb,KAAKuQ,YAAYmB,UAAY1R,KAAKuQ,YAAYmB,SAAS3H,SACvD/J,KAAK2R,qBAAuB3R,KAAKuQ,YAAYmB,SAAS7H,OAAM,SACvDL,EAAMhF,GACH,OAAgBiJ,GAATjJ,QAQf1B,EAAAV,UAAA+D,gBAAR,WAAA,IAAAtC,EAAA7D,KACI,GAAKA,KAAKyF,gBAAV,KAIImM,EAAiB5R,KAAK6R,UAAUlM,cAAc2J,YAC7CtP,KAAK2P,cAGNiC,GAFW/M,SAASiE,OAAOgJ,iBAAiB9R,KAAK6R,UAAUlM,eAAeoM,iBAAiB,iBAChFlN,SAASiE,OAAOgJ,iBAAiB9R,KAAK6R,UAAUlM,eAAeoM,iBAAiB,iBAI/F/R,KAAK2P,YAAc3P,KAAKyF,gBAAgBmI,aAAegE,EAEvD5R,KAAKgS,cAAehS,KAAK2B,cAAe3B,KAAK2P,YACxC3P,KAAK2P,cACD3P,KAAKgS,eACNhS,KAAKiS,aAAe,GAAG1F,OAAOvM,KAAKuJ,OAEnCvJ,KAAKuI,gBACLvI,KAAKiS,aAAejS,KAAKiS,aAAapI,OAAM,SAACL,GACzC,OAAsD,IAA/CA,EAAY,MAAEmB,QAAQ9G,EAAK0E,kBAG1CvI,KAAK0P,qBAET1P,KAAKgK,MAAMC,kBAKPnH,EAAAV,UAAA8P,oBAAR,WACI,GAAKlS,KAAKyF,kBAAmBzF,KAAK2P,YAAlC,CAWA,QARMwC,EAAmB,GACnBC,EAAkB,GAClBtC,EAAU9P,KAAKyF,gBAAgB+H,iBAAiB,aAChD5B,EAAMkE,EAAQ/F,OAIdsI,EAHarS,KAAKuJ,KAAKM,OAAM,SAACL,GAChC,OAAsB,IAAfA,EAAKG,QAEoBI,OAC3B7I,EAAI,EAAGA,EAAI0K,EAAK1K,IAAK,KACpBmP,EACFP,EAAQ5O,GAAG8O,wBAAwBC,KACnCjQ,KAAKyF,gBAAgBuK,wBAAwBC,KAE7CH,EAAQ5O,GAAG8O,wBAAwBI,MAAQC,EAC3BrQ,KAAKyF,gBAAgB6J,YACrC6C,EAAiB5Q,KAAKvB,KAAKuJ,KAAKrI,IACzBmP,EAAe,GACtB+B,EAAgB7Q,KAAKvB,KAAKuJ,KAAKrI,IAIvClB,KAAKsS,gBAAkB,GAClB/F,OAAO6F,GACPG,MAAMhD,KAAKE,IAAI,EAAG2C,EAAgBrI,OAAS/J,KAAKkC,gBACrDlC,KAAKwS,iBAAmB,GACnBjG,OAAO4F,GACPI,MAAM,EAAGhD,KAAKC,IAAIxP,KAAKkC,cAAeiQ,EAAiBpI,SAC5D/J,KAAKyS,gBAAkBzS,KAAKwS,iBAAiBzI,OAAS,EACtD/J,KAAK0S,gBAAkB1S,KAAKsS,gBAAgBvI,OAASsI,EAAmB,IAKpEvP,EAAAV,UAAAsN,kBAAR,WACI1P,KAAK6O,aACD7O,KAAKyF,gBAAgB2J,YACrBpP,KAAKyF,gBAAgBmI,YAAc5N,KAAKyF,gBAAgB6J,YAC5DtP,KAAK8O,YAAc9O,KAAKyF,gBAAgB2J,YAAc,EACtDpP,KAAKkS,uBAMDpP,EAAAV,UAAAgI,YAAR,SAAoB1F,OACViO,EAAe,GACfC,EAAmC5S,KAAKuJ,KAAKM,OAAM,SACpDS,EAAK9F,GACF,OAAI8F,EAAI5F,KAAOA,IACXiO,EAAapR,KAAKiD,IACX,KAMnB,MAAO,CACH8F,IAAKsI,EAAW7I,OAAS6I,EAAW,GAAK,KACzCpO,MAAOmO,EAAa5I,OAAS4I,EAAa,IAAM,IAIxD7P,EAAAV,UAAAc,YAAA,SAAY2P,OACFC,EAAQ,iBAEd,OAAOA,EAAMC,KAAKF,GACZ,GAAGhO,SAASgO,EAAM,IAAMA,EAAKG,MAAMF,GAAO,GACvCD,EAAI,MAQjB/P,EAAAV,UAAA2O,YAAA,WACI,SAAI/Q,KAAKuQ,aAAevQ,KAAKuQ,YAAY9P,eAAe,aAAeT,KAAKuQ,YAAY9P,eAAe,aAA6C,WAA9BT,KAAKuQ,YAAYjM,UAA4D,EAAnCtE,KAAKuQ,YAAYmB,SAAS3H,YAGtL/J,KAAKyQ,kBAAsBzQ,KAAKuQ,aAA6C,cAA9BvQ,KAAKuQ,YAAYjM,UAA4BtE,KAAKuQ,YAAYmB,SAAS3H,6BA/iCjIkJ,EAAAA,UAASrT,KAAA,CAAC,CACPC,SAAU,cACVqT,SAAA,0zMAEAC,gBAAiBC,EAAAA,wBAAwBC,OACzCC,cAAeC,EAAAA,kBAAkBC,g9CAZ5BrR,SAP+CsR,EAAAA,kBAAYC,EAAAA,iBAChEC,EAAAA,yBAC0DC,EAAAA,wCAuBzDC,EAAAA,8BAEAA,EAAAA,2BAEAA,EAAAA,wBAGAA,EAAAA,4BAQAA,EAAAA,4BAEAA,EAAAA,0BAEAA,EAAAA,0BAEAA,EAAAA,yBAEAA,EAAAA,wBAGAA,EAAAA,MAAKjU,KAAA,CAAC,wBAENiU,EAAAA,sBAIAA,EAAAA,gCAKAA,EAAAA,4BAGAA,EAAAA,MAAKjU,KAAA,CAAC,2CASNiU,EAAAA,2BAEAA,EAAAA,iCAIAA,EAAAA,yBAIAA,EAAAA,0BACAA,EAAAA,oBAGAA,EAAAA,2BAQAA,EAAAA,0BAoBAA,EAAAA,uBACAC,EAAAA,UAASlU,KAAA,CAAC,6BACVkU,EAAAA,UAASlU,KAAA,CAAC,kCACVkU,EAAAA,UAASlU,KAAA,CAAC,0CACVkU,EAAAA,UAASlU,KAAA,CAAC,4CACVkU,EAAAA,UAASlU,KAAA,CAAC,qCACVkU,EAAAA,UAASlU,KAAA,CAAC,qCACVkU,EAAAA,UAASlU,KAAA,CAAC,wCAGViU,EAAAA,yBACAE,EAAAA,0BACAA,EAAAA,oBA0FAD,EAAAA,UAASlU,KAAA,CAAC,UAw2BfkD,GAn2BI,SAAAA,EACY8B,EACAoP,EACA/P,EACA+F,EACAjE,GAJA/F,KAAA4E,UAAAA,EACA5E,KAAAgU,WAAAA,EACAhU,KAAAiE,SAAAA,EACAjE,KAAAgK,MAAAA,EACAhK,KAAA+F,OAAAA,EA3MH/F,KAAAiU,MAAO,EAEPjU,KAAAsN,gBAAiB,EAEjBtN,KAAAkU,YAAc,EAiCdlU,KAAAmU,kBAAmB,EAYnBnU,KAAAoU,iBAAmB,SAMnBpU,KAAAqF,kBAAoB,IACrBrF,KAAAkF,WAAa,IAAImP,EAAAA,QAmChBrU,KAAAsU,WAAa,EAWZtU,KAAAqL,UAAY,IAAIkJ,EAAAA,aAChBvU,KAAA+M,UAAY,IAAIwH,EAAAA,aAwB1BvU,KAAAyD,kBAAoB,IAAI+Q,EAAAA,iBAAyB,GAIjDxU,KAAAmD,YAAc,IAAIqR,EAAAA,iBAAqB,GAIvCxU,KAAAqD,aAAe,IAAImR,EAAAA,iBAAqB,GAKxCxU,KAAAgD,eAAiB,IAAIwR,EAAAA,gBAAwB,OAC7CxU,KAAAyI,eAAiB,OAGjBzI,KAAAgC,cAAgB,EACRhC,KAAA2D,aAAe,GAEf3D,KAAA0D,MAA8B,GAItC1D,KAAAuQ,YAA2B,CACvBjM,SAAU,GACVoN,SAAU,IAGd1R,KAAA2Q,iBAAkB,EAElB3Q,KAAA2R,qBAA8B,GAE9B3R,KAAAiS,aAAe,GAEfjS,KAAA2P,aAAc,EAKd3P,KAAAgS,cAAe,EAEfhS,KAAA8O,aAAc,EAEd9O,KAAA6O,cAAe,EAIf7O,KAAAgI,aAA+B,GAE/BhI,KAAAyS,iBAAkB,EAElBzS,KAAA0S,iBAAkB,EAElB1S,KAAAsS,gBAAkB,GAElBtS,KAAAwS,iBAAmB,GAGXxS,KAAAkC,cAAgB,EAExBlC,KAAA6F,SAAW,GACH7F,KAAAiG,GAAqB,KAMrBjG,KAAAqH,YAAmB,KAUvBrH,KAAKmE,GAAKnE,KAAKgU,WAAWrO,cAC1B3F,KAAK2E,eCzOb,IAAA8P,uBAEC9U,EAAAA,UAASC,KAAA,CAAC,CACPC,SAAU,kEAHM6U,EAAAA,kDAOfb,EAAAA,SAQLY,GANI,SAAAA,EACWE,GAAA3U,KAAA2U,YAAAA,ECVf,IAAAC,GAsBIxU,OAAAyC,eAAa+R,EAAAxS,UAAA,OAAI,KAIjB,WACI,OAAOpC,KAAK2J,WALhB,SAAkBnI,GACdxB,KAAKyJ,WAAWpI,KAAKG,GACrBxB,KAAK2J,MAAQnI,mCAgCjBpB,OAAAyC,eAAI+R,EAAAxS,UAAA,UAAO,KAIX,WACI,OAAOpC,KAAK6U,mBALhB,SAAYrT,GACRxB,KAAK6U,cAAgBrT,EACrBxB,KAAK8U,YAAYzT,KAAKG,oCAU1BpB,OAAAyC,eAAI+R,EAAAxS,UAAA,SAAM,KAAV,WACI,OAAOpC,KAAK4J,yCAUhBgL,EAAAxS,UAAA0C,SAAA,WACI9E,KAAK+U,WAAWxL,KAAKhI,KAAKvB,MACrBA,KAAK+U,WAAWlP,SAGjB7F,KAAK+U,WAAW7H,OAFhBlN,KAAK+U,WAAWxL,KAAK,GAAGK,SAAU,GAK1CgL,EAAAxS,UAAA0E,gBAAA,WAAA,IAAAjD,EAAA7D,KAEUgV,EAAMhV,KAAKmE,GAAGwB,cACpB3F,KAAK8U,YAAYxP,UAAS,SAACyB,GACvBlD,EAAKoR,OAAO5Q,SAAS2Q,EAAK,oBACtBjO,GACAlD,EAAKoR,OAAO5Q,SAAS2Q,EAAK,gBAC1BnR,EAAKoR,OAAO/Q,YAAY8Q,EAAK,kBAE7BnR,EAAKoR,OAAO5Q,SAAS2Q,EAAK,gBAC1BnR,EAAKoR,OAAO/Q,YAAY8Q,EAAK,oBAIzCJ,EAAAxS,UAAA0F,mBAAA,aAGA8M,EAAAxS,UAAA8S,cAAA,iCA7FHjC,EAAAA,UAASrT,KAAA,CAAC,CACPC,SAAU,aACVqT,SAAA,gSAZkDiC,EAAAA,gBAClDC,EAAAA,gCAA0B1B,EAAAA,iBAAWD,EAAAA,kBADNE,EAAAA,yBAO1B7Q,EAAmBN,WAAA,CAAA,CAAAC,KAkEqCC,EAAAA,gDArD5DmR,EAAAA,MAAKjU,KAAA,CAAC,uBACNiU,EAAAA,8BAOAA,EAAAA,2BACAA,EAAAA,kBACAA,EAAAA,8BAEAA,EAAAA,qBAIAA,EAAAA,wBAKAA,EAAAA,0BAEAA,EAAAA,uBACAA,EAAAA,4BAGAwB,EAAAA,aAAYzV,KAAA,CAAC,8CACbyV,EAAAA,aAAYzV,KAAA,CAAC6U,MA2DlBG,GAnCI,SAAAA,EAAoBU,EAAqBC,EAA4DN,EACzF9Q,EAAwBqR,EAA2CT,GAD3D/U,KAAAsV,GAAAA,EAAqBtV,KAAAuV,yBAAAA,EAA4DvV,KAAAiV,OAAAA,EACzFjV,KAAAmE,GAAAA,EAAwBnE,KAAAwV,IAAAA,EAA2CxV,KAAA+U,WAAAA,EArD/D/U,KAAAyV,UAAoB,EAY3BzV,KAAA0V,eAAiB,GAO1B1V,KAAA2V,UAAoB,EAWpB3V,KAAAyJ,WAAa,IAAI+K,EAAAA,iBAAgB,GAGjCxU,KAAA8U,YAAc,IAAIN,EAAAA,iBAAgB,GAYlCxU,KAAA2J,OAAiB,EClErB,IAAAiM,GAYIxV,OAAAyC,eACI+S,EAAAxT,UAAA,iBAAc,KADlB,WAEI,OAAOpC,KAAK6V,qBAEhB,SAAmBlB,IACf3U,KAAK6V,gBAAkBlB,IAEnB3U,KAAK8V,QAAQC,mBAAmBpB,oCAcxCiB,EAAAxT,UAAA0C,SAAA,aASA8Q,EAAAxT,UAAA4T,UAAA,iCArCHrW,EAAAA,UAASC,KAAA,CAAC,CACPC,SAAU,+DALQC,EAAAA,wBAClBmW,EAAAA,2DAUCpC,EAAAA,MAAKjU,KAAA,CAAC,oBAqCXgW,GAvBI,SAAAA,EAAYE,EAAmCI,GAAAlW,KAAAkW,SAAAA,EAEvClW,KAAK8V,QAAUA,EC5B3B,IAAAK,uBAECxW,EAAAA,UAASC,KAAA,CAAC,CACPC,SAAU,yDAFL+U,SADwBnB,EAAAA,kBAAbiB,EAAAA,eASpByB,GAHI,SAAAA,EAAYC,EAA6BjS,EAAgB+O,GACrDkD,EAAQC,WAAanD,ECE7B,IAAAoD,uBAAC/T,EAAAA,aAID+T,GAJA,SAAAA,IAEEtW,KAAAuW,WAA4C,EAC5CvW,KAAAwW,UAA4B,eCV9B,SAAAC,SAqQMC,EAAkB,IApQdD,EAAArU,UAAAuU,aAAR,SAAqBC,GAAwB,OAAO9N,OAAOgJ,iBAAiB8E,IAEpEH,EAAArU,UAAAyU,SAAR,SAAiBD,EAAsBE,GAAwB,OAAO9W,KAAK2W,aAAaC,GAASE,IAEzFL,EAAArU,UAAA2U,mBAAR,SAA2BH,GACzB,MAA4D,YAApD5W,KAAK6W,SAASD,EAAS,aAAe,WAGxCH,EAAArU,UAAA4U,aAAR,SAAqBJ,GAGnB,QAFIK,EAA8BL,EAAoB,cAAIrP,SAAS2P,gBAE5DD,GAAkBA,IAAmB1P,SAAS2P,iBAAmBlX,KAAK+W,mBAAmBE,IAC9FA,EAA8BA,EAA2B,aAG3D,OAAOA,GAAkB1P,SAAS2P,iBAGpCT,EAAArU,UAAAkC,SAAA,SAASsS,EAAsBO,OACzBC,OADyB,IAAAD,IAAAA,GAAA,OAEzBE,EAA2B,CAAEjH,MAAO,EAAGkH,OAAQ,EAAGC,IAAK,EAAGC,OAAQ,EAAGvH,KAAM,EAAGwH,MAAO,GAEzF,GAA2C,UAAvCzX,KAAK6W,SAASD,EAAS,YACzBQ,EAAaR,EAAQ5G,4BAChB,KACCiH,EAAiBjX,KAAKgX,aAAaJ,GAEzCQ,EAAapX,KAAK0X,OAAOd,GAAS,GAE9BK,IAAmB1P,SAAS2P,kBAC9BG,EAAerX,KAAK0X,OAAOT,GAAgB,IAG7CI,EAAaE,KAAON,EAAeU,UACnCN,EAAapH,MAAQgH,EAAeW,WAetC,OAZAR,EAAWG,KAAOF,EAAaE,IAC/BH,EAAWI,QAAUH,EAAaE,IAClCH,EAAWnH,MAAQoH,EAAapH,KAChCmH,EAAWK,OAASJ,EAAapH,KAE7BkH,IACFC,EAAWG,IAAMhI,KAAK4H,MAAMC,EAAWG,KACvCH,EAAWI,OAASjI,KAAK4H,MAAMC,EAAWI,QAC1CJ,EAAWnH,KAAOV,KAAK4H,MAAMC,EAAWnH,MACxCmH,EAAWK,MAAQlI,KAAK4H,MAAMC,EAAWK,QAGpCL,GAGTX,EAAArU,UAAAsV,OAAA,SAAOd,EAAsBO,QAAA,IAAAA,IAAAA,GAAA,OACrBU,EAAQjB,EAAQ5G,wBAChB8H,EACChP,OAAOiP,YAAcxQ,SAAS2P,gBAAgBS,UAD/CG,EAEEhP,OAAOkP,YAAczQ,SAAS2P,gBAAgBU,WAGhDK,EAAW,CACfX,OAAQO,EAAMP,QAAUV,EAAQsB,aAChC9H,MAAOyH,EAAMzH,OAASwG,EAAQtH,YAC9BiI,IAAKM,EAAMN,IAAMO,EACjBN,OAAQK,EAAML,OAASM,EACvB7H,KAAM4H,EAAM5H,KAAO6H,EACnBL,MAAOI,EAAMJ,MAAQK,GAYvB,OATIX,IACFc,EAASX,OAAS/H,KAAK4H,MAAMc,EAASX,QACtCW,EAAS7H,MAAQb,KAAK4H,MAAMc,EAAS7H,OACrC6H,EAASV,IAAMhI,KAAK4H,MAAMc,EAASV,KACnCU,EAAST,OAASjI,KAAK4H,MAAMc,EAAST,QACtCS,EAAShI,KAAOV,KAAK4H,MAAMc,EAAShI,MACpCgI,EAASR,MAAQlI,KAAK4H,MAAMc,EAASR,QAGhCQ,GAGTxB,EAAArU,UAAA+V,iBAAA,SAAiBC,EAA0BC,EAA4B7B,EAAmB8B,EAAuBC,OAEzGC,EAAoBF,EAAetY,KAAK0X,OAAOU,GAAa,GAASpY,KAAKsE,SAAS8T,GAAa,GAClGK,EAAezY,KAAK0Y,yCAAyCF,EAAkBD,GAC7EI,EAAiB3Y,KAAK2W,aAAa0B,GACnCO,EAAcP,EAAcrI,wBAC5B6I,EAAmBrC,EAAU1S,MAAM,KAAK,IAAM,MAC9CgV,EAAqBtC,EAAU1S,MAAM,KAAK,IAAM,SAEhDiV,EAA+B,CACnCzB,OAAUsB,EAAYtB,QAAUe,EAAcH,aAC9C9H,MAASwI,EAAYxI,OAASiI,EAAc/I,YAC5CiI,IAAO,EACPC,OAAUoB,EAAYtB,QAAUe,EAAcH,aAC9CjI,KAAQ,EACRwH,MAASmB,EAAYxI,OAASiI,EAAc/I,aAG9C,OAAQuJ,GACN,IAAK,MACHE,EAAiBxB,IACfkB,EAAelB,KAAOc,EAAcH,aAAec,WAAWL,EAAeM,eAC/E,MACF,IAAK,SACHF,EAAiBxB,IAAMkB,EAAelB,IAAMkB,EAAenB,OAC3D,MACF,IAAK,OACHyB,EAAiB9I,KACfwI,EAAexI,MAAQoI,EAAc/I,YAAc0J,WAAWL,EAAeO,cAC/E,MACF,IAAK,QACHH,EAAiB9I,KAAOwI,EAAexI,KAAOwI,EAAerI,MAIjE,OAAQ0I,GACN,IAAK,MACHC,EAAiBxB,IAAMkB,EAAelB,IACtC,MACF,IAAK,SACHwB,EAAiBxB,IAAMkB,EAAelB,IAAMkB,EAAenB,OAASe,EAAcH,aAClF,MACF,IAAK,OACHa,EAAiB9I,KAAOwI,EAAexI,KACvC,MACF,IAAK,QACH8I,EAAiB9I,KAAOwI,EAAexI,KAAOwI,EAAerI,MAAQiI,EAAc/I,YACnF,MACF,IAAK,SACsB,QAArBuJ,GAAmD,WAArBA,EAChCE,EAAiB9I,KAAOwI,EAAexI,KAAOwI,EAAerI,MAAQ,EAAIiI,EAAc/I,YAAc,EAErGyJ,EAAiBxB,IAAMkB,EAAelB,IAAMkB,EAAenB,OAAS,EAAIe,EAAcH,aAAe,EAU3G,OALAa,EAAiBxB,IAAMhI,KAAK4H,MAAM4B,EAAiBxB,KACnDwB,EAAiBvB,OAASjI,KAAK4H,MAAM4B,EAAiBvB,QACtDuB,EAAiB9I,KAAOV,KAAK4H,MAAM4B,EAAiB9I,MACpD8I,EAAiBtB,MAAQlI,KAAK4H,MAAM4B,EAAiBtB,OAE9CsB,GAEDtC,EAAArU,UAAAsW,yCAAR,SAAiDS,EAASZ,OACpDa,EAAmB,CACnBnJ,KAAKkJ,EAASlJ,KACduH,OAAQ2B,EAAS3B,OACjBF,OAAQ6B,EAAS7B,OACjBG,MAAO0B,EAAS1B,MAChBF,IAAK4B,EAAS5B,IACdnH,MAAO+I,EAAS/I,OAEpB,GAAGmI,EAAa,KACXc,EAAWd,EAAavI,wBACtBqJ,EAAUpJ,KAAKkJ,EAASlJ,OACzBmJ,EAAmBnJ,KAAKoJ,EAAUpJ,MAEjCoJ,EAAU5B,MAAM0B,EAAS1B,QAC1B2B,EAAmB3B,MAAM4B,EAAU5B,OAErC2B,EAAmBhJ,MAAMb,KAAKC,IAAI6J,EAAUjJ,MAAM+I,EAAS/I,MAAOgJ,EAAmB3B,MAAM2B,EAAmBnJ,MAElH,OAAOmJ,GAGT3C,EAAArU,UAAAkX,uBAAA,SAAuBlB,EAA0BC,EAA2BE,OACpEgB,EAAwBnB,EAAYpI,wBACtCoJ,EAAmBpZ,KAAK0Y,yCAAyCa,EAAsBhB,GAErFiB,EAAqC,GACrCC,EAAuBpB,EAAcrI,wBACrC0J,EAAOnS,SAAS2P,gBAChByC,EAAe7Q,OAAO8Q,aAAeF,EAAKG,aAC1CC,EAAchR,OAAOiR,YAAcL,EAAKM,YACxCC,EAA8Bb,EAAmBnJ,KAAOmJ,EAAmBhJ,MAAQ,EACnF8J,EAA8Bd,EAAmB7B,IAAM6B,EAAmB9B,OAAS,EA4CzF,OAxCImC,EAAqBrJ,MAAQgJ,EAAmBnJ,OAE9CiK,EAA8BT,EAAqBnC,OAAS,GAC9DqC,EAAeO,EAA8BT,EAAqBnC,OAAS,GAC3EkC,EAAoBrN,OAAOqN,EAAoBzP,OAAQ,EAAG,QAG5D/J,KAAKma,kCAAkCf,EAAoBK,EAAsB,OAAQD,IAIvFC,EAAqBnC,OAAS8B,EAAmB7B,MAC/C0C,EAA8BR,EAAqBrJ,MAAQ,GAC7D0J,EAAcG,EAA8BR,EAAqBrJ,MAAQ,GACzEoJ,EAAoBrN,OAAOqN,EAAoBzP,OAAQ,EAAG,OAE5D/J,KAAKoa,kCAAkChB,EAAoBK,EAAsB,MAAOD,IAKtFM,EAAcV,EAAmB3B,MAAQgC,EAAqBrJ,QAE5D8J,EAA8BT,EAAqBnC,OAAS,GAC9DqC,EAAeO,EAA8BT,EAAqBnC,OAAS,GAC3EkC,EAAoBrN,OAAOqN,EAAoBzP,OAAQ,EAAG,SAG5D/J,KAAKma,kCAAkCf,EAAoBK,EAAsB,QAASD,IAIxFG,EAAeP,EAAmB5B,OAASiC,EAAqBnC,SAC9D2C,EAA8BR,EAAqBrJ,MAAQ,GAC7D0J,EAAcG,EAA8BR,EAAqBrJ,MAAQ,GACzEoJ,EAAoBrN,OAAOqN,EAAoBzP,OAAQ,EAAG,UAE5D/J,KAAKoa,kCAAkChB,EAAoBK,EAAsB,SAAUD,IAGtFA,GAQD/C,EAAArU,UAAA+X,kCAAR,SACEf,EAAgCK,EAAkCY,EAClEC,OACMZ,EAAOnS,SAAS2P,gBAElBuC,EAAqBnC,QAAU8B,EAAmB5B,QACpD8C,EAAsBnO,OAAOmO,EAAsBvQ,OAAQ,EAAGsQ,EAAmB,YAE9EvR,OAAO8Q,aAAeF,EAAKG,cAAgBT,EAAmB7B,KAAOkC,EAAqBnC,QAC7FgD,EAAsBnO,OAAOmO,EAAsBvQ,OAAQ,EAAGsQ,EAAmB,SAS7E5D,EAAArU,UAAAgY,kCAAR,SACEhB,EAAgCK,EAAkCY,EAClEC,OACMZ,EAAOnS,SAAS2P,iBAEjBpO,OAAOiR,YAAcL,EAAKM,aAAeZ,EAAmBnJ,MAAQwJ,EAAqBrJ,OAC5FkK,EAAsBnO,OAAOmO,EAAsBvQ,OAAQ,EAAGsQ,EAAmB,SAE/EZ,EAAqBrJ,OAASgJ,EAAmB3B,OACnD6C,EAAsBnO,OAAOmO,EAAsBvQ,OAAQ,EAAGsQ,EAAmB,WAGvF5D,GAcA,SAAgB0B,EACdC,EAA0BC,EAA4B7B,EACtD8B,EAAuBC,WACjBgC,EAAkCha,MAAMia,QAAQhE,GAAaA,EAAY,CAAA,GAG3EiE,EAAUF,EAAcG,UAAS,SAACC,GAAO,MAAQ,SAARA,IAC9B,GAAXF,GACF,CAAC,MAAO,SAAU,OAAQ,QAAS,WAAY,YAAa,cAAe,eAAgB,WACzF,cAAe,YAAa,gBAC5B1W,QAAO,SAAW6W,GAC6C,MAA3DL,EAAc9O,KAAI,SAACkP,GAAO,OAA2B,IAA3BA,EAAIE,OAAO,IAAMD,MAC7CL,EAAcpO,OAAOsO,IAAW,EAAC,SAOnCK,EADAC,EAAS,EAAGC,EAAU,EAGpBxB,EAAsB9C,EAAgB4C,uBAAuBlB,EAAaC,EAAcE,cAEjF/O,EAAMhF,GAGjB,GAAsD,MAAjDgV,EAAoB/N,KAAI,SAACkP,GAAO,OAAAA,IAAQnR,KAAmB+Q,EAAcxQ,SAAWvF,EAAQ,EAAI,CACnGsW,EAAgB,MACVG,EAAMvE,EAAgByB,iBAAiBC,EAAaC,EAAe7O,EAAM8O,EAAaC,UAC5FwC,EAASE,EAAI1D,IACbyD,EAAUC,EAAIhL,mBAPlB,IAA8B,IAAAiL,ER7QhC,SA+EgBC,EAASxa,GACrB,IAAIE,EAAsB,mBAAXC,QAAyBH,EAAEG,OAAOC,UAAWG,EAAI,EAChE,OAAIL,EAAUA,EAAEM,KAAKR,GACd,CACHU,KAAM,WAEF,OADIV,GAAKO,GAAKP,EAAEoJ,SAAQpJ,OAAI,GACrB,CAAEa,MAAOb,GAAKA,EAAEO,KAAMI,MAAOX,KQwLhBya,CAiBhC,SAASC,EAAiBC,GACxB,OAAOA,EAAElS,IAAG,SAAEI,EAAMhF,GAAU,MAAA,CAAGgF,KAAIA,EAAEhF,MAAKA,KAlBd6W,CAAcd,IAAcgB,EAAAL,EAAA7Z,QAAAka,EAAAja,KAAAia,EAAAL,EAAA7Z,OAAA,CAA/C,IAAAma,EAAAD,EAAA/Z,qBAAEga,EAAAhS,KAAMgS,EAAAhX,kHAanB,OAFA6T,EAAcoD,MAAMlE,IAASwD,EAAM,KACnC1C,EAAcoD,MAAMxL,KAAU+K,EAAO,KAC9BF,ECpST,IAAAY,GAiBEA,EAAAtZ,UAAAsG,qBAAA,eACMiF,EAAW3N,KAAK2b,YAAYhW,cAAcgI,WAAWA,WACrDiO,EAAYjO,EAAWA,EAAWqC,wBAAwBI,MAAM,EAChEyL,EAAM7b,KAAK2b,YAAYhW,cAAcqK,wBAAwBI,MACjE,OAAOb,KAAKC,IAAIqM,EAAMD,IAExBF,EAAAtZ,UAAA0Z,YAAA,SAAYC,GAAU,OAAO/b,KAAK2b,YAAYhW,cAAcqW,SAASD,EAAOvU,SAE5EkU,EAAAtZ,UAAAkC,SAAA,SAAS2X,EAAWzF,GAClBxW,KAAKkc,eAAe/D,EAAiB8D,EAAWjc,KAAK2b,YAAYhW,cAAe6Q,KAGlFkF,EAAAtZ,UAAA8Z,eAAA,SAAeC,GAEbnc,KAAKoc,UAAUlY,YAAYlE,KAAK2b,YAAYhW,cAAcgI,WAAY,UACtE3N,KAAKoc,UAAUlY,YAAYlE,KAAK2b,YAAYhW,cAAcgI,WAAY,aAMnC,KALnC3N,KAAKwW,UAAY2F,GAKFtB,OAAO,QACpB7a,KAAKoc,UAAU/X,SAASrE,KAAK2b,YAAYhW,cAAcgI,WAAY,UAEnE3N,KAAKoc,UAAU/X,SAASrE,KAAK2b,YAAYhW,cAAcgI,WAAY,iCAzCxEhO,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,oBACVwc,KAAM,CAAEC,wBAAyB,OAAQC,eAAgB,oBAAqBC,qBAAsB,aACpGC,SAAU,wFAOPC,EAAAA,OAAM9c,KAAA,CAAC+c,EAAAA,WAAU,WAAO,OAAAC,cAtB3BnJ,EAAAA,kBAGAC,EAAAA,aAqDFgI,GAnCE,SAAAA,EACgD9T,EAAkB+T,EACxDS,GADsCpc,KAAA4H,SAAAA,EAAkB5H,KAAA2b,YAAAA,EACxD3b,KAAAoc,UAAAA,EALVpc,KAAAwW,UAAuB,SACvBxW,KAAA6c,QAAS,EA+CX,IAAAC,GAWEA,EAAA1a,UAAA0Z,YAAA,SAAYC,GAAU,OAAO/b,KAAK2b,YAAYhW,cAAcqW,SAASD,EAAOvU,6BAX7E7H,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,sBACVwc,KAAM,CAAEU,QAAS,kBAAmBC,gBAAiB,OAAQC,uBAAwB,8FAKxEP,EAAAA,OAAM9c,KAAA,CAAC+c,EAAAA,WAAU,WAAO,OAAAC,cAzErCnJ,EAAAA,cA8EFqJ,GALE,SAAAA,EAA0DlV,EAAkB+T,GAAlB3b,KAAA4H,SAAAA,EAAkB5H,KAAA2b,YAAAA,EAC1E3b,KAAKkd,SAAWvB,EAAYhW,cAUhC,IAAAwX,EAAAC,GTpEA,SAAgBC,GAAUnd,EAAGC,GAEzB,SAASmd,IAAOtd,KAAKud,YAAcrd,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEkC,UAAkB,OAANjC,EAAaC,OAAOod,OAAOrd,IAAMmd,EAAGlb,UAAYjC,EAAEiC,UAAW,IAAIkb,GS2E5CG,CAAAA,EAVvCN,EAUuCL,GAKrCM,EAAAhb,UAAAsb,WAAA,WAAe1d,KAAK4H,SAAS+V,8BAf9Bhe,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,sBACVwc,KAAM,CACJU,QAAS,kBACTC,gBAAiB,OACjBC,uBAAwB,oBACxBW,UAAW,gBAEbC,UAAW,CAAC,CAAEC,QAAShB,EAAmBiB,YAAapB,EAAAA,WAAU,WAAO,OAAAS,+EAG3DV,EAAAA,OAAM9c,KAAA,CAAC+c,EAAAA,WAAU,WAAO,OAAAC,cA/FrCnJ,EAAAA,cAoGF2J,GALE,SAAAA,EAAmDxV,EAAUoM,UAC3DmJ,EAAAhc,KAAAnB,KAAM4H,EAAUoM,IAAWhU,KAS/B,IAAA4c,GAkDEA,EAAAxa,UAAA0C,SAAA,WACM9E,KAAKge,OACPhe,KAAKge,MAAM9B,eAAe3b,MAAMia,QAAQxa,KAAKwW,WAAcxW,KAAKwW,UAAU,GAAMxW,KAAc,YAOlG4c,EAAAxa,UAAAya,OAAA,WAAoB,OAAO7c,KAAKie,OAKhCrB,EAAAxa,UAAA8b,KAAA,WACOle,KAAKie,QACRje,KAAKie,OAAQ,EACbje,KAAKme,gBACLne,KAAKqI,WAAWiD,MAAK,KAOzBsR,EAAAxa,UAAAyF,MAAA,WACM7H,KAAKie,QACPje,KAAKie,OAAQ,EACbje,KAAKqI,WAAWiD,MAAK,KAOzBsR,EAAAxa,UAAAub,OAAA,WACM3d,KAAK6c,SACP7c,KAAK6H,QAEL7H,KAAKke,QAITtB,EAAAxa,UAAAgc,eAAA,SAAerC,GACT/b,KAAKuW,WAA+B,IAAlBwF,EAAOsC,SAAiBre,KAAKse,mBAAmBvC,MAC7C,IAAnB/b,KAAKuW,UACPvW,KAAK6H,QACuB,WAAnB7H,KAAKuW,WAA0BvW,KAAKue,iBAAiBxC,GAC9D/b,KAAK6H,QACuB,YAAnB7H,KAAKuW,WAA4BvW,KAAKue,iBAAiBxC,IAChE/b,KAAK6H,UAKX+U,EAAAxa,UAAAoc,oBAAA,WACMxe,KAAKuW,WACPvW,KAAK6H,SAIT+U,EAAAxa,UAAA2F,YAAA,WAAgB/H,KAAKye,kBAAkBvW,eAE/B0U,EAAAxa,UAAAkc,mBAAR,SAA2BvC,GAAU,OAAO/b,KAAK0e,QAAQ5C,YAAYC,IAE7Da,EAAAxa,UAAAmc,iBAAR,SAAyBxC,GAAU,QAAO/b,KAAKge,OAAQhe,KAAKge,MAAMlC,YAAYC,IAEtEa,EAAAxa,UAAA+b,cAAR,WACMne,KAAK6c,UAAY7c,KAAKge,OACxBhe,KAAKge,MAAM1Z,SAAStE,KAAK0e,QAAQxB,SAAUld,KAAKwW,gCAvHrD7W,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,gBACV4c,SAAU,cACVJ,KAAM,CACJE,eAAgB,WAChBoC,cAAe,wBACfC,mBAAoB,uEAxGftI,SALP1C,EAAAA,yCAmHCyB,EAAAA,aAAYzV,KAAA,CAAC8b,oBAEbrG,EAAAA,aAAYzV,KAAA,CAACkd,sBASbjJ,EAAAA,qBAKAA,EAAAA,MAAKjU,KAAA,CAAC,2BAQNiU,EAAAA,0BAMAE,EAAAA,UAgFH6I,GA9EE,SAAAA,EAAYta,EAA2ByD,GAAvC,IAAAlC,EAAA7D,KAhBeA,KAAAie,OAAQ,EAQdje,KAAAwW,UAA0B,CAAC,OAAO,UAMjCxW,KAAAqI,WAAa,IAAIkM,EAAAA,aAGzBvU,KAAKwW,UAAYlU,EAAOkU,UACxBxW,KAAKuW,UAAYjU,EAAOiU,UACxBvW,KAAKye,kBAAoB1Y,EAAO8Y,SAASvZ,UAAS,WAASzB,EAAKsa,sBCnJ9DW,EAA0B,CAC9BlC,EACAE,EACAM,EACA1B,GAGFqD,GAKSA,EAAAC,QAAP,WACE,MAAO,CAAEC,SAAUF,EAAmBlB,UAAW,CAACvH,yBANrD4I,EAAAA,SAAQtf,KAAA,CAAC,CACRuf,aAAcL,EACdM,QAASN,MAMXC,GARA,SAAAA,KCnBA,IAAAM,GAOEA,EAAAjd,UAAAkd,SAAA,WAAa,MAAqB,WAAdtf,KAAKke,MAAoC,WAAfle,KAAK6H,OACrDwX,GAPE,SAAAA,EAAmBnB,EAAqBrW,GAArB7H,KAAAke,KAAAA,GAAqBle,KAAA6H,MAAAA,KAEpC7H,KAAK6H,MAAQqW,OAObqB,EAAkB,CACtBC,MAAS,CAAC,aAAc,mBA4BpBC,EAAM,aAEZ,SAAgBC,EAAiBzb,EAAe0B,EAAoBga,EAAkBC,EAAQC,EAASC,OAC/FC,EA5BR,SAAgBC,EAAcL,EAAkBM,QAAA,IAAAA,IAAAA,EAAAV,OACxCW,GAAmBP,GAAY,IAAIvb,OAEzC,GAA+B,IAA3B8b,EAAgBnW,OAClB,MAAO,OAGHgW,EAAiBG,EAAgBpc,MAAM,OAAOsF,IAAG,SAAC+W,GAAW,OAAAA,EAAQrc,MAAM,OAAMsF,IAAG,SAAEgX,OACtFC,EAAQJ,EAAQG,EAAY,KAAOA,EACvC,OAAO,IAAIf,EAAQgB,EAAM,GAAIA,EAAM,MAG/BC,EAAiBP,EAAelW,OAAM,SAACuW,GAAe,OAAAA,EAAYd,aAExE,GAA4B,EAAxBgB,EAAevW,OACjB,KAAM,2DAGR,GAA8B,IAA1BuW,EAAevW,QAAwC,EAAxBgW,EAAehW,OAChD,KAAM,0EAGR,OAAOgW,EAMgBC,CAAcL,GAC/BY,EAAY,GAElB,OAA8B,IAA1BR,EAAehW,QAAgBgW,EAAe,GAAGT,WAC5CG,GAGTM,EAAehc,QAAO,SAAEoc,GAClBA,EAAQjC,OAASiC,EAAQtY,MAC3B0Y,EAAUhf,KAAK0C,EAASqD,OAAO3B,EAAewa,EAAQjC,KAAM4B,IAE5DS,EAAUhf,KACN0C,EAASqD,OAAO3B,EAAewa,EAAQjC,KAAM0B,GAAS3b,EAASqD,OAAO3B,EAAewa,EAAQtY,MAAOgY,MAI5G,WAAeU,EAAUxc,QAAO,SAACyc,GAAiB,OAAAA,QChDpD,IAAAC,EACE,SAAAA,GAAmBC,EAAqB5K,EAA0B6K,GAA/C3gB,KAAA0gB,MAAAA,EAAqB1gB,KAAA8V,QAAAA,EAA0B9V,KAAA2gB,aAAAA,MAWlEC,EAAAxe,UAAA8b,KAAA,SAAK2C,EAAqCC,GAQxC,OAPK9gB,KAAK+gB,aACR/gB,KAAKghB,YAAchhB,KAAKihB,eAAeJ,EAASC,GAChD9gB,KAAK+gB,WAAa/gB,KAAKkhB,kBAAkBC,gBACrCnhB,KAAKohB,0BAA0BC,wBAA2BrhB,KAAKshB,OAAQ,EAAGthB,KAAKuhB,UAC/EvhB,KAAKghB,YAAYN,QAGhB1gB,KAAK+gB,YAGdH,EAAAxe,UAAAyF,MAAA,WACM7H,KAAK+gB,aACP/gB,KAAKkhB,kBAAkBM,OAAOxhB,KAAKkhB,kBAAkBvW,QAAQ3K,KAAK+gB,WAAWU,WAC7EzhB,KAAK+gB,WAAa,KAEd/gB,KAAKghB,YAAYlL,UACnB9V,KAAKkhB,kBAAkBM,OAAOxhB,KAAKkhB,kBAAkBvW,QAAQ3K,KAAKghB,YAAYlL,UAC9E9V,KAAKghB,YAAc,QAKjBJ,EAAAxe,UAAA6e,eAAR,SAAuBJ,EAAoCC,GACzD,GAAKD,EAEE,CAAA,GAAIA,aAAmBnM,EAAAA,YAAa,KACnCoB,EAAU9V,KAAKkhB,kBAAkBnL,mBAAkB,EAA0B+K,GACnF,OAAO,IAAIL,EAAW,CAAC3K,EAAQ4L,WAAY5L,GAE3C,OAAO,IAAI2K,EAAW,CAAC,CAACzgB,KAAKoc,UAAUuF,WAAW,GAAGd,MALrD,OAAO,IAAIJ,EAAW,KAQ5BG,GArCE,SAAAA,EACYU,EAAoBC,EAA6BL,EACjD9E,EAA8BgF,GAD9BphB,KAAAshB,MAAAA,EAAoBthB,KAAAuhB,UAAAA,EAA6BvhB,KAAAkhB,kBAAAA,EACjDlhB,KAAAoc,UAAAA,EAA8Bpc,KAAAohB,0BAAAA,ECZ5C,IAAAQ,uBAACrf,EAAAA,aAMDqf,GANA,SAAAA,IAEE5hB,KAAAwW,UAA4B,MAC5BxW,KAAA2f,SAAW,QACX3f,KAAA6hB,UAAY,OACZ7hB,KAAA8hB,gBAAiB,MCYf3W,EAAS,EAEb4W,GA2CEA,GAAA3f,UAAA8Z,eAAA,SAAeC,GAEbnc,KAAKoc,UAAUlY,YAAYlE,KAAKgiB,SAASrc,cAAe,cAAgB3F,KAAKwW,UAAUyL,WAAWne,MAAM,KAAK,IAC7G9D,KAAKoc,UAAUlY,YAAYlE,KAAKgiB,SAASrc,cAAe,cAAgB3F,KAAKwW,UAAUyL,YAGvFjiB,KAAKwW,UAAY2F,EAGjBnc,KAAKoc,UAAU/X,SAASrE,KAAKgiB,SAASrc,cAAe,cAAgB3F,KAAKwW,UAAUyL,WAAWne,MAAM,KAAK,IAC1G9D,KAAKoc,UAAU/X,SAASrE,KAAKgiB,SAASrc,cAAe,cAAgB3F,KAAKwW,UAAUyL,kCArDvFhP,EAAAA,UAASrT,KAAA,CAAC,CACTC,SAAU,qBACVsT,gBAAiBC,EAAAA,wBAAwBC,OACzCgJ,KAAM,CACJ6F,UAAW,kFACXC,KAAQ,UACRC,OAAQ,MAEVlP,SAAU,8FACD,iuBAxBTO,EAAAA,kBAFAC,EAAAA,iDAuDCG,EAAAA,kBACAA,EAAAA,SAgBHkO,IAdE,SAAAA,GAAoBC,EAA8B5F,GAA9Bpc,KAAAgiB,SAAAA,EAA8BhiB,KAAAoc,UAAAA,EAHzCpc,KAAAwW,UAAuB,MAsBlC,IAAA6L,IAkEEjiB,OAAAyC,eACIwf,GAAAjgB,UAAA,aAAU,KAOd,WAAmB,OAAOpC,KAAKsiB,iBAR/B,SACe9gB,KACbxB,KAAKsiB,YAAc9gB,IACLxB,KAAK+gB,YACjB/gB,KAAK6H,yCAUTwa,GAAAjgB,UAAA8b,KAAA,SAAK4C,GACE9gB,KAAK+gB,aAAc/gB,KAAKsiB,aAAgBtiB,KAAK8hB,iBAChD9hB,KAAK+gB,WAAa/gB,KAAKuiB,cAAcrE,KAAKle,KAAKsiB,YAAaxB,GAC5D9gB,KAAK+gB,WAAWyB,SAAS9d,GAAK1E,KAAKyiB,oBAEnCziB,KAAKoc,UAAUsG,aAAa1iB,KAAK2b,YAAYhW,cAAe,mBAAoB3F,KAAKyiB,qBAE9D,SAAnBziB,KAAK6hB,WACP/Y,OAAOvB,SAASG,cAAc1H,KAAK6hB,WAAWc,YAAY3iB,KAAK+gB,WAAW6B,SAASjd,eAGrF3F,KAAK+gB,WAAWyB,SAAShM,UAAYjW,MAAMia,QAAQxa,KAAKwW,WAAaxW,KAAKwW,UAAU,GAAKxW,KAAKwW,UAG9FxW,KAAK+gB,WAAW8B,kBAAkB5Y,gBAClCjK,KAAK+gB,WAAW8B,kBAAkB/X,eAGlC9K,KAAK+gB,WAAWyB,SAAStG,eACvB/D,EACEnY,KAAK2b,YAAYhW,cAAe3F,KAAK+gB,WAAW6B,SAASjd,cAAe3F,KAAKwW,UAC1D,SAAnBxW,KAAK6hB,UAAqB7hB,KAAKuY,eAEnCvY,KAAK8iB,MAAMxX,SAOf+W,GAAAjgB,UAAAyF,MAAA,WACyB,MAAnB7H,KAAK+gB,aACP/gB,KAAKoc,UAAU2G,gBAAgB/iB,KAAK2b,YAAYhW,cAAe,oBAC/D3F,KAAKuiB,cAAc1a,QACnB7H,KAAK+gB,WAAa,KAClB/gB,KAAKgjB,OAAO1X,SAOhB+W,GAAAjgB,UAAAub,OAAA,WACM3d,KAAK+gB,WACP/gB,KAAK6H,QAEL7H,KAAKke,QAOTmE,GAAAjgB,UAAAya,OAAA,WAAoB,OAA0B,MAAnB7c,KAAK+gB,YAEhCsB,GAAAjgB,UAAA0C,SAAA,WACE9E,KAAKijB,uBAAyBvD,EAC5B1f,KAAKoc,UAAWpc,KAAK2b,YAAYhW,cAAe3F,KAAK2f,SAAU3f,KAAKke,KAAKgF,KAAKljB,MAAOA,KAAK6H,MAAMqb,KAAKljB,MACrGA,KAAK2d,OAAOuF,KAAKljB,QAGrBqiB,GAAAjgB,UAAA2F,YAAA,WACE/H,KAAK6H,QAGD7H,KAAKijB,wBACPjjB,KAAKijB,yBAEPjjB,KAAKye,kBAAkBvW,oCApJ1BvI,EAAAA,UAASC,KAAA,CAAC,CAAEC,SAAU,eAAgB4c,SAAU,2DA3E/ChJ,EAAAA,kBAFAC,EAAAA,iBADAyP,EAAAA,gBAMA/N,EAAAA,gCADAtV,EAAAA,wBASO8hB,SAPPhO,EAAAA,8CA+ECC,EAAAA,wBAIAA,EAAAA,yBAKAA,EAAAA,8BAMAA,EAAAA,qBAIAE,EAAAA,uBAIAA,EAAAA,6BACAF,EAAAA,0BAkCAA,EAAAA,SAoFHwO,IA7GE,SAAAA,GACU1G,EAAiCS,EAAsBgH,EAC/D7N,EAAoDxV,EAAoCuC,EACxFyD,GAHF,IAAAlC,EAAA7D,KACUA,KAAA2b,YAAAA,EAAiC3b,KAAAoc,UAAAA,EAzBlCpc,KAAA6hB,UAAU,OAUT7hB,KAAA8iB,MAAQ,IAAIvO,EAAAA,aAIZvU,KAAAgjB,OAAS,IAAIzO,EAAAA,aAIfvU,KAAAyiB,oBAAsB,eAAetX,IAU3CnL,KAAKwW,UAAYlU,EAAOkU,UACxBxW,KAAK2f,SAAWrd,EAAOqd,SACvB3f,KAAK6hB,UAAYvf,EAAOuf,WAAW,OACnC7hB,KAAK8hB,eAAiBxf,EAAOwf,eAC7B9hB,KAAKuiB,cAAgB,IAAI3B,EACvBmB,EAAkBqB,EAAUrjB,EAAkBqc,EAAW7G,GAG3DvV,KAAKye,kBAAoB1Y,EAAO8Y,SAASvZ,UAAS,WAC5CzB,EAAKkd,YACPld,EAAKkd,WAAWyB,SAAStG,eACvB/D,EACEtU,EAAK8X,YAAYhW,cAAe9B,EAAKkd,WAAW6B,SAASjd,cAAe9B,EAAK2S,UAC1D,SAAnB3S,EAAKge,UAAqBhe,EAAK0U,iBCjJ3C,IAAA8K,IAeSA,GAAArE,QAAP,WACE,MAAO,CACLC,SAAUoE,GACVxF,UAAW,CAAC+D,0BATjB1C,EAAAA,SAAQtf,KAAA,CAAC,CACRuf,aAAc,CAACkD,GAAYN,GAC3B3C,QAAS,CAACiD,IACViB,gBAAiB,CAACvB,OASpBsB,IAZA,SAAAA,MCTA,IAAAE,IAqCWA,GAAAvE,QAAP,SAAe1c,GACX,MAAO,CACH2c,SAAUsE,GACV1F,UAAW,CAAC,CAAEC,QAASpc,EAAW8hB,SAAUlhB,2BA1BvD4c,EAAAA,SAAQtf,KAAA,CAAC,CACN6jB,QAAS,CACLC,EAAAA,aACAC,EAAAA,aACAC,EAAAA,YACA7E,EAAkBC,UAClBqE,GAAiBrE,WAErBG,aAAc,CAACrc,EAAqB8R,EAChCgB,EAAwBO,EAAkB1B,EAA2B/U,GACzE0f,QAAS,CACLtc,EACA8R,EACAgB,EACAO,EACAzW,EACA+U,EACAsK,EACAsE,IAEJxF,UAAW,CAAC1b,OAShBohB,IA7BA,SAAAA","sourcesContent":["import { Directive, ViewContainerRef} from '@angular/core';\r\n@Directive({\r\n    selector: '[tabHost]'\r\n})\r\n\r\nexport class TabHostDirective {\r\n    constructor( public viewContainerRef: ViewContainerRef) {\r\n    }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable, Optional } from '@angular/core';\r\n\r\nexport class TabConfig {\r\n  // æ¯å¦å¯ç¨ä¸ææ¡\r\n  showDropDown = true;\r\n  // æ¯å¦å¯ç¨æç¤ºä¿¡æ¯\r\n  showTooltips = true;\r\n  // ç¹å»æ¶æ»å¨å¼\r\n  scrollStep = 15;\r\n  // æ¯å¦èªå¨éæ°å®½åº¦ ---- todo:æ­¤å¤åªå¤çäºwindowçresizeäºä»¶\r\n  autoResize = true;\r\n  // ä¸æåè¡¨æå¤§é«åº¦ éæ­£å¼è¡¨ææ¯ä¸é«åº¦\r\n  maxDropdownH = 200;\r\n  // ä¸æåè¡¨æå¤§å®½åº¦ï¼ éæ­£å¼è¡¨ææ¯ä¸éå¶å®½åº¦\r\n  maxDropdownW = -1;\r\n  // æ ç­¾æå¤§å®½åº¦ï¼éæ­£å¼è¡¨æä¸éå¶å®½åº¦\r\n  maxTabW = 100;\r\n  // æç¤ºä¿¡æ¯æ¡æ°\r\n  maxTooltipLen = 5;\r\n}\r\n\r\n@Injectable()\r\nexport class TabService {\r\n  config: TabConfig;\r\n  constructor(@Optional() exConfig: TabConfig) {\r\n    this.config = new TabConfig();\r\n    if (exConfig) {\r\n      Object.assign(this.config, exConfig);\r\n    }\r\n  }\r\n  getConfig() {\r\n    return this.config;\r\n  }\r\n}\r\n","\r\nimport {\r\n    Component, OnInit, OnChanges, SimpleChanges, Input, ElementRef, Renderer2, ChangeDetectionStrategy,\r\n    ChangeDetectorRef, ViewEncapsulation, AfterViewInit, ViewChild, OnDestroy, AfterContentChecked,\r\n    EventEmitter, Output, AfterContentInit, AfterViewChecked, NgZone\r\n} from '@angular/core';\r\nimport { Subscription, fromEvent, interval, Observable, of, BehaviorSubject, Subject } from 'rxjs';\r\nimport { takeUntil, map, scan, switchMap, takeWhile, concat, debounceTime } from 'rxjs/operators';\r\n\r\nimport { TabService, TabConfig } from '../tabs.config';\r\nimport { TabsChangeEvent, TabsRemoveTabEvent } from '../tabs.events';\r\nimport { FarrisTabComponent } from '../tab/tab.component';\r\nimport { ToolbarConf,ToolbarContentsConf} from '../toolbar.config';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\nimport { NgbDropdownMenu } from '../dropdown/dropdown';\r\n\r\n@Component({\r\n    selector: 'farris-tabs',\r\n    templateUrl: './tabs.component.html',\r\n    styleUrls: ['./tabs.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class FarrisTabsComponent implements OnInit, OnChanges, AfterViewInit,\r\n    OnDestroy, AfterContentInit, AfterContentChecked, AfterViewChecked {\r\n\r\n    // æ¯ææ ç­¾é¡µå¡«å\r\n    @Input() fill = false;\r\n    // æ¯ææ ç­¾é¡µæ é¢èªéåºå®½åº¦-\r\n    @Input() autoTitleWidth = false;\r\n    // æ é¢é¿åº¦å¤§äºç­äºå¤å°å­ç¬¦ï¼å¯ç¨æ¸åæ ·å¼ââå±æ§åºå¼\r\n    @Input() titleLength = 7;\r\n    searchInputVisible: boolean;\r\n    // tabé¡µä½ç½® ä¸ä¸å·¦å³\r\n    @Input() set position(value: string) {\r\n        this._position = value;\r\n        this.positionStates.next(value);\r\n    }\r\n    get position() {\r\n        return this._position;\r\n    }\r\n    // æ¯å¦å¯ç¨ä¸ææ¡\r\n    @Input() showDropDown;\r\n    // æ¯å¦å¯ç¨æç¤ºä¿¡æ¯\r\n    @Input() showTooltips;\r\n    // ç¹å»æ¶æ»å¨å¼\r\n    @Input() scrollStep;\r\n    // æ¯å¦èªå¨éæ°å®½åº¦\r\n    @Input() autoResize;\r\n    // è®¾ç½®å¯å³é­æ ç­¾é¡µ\r\n    @Input() closeable: boolean;\r\n    // è®¾ç½®å¯éä¸­æ ç­¾é¡µ\r\n    // tslint:disable-next-line:no-input-rename\r\n    @Input('value') selectId: string;\r\n    // tabså®½åº¦åé«åº¦\r\n    @Input() set width(value: any) {\r\n        this._width = this.resolveSize(value);\r\n        this.widthStates.next(this._width);\r\n    }\r\n    @Input() set height(value: any) {\r\n        this._height = this.resolveSize(value);\r\n        this.heightStates.next(this._height);\r\n    }\r\n    // æç´¢æ¡æ¯å¦æ¾ç¤º\r\n    @Input() searchBoxVisible = true;\r\n    // æ ç­¾é¡µé«åº¦\r\n    _headerHeight: string | number;\r\n    @Input('header-height')\r\n    get headerHeight() {\r\n        return this._headerHeight;\r\n    }\r\n    set headerHeight(headerHeight) {\r\n        this._headerHeight = this.resolveSize(headerHeight);\r\n    }\r\n\r\n    // åå®¹æ¯å¦æ¯flex å®¹å¨ ç¨äºåé¨å­åç´ flex\r\n    @Input() contentDirection = 'column';\r\n    // åå®¹æ¯å¦å¡«å  é»è®¤æ¯ä¸å¡«å\r\n    @Input() set contentFill(value) {\r\n        this._contentFill = value;\r\n        this.contentFillStates.next(value);\r\n    }\r\n    @Input() clickThrottleTime = 350;\r\n    private clickItems = new Subject<any>();\r\n    private clickSubscription: Subscription;\r\n\r\n    @Input() btnStates: Observable<Array<{ [key: string]: boolean }>>;\r\n    @Input() btnVisible: Observable<Array<{ [key: string]: boolean }>>;\r\n\r\n    // æææ ç­¾æ°æ®\r\n    @Input()\r\n    get tabs(): any[] {\r\n        return this._tabs;\r\n    }\r\n    set tabs(value) {\r\n        this._tabs = value;\r\n    }\r\n\r\n    @Input()\r\n    get customClass(): string {\r\n        return this._customClass;\r\n    }\r\n    set customClass(customClass: string) {\r\n        if (this.customClass) {\r\n            this.customClass.split(' ').forEach((cssClass: string) => {\r\n                this.renderer.removeClass(this.el, cssClass);\r\n            });\r\n        }\r\n\r\n        this._customClass = customClass ? customClass.trim() : null;\r\n\r\n        if (this.customClass) {\r\n            this.customClass.split(' ').forEach((cssClass: string) => {\r\n                this.renderer.addClass(this.el, cssClass);\r\n            });\r\n        }\r\n    }\r\n    // å·¦ä¾§æææ ç­¾çå®½åº¦å,ç¾åæ¯\r\n    @Input() titleWidth = 0;\r\n    @ViewChild('leftNav') leftNav;\r\n    @ViewChild('rightNav') rightNav;\r\n    @ViewChild('tabContainer') tabContainer;\r\n    @ViewChild('toolbarContainer') toolbarContainer;\r\n    @ViewChild('dropDownButton') dropDownButton;\r\n    @ViewChild('tabParent') tabParent;\r\n    @ViewChild('btnPlaceholder') btnPlaceHolder\r\n\r\n    /** éä¸­tab åäºä»¶ */\r\n    @Input() beforeSelect: (e: TabsChangeEvent) => Observable<boolean>;\r\n    @Output() tabChange = new EventEmitter<TabsChangeEvent>();\r\n    @Output() tabRemove = new EventEmitter<TabsRemoveTabEvent>();\r\n\r\n    get direction() {\r\n        switch (this.position) {\r\n            case 'top':\r\n                return 'column';\r\n            case 'bottom':\r\n                return 'column-reverse';\r\n            case 'left':\r\n                return 'row';\r\n            case 'right':\r\n                return 'row-reverse';\r\n        }\r\n    }\r\n\r\n    // æ ç¨ï¼å¼å®¹\r\n    get tabDirection() {\r\n        if (this.position === 'top' || this.position === 'bottom') {\r\n            return 'row';\r\n        } else if (this.position === 'left' || this.position === 'right') {\r\n            return 'column';\r\n        }\r\n    }\r\n    // åå®¹å¡«åç¶æ\r\n    contentFillStates = new BehaviorSubject<boolean>(false);\r\n    // åå®¹æ¯å¦å¡«å,é»è®¤ä¸å¡«å\r\n    _contentFill: any;\r\n    // å®½åº¦ç¶æ\r\n    widthStates = new BehaviorSubject<any>(false);\r\n    // tabså®½åº¦\r\n    _width: any;\r\n    // é«åº¦ç¶æ\r\n    heightStates = new BehaviorSubject<any>(false);\r\n    // tabså®½åº¦\r\n    _height: any;\r\n    // tabsæ é¢ä½ç½®\r\n    _position: any;\r\n    positionStates = new BehaviorSubject<string>('top');\r\n    menuItemsWidth = 'auto';\r\n    //maxDropdownH = 200;\r\n    // ä¸æåè¡¨æå¤§å®½åº¦ï¼ éæ­£å¼è¡¨ææ¯ä¸éå¶å®½åº¦\r\n    maxDropdownW = -1;\r\n    private _customClass = '';\r\n    // æ ç­¾å­å¨åè¡¨\r\n    private _tabs: FarrisTabComponent[] = [];\r\n\r\n    headerExtendConf: any;\r\n    // å·¥å·æ¡æ¾ç¤ºç¸å³éç½®\r\n    toolbarConf: ToolbarConf = {\r\n        position: '',\r\n        contents: []\r\n    };\r\n    // å·¥å·æ¡å³ä¾§å°ä¸ææ¡æ¯å¦æ¾ç¤º\r\n    toolbarDpHidden = true;\r\n    // å·¥å·æ¡âæ´å¤âéçæé®\r\n    inMoreButtonContents: any[] = [];\r\n    // æ¾ç¤ºä¸ææ°æ®\r\n    dropdownTabs = [];\r\n    // éèå·¦å³æ»å¨ç®­å¤´æé®\r\n    hideButtons = true;\r\n    // åä¸ªæ ç­¾é¡µæ é¢çå®½åº¦\r\n    tabWidth: number;\r\n\r\n    // éèä¸æ\r\n    hideDropDown = true;\r\n    // ç¦ç¨å·¦ç®­å¤´\r\n    disableLeft = false;\r\n    // ç¦ç¨å³ç®­å¤´\r\n    disableRight = false;\r\n    // å½åæ ·å¼\r\n    private el: HTMLElement;\r\n    // è®°å½äºä»¶æµ\r\n    subscription: Subscription[] = [];\r\n    // ç¦ç¨å³ä¾§æç¤º\r\n    disableRTooltip = true;\r\n    // ç¦ç¨å·¦ä¾§æç¤º\r\n    disableLTooltip = true;\r\n    // å·¦ä¾§æç¤ºæ°æ®\r\n    leftTooltipTabs = [];\r\n    // å³ä¾§æç¤ºæ°æ®\r\n    rightTooltipTabs = [];\r\n    // åé¨å¤çæ è®°Tabæ ç­¾\r\n    private _tabContainerEl: HTMLElement;\r\n    private maxTooltipLen = 5;\r\n    // æ è®°å½åTabæ ç­¾\r\n    activeId = '';\r\n    private ro: ResizeObserver = null;\r\n    // æç´¢tabæ¡çå¼\r\n    searchTabText: string;\r\n\r\n    @ViewChild('ddm') ddm: NgbDropdownMenu;\r\n\r\n    private _ddmHandler: any = null;\r\n\r\n    trackByButton(index: number, btn: any): number { return btn.id; }\r\n    constructor(\r\n        private stService: TabService,\r\n        private elementRef: ElementRef,\r\n        private renderer: Renderer2,\r\n        private cdRef: ChangeDetectorRef,\r\n        private ngZone: NgZone\r\n    ) {\r\n        this.el = this.elementRef.nativeElement;\r\n        this.verifyConfig();\r\n    }\r\n    /** éªè¯ä¼ éåæ° */\r\n    private verifyConfig() {\r\n        const config: TabConfig = this.stService.getConfig();\r\n        Object.assign(this, config);\r\n        this.scrollStep = parseInt(this.scrollStep + '', 10);\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        if (!this.beforeSelect) {\r\n            this.beforeSelect = () => of(true);\r\n        }\r\n        this.clickSubscription = this.clickItems.pipe(debounceTime(this.clickThrottleTime))\r\n            .subscribe((btnInfo:ToolbarContentsConf) => {\r\n                    if(btnInfo.click&&typeof btnInfo.click=='function'){\r\n                        btnInfo.click();\r\n                    }\r\n            });\r\n\r\n\r\n        this._tabContainerEl = this.tabContainer.nativeElement;\r\n        this._createStream();\r\n        this.activeId = this.selectId;\r\n\r\n        if (this.ngZone) {\r\n            this.ngZone.runOutsideAngular(() => {\r\n                if (this.ro === null) {\r\n                    this.ro = new ResizeObserver((el) => {\r\n                        this._reCalculateAll();\r\n                        this._calculateToolbarDropdownIsShow();\r\n                        this._calculateButtonsShow();\r\n                    });\r\n\r\n                    this.ro.observe(this.el.parentElement);\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes['selectId']) {\r\n            this.selectTab(changes['selectId'].currentValue);\r\n        }\r\n    }\r\n\r\n    /* æ ç­¾é¡µåå®¹åå§å */\r\n    ngAfterContentInit(): void { }\r\n    ngAfterContentChecked() {\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        // ä¸ºäºå¼å®¹å¼æ§è¡¨åï¼ä¸å¼å®¹HostBinding, éè¿è¿½å classçæ¹å¼å®ç°\r\n        this.renderer.addClass(this.el, 'farris-tabs');\r\n        this.renderer.addClass(this.el, 'flex-column');\r\n        this.contentFillStates.subscribe(data => {\r\n            if (data) {\r\n                this.renderer.addClass(this.el, 'f-tabs-content-fill');\r\n            } else {\r\n                this.renderer.removeClass(this.el, 'f-tabs-content-fill');\r\n            }\r\n        });\r\n        this.widthStates.subscribe(data => {\r\n            if (data) {\r\n                this.renderer.setStyle(this.el, 'width', data);\r\n            }\r\n        });\r\n        this.heightStates.subscribe(data => {\r\n            if (data) {\r\n                this.renderer.setStyle(this.el, 'height', data);\r\n            }\r\n        });\r\n        this.positionStates.subscribe(data => {\r\n            this.renderer.removeClass(this.el, 'flex-row');\r\n            this.renderer.removeClass(this.el, 'flex-column');\r\n            this.renderer.removeClass(this.el, 'flex-row-reverse');\r\n            this.renderer.removeClass(this.el, 'flex-column-reverse');\r\n            if (data === 'left') {\r\n                this.renderer.addClass(this.el, 'flex-row');\r\n            }\r\n            if (data === 'top') {\r\n                this.renderer.addClass(this.el, 'flex-column');\r\n            }\r\n            if (data === 'right') {\r\n                this.renderer.addClass(this.el, 'flex-row-reverse');\r\n            }\r\n            if (data === 'bottom') {\r\n                this.renderer.addClass(this.el, 'flex-column-reverse');\r\n            }\r\n        });\r\n        // å¼å®¹ç»æ\r\n        this.getToolbarConf();\r\n        this._reCalculateAll();\r\n        this._setActive();\r\n        this._changeTitleStyle();\r\n        this._listenShowChanges();\r\n        const self = this;\r\n        // this.renderer.listen(document, 'keyup', function (e) {\r\n        //     if (self.searchInputVisible) {\r\n        //         console.log(e);\r\n        //     }\r\n        // });\r\n\r\n        this._ddmHandler = this.renderer.listen(document, 'mousedown', (e: any) => {\r\n            if (!e.target.closest('.farris-tabs-header')) {\r\n                if (this.el && this.el.querySelector('.dropdown-menu')) {\r\n                    if (this.ddm && this.ddm.dropdown) {\r\n                        this.ddm.dropdown.close();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    ngAfterViewChecked(): void {\r\n\r\n    }\r\n    ngOnDestroy() {\r\n        // ç»ä»¶éæ¯æ¶  åæ¶ææäºä»¶è®¢é\r\n        this.subscription.forEach(sub => {\r\n            sub.unsubscribe();\r\n        });\r\n        this.subscription = [];\r\n\r\n        if (this.ro) {\r\n            if (this.el.parentElement) {\r\n                this.ro.unobserve(this.el.parentElement);\r\n            }\r\n            this.ro = null;\r\n        }\r\n\r\n        if (this._ddmHandler) {\r\n            this._ddmHandler();\r\n            this._ddmHandler = null;\r\n        }\r\n        if (this.clickSubscription) {\r\n            this.clickSubscription.unsubscribe();\r\n        }\r\n    }\r\n    clickHandler(btnInfo) {\r\n        if (!btnInfo) {\r\n            return;\r\n        }\r\n        this.clickItems.next(btnInfo);\r\n\r\n    }\r\n    // æ´å¤tabçæ¾ç¤ºéè\r\n    openChange(e) {\r\n        this.searchInputVisible = e;\r\n        this.searchTabText = undefined;\r\n        this._reCalculateAll();\r\n        // å¯ç¨äºæç´¢ï¼éè¦å¤æ­ä¸æé¢æ¿çå¼\r\n        // å ä¸ºä¸æé¢æ¿å¯è½å­å¨é®æ¡çé®é¢\r\n        if (e) {\r\n            this.menuItemsWidth = this.ddm.resetMenuElWidthOpen() + 'px';\r\n        } else {\r\n            this.menuItemsWidth = 'auto';\r\n        }\r\n\r\n    }\r\n    // æç´¢tab\r\n    searchTab(e) {\r\n        this._reCalculateAll();\r\n        this.stopBubble(e);\r\n    }\r\n    // é»æ­¢åæ³¡\r\n    stopBubble(e) {\r\n        if (e && e.stopPropagation) {\r\n            e.stopPropagation();\r\n        } else {\r\n            window.event.cancelBubble = true;\r\n        }\r\n    }\r\n    getToolbarState(id: string, state: Observable<any> = this.btnStates) {\r\n        if (state) {\r\n            return state.pipe(\r\n                map((n: any) => {\r\n                    if (n[id] === undefined) {\r\n                        console.warn(`æªæ¾IDä¸ºï¼${id} ç¸å³ç¶æè®¾ç½®ï¼`);\r\n                        return false;\r\n                    }\r\n                    return n[id];\r\n                })\r\n            );\r\n        } else {\r\n            return of(true);\r\n        }\r\n    }\r\n    // çå¬å­ç»ä»¶çéèæ¾ç¤ºå±æ§\r\n    private _listenShowChanges() {\r\n        // å¦æéèçç»ä»¶æ¯æ¿æ´»ç¶æï¼åå°å¶è®¾ç½®ä¸ºå¸¸è§\r\n        this.tabs.forEach(item => {\r\n            item.showStates.subscribe(data => {\r\n                let activeIdToken;\r\n                item._show = data;\r\n                if (data === false && item.id === this.activeId) {\r\n                    item._active = false;\r\n                    this.activeId = '';\r\n                    activeIdToken = false;\r\n                }\r\n                const tabs = this.tabs.filter(item => item._show === true);\r\n                const defaultTabId = tabs.length ? tabs[0].id : null;\r\n                // ç¶åå°æ¾ç¤ºç¶æä¸çç¬¬ä¸ä¸ªtabæ¿æ´»\r\n                if (defaultTabId && activeIdToken === false) {\r\n                    this.tabs.forEach((item, index) => {\r\n                        if (item.id === defaultTabId) {\r\n                            this.activeId = item.id;\r\n                            this.tabs[index]._active = true;\r\n                        }\r\n                    });\r\n                    this.getToolbarConf();\r\n                }\r\n                this.cdRef.detectChanges();\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * éä¸­Tab\r\n     * @param  tabId tabæ è¯\r\n     */\r\n    selectTab(tabId: string) {\r\n        const selectedTab = this._getTabById(tabId);\r\n        this._selectTab(selectedTab.tab, selectedTab.index);\r\n    }\r\n    _cpSelectTabByIndex(ev: Event, id: string, ddm = null) {\r\n        const targetEL = ev.target as any;\r\n        if (\r\n            targetEL.className.indexOf('st-drop-close') > -1 ||\r\n            targetEL.parentElement.className.indexOf('st-drop-close') > -1\r\n        ) {\r\n            // é»æ­¢åæ³¡åæè·äºä»¶ ç¹å»å é¤æ è®° åæ§è¡å é¤æ ç­¾æ¹æ³  èä¸æ¯éä¸­æ ç­¾\r\n            ev.stopPropagation();\r\n            this.closeTab(id);\r\n        } else {\r\n            // é»æ­¢åæ³¡\r\n            ev.preventDefault();\r\n            this.selectTab(id);\r\n        }\r\n        this.getToolbarConf();\r\n        this.cdRef.markForCheck();\r\n        this._reCalculateAll();\r\n        this._calculateToolbarDropdownIsShow();\r\n        this._calculateButtonsShow();\r\n\r\n        if (ddm) {\r\n            ddm.dropdown.close();\r\n        }\r\n\r\n        return false;\r\n    }\r\n    /**\r\n     * éè¿tabsçç´¢å¼éæ© tab\r\n     * @param index tabsç´¢å¼\r\n     */\r\n    selectTabByIndex(index: number) {\r\n        if (index >= 0 && index < this.tabs.length) {\r\n            const selectTab = this.tabs[index];\r\n            this._selectTab(selectTab, index);\r\n        }\r\n    }\r\n    /* éä¸­tabæ¶  æ´é²åºéä¸­tabçid åå¶ä¹åçid */\r\n    private _selectTab(tab, index) {\r\n        if (tab && !tab.disabled && this.activeId !== tab.id) {\r\n\r\n            if (!this.beforeSelect) {\r\n                this.beforeSelect = () => of(true);\r\n            }\r\n\r\n            const tabsChangeEventParam = {\r\n                prevId: this.activeId,\r\n                nextId: tab.id\r\n            };\r\n            this.beforeSelect(tabsChangeEventParam).subscribe((e) => {\r\n                if (e) {\r\n                    this.activeId = tab.id;\r\n                    // é¦åä¸æ¿æ´»ææçtabé¡µ  ç¶åæ¿æ´»å½åtabé¡µ\r\n                    // let index = -1;\r\n                    this.tabs.forEach((item: FarrisTabComponent, i: number) => {\r\n                        item._active = false;\r\n                    });\r\n                    this.tabs[index]._active = true;\r\n\r\n                    this.getToolbarConf();\r\n                    // æ»å¨å°å¯è§åºåå\r\n                    this.scrollTabIntoView(index);\r\n                    this.cdRef.detectChanges();\r\n\r\n                    this.tabChange.emit(tabsChangeEventParam);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    private _setActive() {\r\n        if (this.tabs.length) {\r\n            const tabs = this.tabs.filter(item => item._show === true);\r\n            const activeTab = this._getTabById(this.activeId).tab;\r\n            this.activeId = activeTab ? activeTab.id : this.tabs.length ? this.tabs[0].id : null;\r\n\r\n            // è¿æ»¤æshow=falseï¼éèï¼çtab\r\n            if (tabs.length) {\r\n                if (this.activeId) {\r\n                    const targetTab = tabs.find(item => item.id === this.activeId);\r\n                    if (targetTab) {\r\n                        this.activeId = targetTab.id;\r\n                    }\r\n                } else {\r\n                    this.activeId = tabs[0].id;\r\n                }\r\n            } else {\r\n                this.activeId = null;\r\n            }\r\n            this.tabs.forEach(item => {\r\n                item._active = false;\r\n                if (item.id === this.activeId) {\r\n                    item._active = true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * @param activeId æ¾ç¤ºæä¸ªtab\r\n     */\r\n    showTab(tabId: any, selectable = true) {\r\n        const len = this.tabs.length;\r\n        for (let i = 0; i < len; i++) {\r\n            if (this.tabs[i].id === tabId) {\r\n                this.tabs[i]._show = true;\r\n                if (selectable) {\r\n                    this.selectTab(tabId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @param activeId éèæä¸ªtab\r\n     */\r\n    hideTab(activeId: any) {\r\n        const showTabs = this.tabs.filter(item => {\r\n            return item._show === true;\r\n        });\r\n        const len = showTabs.length - 1;\r\n        if (len < 0) {\r\n            return;\r\n        }\r\n        let index: number;\r\n        for (let i = 0; i <= len; i++) {\r\n            if (showTabs[i].id === activeId) {\r\n                showTabs[i]._show = false;\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        if (index === undefined) {\r\n            return;\r\n        } else if (index === len && len < 1) {\r\n            this.selectTab('');\r\n        } else if (index === len && len >= 1) {\r\n            this.selectTab(showTabs[len - 1].id);\r\n        } else {\r\n            this.selectTab(showTabs[index + 1].id);\r\n        }\r\n    }\r\n    /**\r\n     * æ·»å æ ç­¾\r\n     * @param curTabs æ°ç»æèå¯¹è±¡\r\n     * @param activeId è®¾ç½®\r\n     */\r\n    addTabs(curTabs: any[], index, setActiveId) {\r\n        if (curTabs.length > 0) {\r\n            this.tabs.splice(index, 0, ...curTabs);\r\n            // å»é\r\n            this.tabs = this._unique(this.tabs);\r\n        }\r\n        if (setActiveId && this.activeId !== setActiveId) {\r\n            const filterTab = this._getTabById(setActiveId);\r\n            if (filterTab.index >= 0) {\r\n                this.selectTab(setActiveId);\r\n                this.activeId = setActiveId;\r\n                this.scrollTabIntoView(filterTab.index);\r\n            }\r\n        }\r\n        this.cdRef.detectChanges();\r\n        this._reCalculateAll();\r\n        this._changeTitleStyle();\r\n    }\r\n    /**\r\n     * æ·»å æ ç­¾æ¶  å»é\r\n     *\r\n     */\r\n    private _unique(objArray) {\r\n        const hash = {};\r\n        objArray = objArray.reduce(function (item, next) {\r\n            if (hash[next.id]) {\r\n                hash[next.id] = '';\r\n            } else {\r\n                hash[next.id] = true && item.push(next);\r\n            }\r\n            return item;\r\n        }, []);\r\n        return objArray;\r\n    }\r\n    /* éè¿tabåè¡¨çåºåå é¤tab */\r\n    removeTabByIndex(index: number) {\r\n        const len = this.tabs.length - 1;\r\n        if (index < 0 || index > len) {\r\n            return;\r\n        }\r\n        const removeTab = this.tabs[index];\r\n        removeTab._active = false;\r\n        if (this.activeId === removeTab.id) {\r\n            // åªæä¸ä¸ªèä¸è¢«å é¤\r\n            if (len === 0) {\r\n                // å¦ææææ ç­¾åå é¤ æ¿æ´»idä¸ºç©º\r\n                this.activeId = '';\r\n            } else if (index === len) {\r\n                // å¦æå é¤çæ¯æåä¸ä¸ªæ ç­¾ è®¾ç½®å¶åé¢çå¤äºæ¿æ´»ç¶æ\r\n                this.activeId = this.tabs[len - 1].id;\r\n                this.tabs[index - 1]._active = true;\r\n            } else {\r\n                // å¦æå¶ä»æåµ  è®¾ç½®å¶åé¢çå¤äºæ¿æ´»ç¶æ\r\n                this.activeId = this.tabs[index + 1].id;\r\n                this.tabs[index + 1]._active = true;\r\n            }\r\n            this.tabs.splice(index, 1);\r\n            this.scrollTabIntoView(index);\r\n        } else {\r\n            this.tabs.splice(index, 1);\r\n        }\r\n        this.tabRemove.emit({\r\n            removeIndex: index,\r\n            removeId: removeTab.id,\r\n            activeId: this.activeId\r\n        });\r\n        this.cdRef.detectChanges();\r\n    }\r\n    /**\r\n     * å³é­æ ç­¾  è·å é¤æ ç­¾ä¸å\r\n     * @param string\r\n     */\r\n    closeTab(activeId) {\r\n        const len = this.tabs.length;\r\n        for (let i = 0; i < len; i++) {\r\n            const tab = this.tabs[i];\r\n            if (tab.id === activeId) {\r\n                this.removeTabByIndex(i);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * åå§å\r\n     */\r\n    load() {\r\n        for (let i = 0; i < this.tabs.length; i++) {\r\n            if (this.tabs[i].id === this.activeId) {\r\n                this.tabs[i]._active = true;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æªåtabä¸­çtitle,è¶è¿6ä½ï¼æªæ­\r\n     */\r\n    private _truncateTitle() {\r\n        this.tabs = this.tabs.map(item => {\r\n            item.title = item.title.length > 6 ? item.title.substr(0, 6) : item.title;\r\n            return item;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * æ¿æ¢tabä¸­çtitleé¢è²\r\n     */\r\n    private _changeTitleStyle() {\r\n        if (this.autoTitleWidth) {\r\n            return;\r\n        }\r\n        const $textEls = this._tabContainerEl.querySelectorAll('.st-tab-text');\r\n        for (var k = 0; k < $textEls.length; k++) {\r\n            let parentEl = $textEls[k].parentNode;\r\n            if ($textEls[k].scrollWidth > parentEl['offsetWidth']) {\r\n                this.tabs[k].titleOverflow = true;\r\n            } else {\r\n                this.tabs[k].titleOverflow = false;\r\n            }\r\n        }\r\n        //this.cdRef.detectChanges();\r\n    }\r\n    /**\r\n     * åå»ºæµ\r\n     */\r\n    private _createStream() {\r\n        [this.rightNav, this.leftNav].forEach((curBtn, index) => {\r\n            const direction = index ? -1 : 1;\r\n\r\n            const mousedown$ = fromEvent(curBtn.nativeElement, 'mousedown');\r\n            const mouseup$ = fromEvent(curBtn.nativeElement, 'mouseup');\r\n            const newMouseDown$ = mousedown$.pipe(\r\n                switchMap((event: MouseEvent) => {\r\n                    event.preventDefault();\r\n                    const interval$ = of(0).pipe(\r\n                        concat(interval(80)),\r\n                        takeUntil(mouseup$),\r\n                        scan((sum: number, num: number) => {\r\n                            return sum + this.scrollStep * direction;\r\n                        }, 0),\r\n                        takeWhile(num => {\r\n                            if (direction > 0) {\r\n                                return !this.disableRight;\r\n                            }\r\n                            return !this.disableLeft;\r\n                        }),\r\n                        map(v => {\r\n                            return { value: v, direction: direction };\r\n                        })\r\n                    );\r\n                    return interval$;\r\n                })\r\n            );\r\n            const mousepressSub = newMouseDown$.subscribe(change => {\r\n                this._scrollTab(change.value, change.direction);\r\n            });\r\n            this.subscription.push(mousepressSub);\r\n        });\r\n\r\n        // if (this.autoResize) {\r\n        //     // è®¢éwindows resizeäºä»¶\r\n        //     this.subscription.push(\r\n        //         fromEvent(window, 'resize')\r\n        //             .pipe(throttleTime(80))\r\n        //             .subscribe(e => {\r\n        //                 this.cdRef.detectChanges();\r\n        //             })\r\n        //     );\r\n        // }\r\n    }\r\n    /**\r\n     * æç§æ¹åï¼æ»å¨å°æå®ä½ç½®\r\n     * @param dist_scroll ç®æ æ»å¨\r\n     * @param direction æ¹å\r\n     */\r\n    private _scrollTab(move, direction) {\r\n        const dist_scrollleft = this._tabContainerEl.scrollLeft + move;\r\n        const max_scroll_left =\r\n            this._tabContainerEl.scrollWidth - this._tabContainerEl.offsetWidth;\r\n        // æ ç­¾é¡µå·¦ä¾§ç§»å¨\r\n        if (direction > 0) {\r\n            this._tabContainerEl.scrollLeft = Math.min(\r\n                dist_scrollleft,\r\n                max_scroll_left\r\n            );\r\n        } else if (direction < 0) {\r\n            // æ ç­¾é¡µå³ä¾§ç§»å¨\r\n            this._tabContainerEl.scrollLeft = Math.max(dist_scrollleft, 0);\r\n        }\r\n        this._reCalculateSides();\r\n        this.cdRef.detectChanges();\r\n    }\r\n    /**\r\n     * æå®å½åæ»å¨å°å¯è§åºåââââââââââââââæªæµè¯\r\n     * index\r\n     */\r\n    scrollTabIntoView(index) {\r\n        if (!this._tabContainerEl || this.hideButtons) {\r\n            return;\r\n        }\r\n        const tabIndex = parseInt(index + '', 10);\r\n        let tabToScroll;\r\n\r\n        // first we find the tab element.\r\n        if (tabIndex >= 0) {\r\n            const allTabs = this._tabContainerEl.querySelectorAll('.nav-item');\r\n            if (allTabs.length > tabIndex) {\r\n                tabToScroll = allTabs[tabIndex];\r\n            }\r\n        } else {\r\n            // scroll selected tab into view\r\n            const activeTab = this._tabContainerEl.querySelector('li.active');\r\n            if (activeTab) {\r\n                tabToScroll = activeTab;\r\n            }\r\n        }\r\n\r\n        if (tabToScroll) {\r\n            const tab_left = parseInt(\r\n                tabToScroll.getBoundingClientRect().left + '',\r\n                10\r\n            );\r\n            const tabs_left = parseInt(\r\n                this._tabContainerEl.getBoundingClientRect().left + '',\r\n                10\r\n            );\r\n            const rightPosition =\r\n                tab_left +\r\n                parseInt(tabToScroll.getBoundingClientRect().width + '', 10) -\r\n                tabs_left;\r\n\r\n            const leftPosition = tab_left - tabs_left - 10;\r\n            if (leftPosition < 0) {\r\n                this._scrollTab(leftPosition, -1);\r\n            } else if (rightPosition > this._tabContainerEl.offsetWidth) {\r\n                this._scrollTab(\r\n                    rightPosition - this._tabContainerEl.offsetWidth + 20,\r\n                    1\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * åæ¢tabåï¼éæ°è·åéè¦è¯¥tabä¸å·¥å·æ¡æé®çéç½®ä¿¡æ¯ä»¥åéèæ´å¤æé®\r\n     * ä»¥åè·åè¯¥tabä¸çå¤´é¨æ©å±åºå\r\n     */\r\n    private getToolbarConf() {\r\n        const tabConfig = this.tabs.filter(item => {\r\n            return item._active === true;\r\n        })[0];\r\n        if (!tabConfig || !tabConfig.hasOwnProperty('toolbar')) {\r\n            this.toolbarConf = null;\r\n        } else {\r\n            this.toolbarConf = tabConfig.toolbar;\r\n        }\r\n        // è·åè¯¥tabä¸çå¤´é¨æ©å±åºå\r\n        if (!tabConfig || !tabConfig.hasOwnProperty('farrisTabsExtendDirective')) {\r\n            this.headerExtendConf = null;\r\n        } else {\r\n            this.headerExtendConf = tabConfig.farrisTabsExtendDirective;\r\n        }\r\n        // éèæ´å¤æé®\r\n        this.toolbarDpHidden = true;\r\n        this.cdRef.detectChanges();\r\n    }\r\n\r\n    /**\r\n     * è®¡ç®å·¥å·æ æ¯å¦æ¾ç¤ºä¸ææé®\r\n     */\r\n    private _calculateToolbarDropdownIsShow() {\r\n        let headerExtendEl: any;\r\n        let headerExtendElWidth = 0;\r\n        if (!this.toolbarContainer || !this.toolbarConf) {\r\n            return;\r\n        }\r\n        const toolbarContainer = this.hasInHeadCl() ? this.toolbarContainer.nativeElement : this.toolbarContainer.nativeElement.parentElement;\r\n        let divEl = toolbarContainer.querySelector('.farris-tabs-inline-flex');\r\n        if (!divEl) {\r\n            return;\r\n        }\r\n        if (this.headerExtendConf) {\r\n            headerExtendEl = toolbarContainer.querySelector('.farris-tabs-header-extend');\r\n            this.renderer.removeStyle(headerExtendEl, 'overflow');\r\n            headerExtendElWidth = headerExtendEl.offsetWidth;\r\n        }\r\n        // æé®å¨åå®¹åº\r\n        if (!this.hasInHeadCl() && this.btnPlaceHolder.nativeElement.offsetWidth > toolbarContainer.offsetWidth) {\r\n            this.toolbarDpHidden = false;\r\n        } else if (this.hasInHeadCl() && this.btnPlaceHolder.nativeElement.offsetWidth > toolbarContainer.offsetWidth - headerExtendElWidth) {\r\n            // æé®å¨å¤´é¨å·¥å·æ \r\n            this.toolbarDpHidden = false;\r\n        } else {\r\n            this.toolbarDpHidden = true;\r\n        }\r\n        this.cdRef.detectChanges();\r\n    }\r\n\r\n    /**\r\n     * è®¡ç®æ¾ç¤ºçæé®ä¸ªæ°åæ´å¤ä¸­æ¾ç¤ºçæé®ä¸ªæ°\r\n     */\r\n    private _calculateButtonsShow() {\r\n        let headerExtendEl: any;\r\n        let headerExtendElWidth = 0;\r\n        if (!this.toolbarContainer || !this.toolbarConf) {\r\n            return;\r\n        }\r\n        const toolbarContainer = this.hasInHeadCl() ? this.toolbarContainer.nativeElement : this.toolbarContainer.nativeElement.parentElement;\r\n        let divEl = toolbarContainer.querySelector('.farris-tabs-inline-flex');\r\n        let btnPlaceHolderEl = this.btnPlaceHolder.nativeElement;\r\n        let btnPlaceHolderBtns = btnPlaceHolderEl.querySelectorAll('button');\r\n        if (!divEl || btnPlaceHolderBtns.length == 0) {\r\n            return;\r\n        }\r\n        // æ­¤å¤æä¸ªBugï¼å¦ææ¯inContentè¿æ¯headerExtendConfçæåµä¸ï¼æé®çä½ç½®å½¢å¦inHead\r\n        if (this.headerExtendConf) {\r\n            headerExtendEl = toolbarContainer.querySelector('.farris-tabs-header-extend');\r\n            headerExtendElWidth = this.hasInHeadCl() ? headerExtendEl.offsetWidth : 0;\r\n\r\n        }\r\n        const moreButton = toolbarContainer.querySelector('.morebtn');\r\n        // è®¡ç®æé®çå®½åº¦      \r\n        let basicStart = parseInt(btnPlaceHolderEl.getBoundingClientRect().left);\r\n        let basicWidth = toolbarContainer.offsetWidth - moreButton.offsetWidth - 12 - headerExtendElWidth;\r\n        let toolbarDropdownHidden = true;\r\n        let k = 0\r\n        // åªæä¸ä¸ªæé®\r\n        if (btnPlaceHolderBtns.length == 1) {\r\n            if (btnPlaceHolderEl.offsetWidth > basicWidth) {\r\n                toolbarDropdownHidden = false;\r\n            } else {\r\n                k = 1;\r\n            }\r\n        } else {\r\n            for (k = 1; k <= btnPlaceHolderBtns.length - 1; k++) {\r\n                // å¦æåå®¹è¶åº,èèå°æé®ä¹é´çé´è·\r\n                if (k == btnPlaceHolderBtns.length - 1) {\r\n                    if (btnPlaceHolderEl.offsetWidth > basicWidth) {\r\n                        toolbarDropdownHidden = false;\r\n                        k = k - 1;\r\n                        break;\r\n                    }\r\n                } else if (parseInt(btnPlaceHolderBtns[k].getBoundingClientRect().left) - basicStart > basicWidth) {\r\n                    toolbarDropdownHidden = false;\r\n                    k = k - 1;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.toolbarDpHidden = toolbarDropdownHidden;\r\n        let showBtns = divEl.querySelectorAll('button');\r\n        for (let i = 0; i < k; i++) {\r\n            this.renderer.setStyle(showBtns[i], 'display', '');\r\n        }\r\n        for (let m = k; m < showBtns.length; m++) {\r\n            this.renderer.setStyle(showBtns[m], 'display', 'none');\r\n        }\r\n        if (this.toolbarConf.contents && this.toolbarConf.contents.length) {\r\n            this.inMoreButtonContents = this.toolbarConf.contents.filter(\r\n                (item, index) => {\r\n                    return index >= k;\r\n                }\r\n            );\r\n        }\r\n    }\r\n    /**\r\n     * éæ°è®¡ç®æ¯å¦æ¾ç¤ºæé®åä¸æ\r\n     */\r\n    private _reCalculateAll() {\r\n        if (!this._tabContainerEl) {\r\n            return;\r\n        }\r\n\r\n        let tabParentWidth = this.tabParent.nativeElement.offsetWidth;\r\n        if (!this.hideButtons) {\r\n            const tr = parseInt(window.getComputedStyle(this.tabParent.nativeElement).getPropertyValue(\"margin-right\"));\r\n            const tl = parseInt(window.getComputedStyle(this.tabParent.nativeElement).getPropertyValue(\"margin-left\"));\r\n            tabParentWidth += tr + tl;\r\n        }\r\n\r\n        this.hideButtons = this._tabContainerEl.scrollWidth <= tabParentWidth;\r\n\r\n        this.hideDropDown = this.showDropDown ? this.hideButtons : true;\r\n        if (!this.hideButtons) {\r\n            if (!this.hideDropDown) {\r\n                this.dropdownTabs = [].concat(this.tabs);\r\n            }\r\n            if (this.searchTabText) {\r\n                this.dropdownTabs = this.dropdownTabs.filter(item => {\r\n                    return item['title'].indexOf(this.searchTabText) !== -1;\r\n                });\r\n            }\r\n            this._reCalculateSides();\r\n        }\r\n        this.cdRef.detectChanges();\r\n    }\r\n    /**\r\n     * éæ°è®¡ç®å·¦å³çæç¤ºæå­\r\n     */\r\n    private _reCalulateTooltips() {\r\n        if (!this._tabContainerEl || this.hideButtons) {\r\n            return;\r\n        }\r\n        const t_right_tooltips = [];\r\n        const t_left_tooltips = [];\r\n        const allTabs = this._tabContainerEl.querySelectorAll('.nav-item');\r\n        const len = allTabs.length;\r\n        const hiddenTabs = this.tabs.filter(item => {\r\n            return item._show !== true;\r\n        })\r\n        const hiddenTabsLength = hiddenTabs.length;\r\n        for (let i = 0; i < len; i++) {\r\n            const leftPosition =\r\n                allTabs[i].getBoundingClientRect().left -\r\n                this._tabContainerEl.getBoundingClientRect().left;\r\n            const rightPosition =\r\n                allTabs[i].getBoundingClientRect().width + leftPosition;\r\n            if (rightPosition > this._tabContainerEl.offsetWidth) {\r\n                t_right_tooltips.push(this.tabs[i]);\r\n            } else if (leftPosition < 0) {\r\n                t_left_tooltips.push(this.tabs[i]);\r\n            }\r\n        }\r\n\r\n        this.leftTooltipTabs = []\r\n            .concat(t_left_tooltips)\r\n            .slice(Math.max(0, t_left_tooltips.length - this.maxTooltipLen));\r\n        this.rightTooltipTabs = []\r\n            .concat(t_right_tooltips)\r\n            .slice(0, Math.min(this.maxTooltipLen, t_right_tooltips.length));\r\n        this.disableRTooltip = this.rightTooltipTabs.length < 1;\r\n        this.disableLTooltip = this.leftTooltipTabs.length - hiddenTabsLength < 1;\r\n    }\r\n    /**\r\n     * éæ°è®¡ç®å·¦å³ç®­å¤´ç¶æ\r\n     */\r\n    private _reCalculateSides() {\r\n        this.disableRight =\r\n            this._tabContainerEl.scrollLeft >=\r\n            this._tabContainerEl.scrollWidth - this._tabContainerEl.offsetWidth;\r\n        this.disableLeft = this._tabContainerEl.scrollLeft <= 0;\r\n        this._reCalulateTooltips();\r\n    }\r\n    /**\r\n     * éè¿idå¯»æ¾Tab\r\n     * @param id ID\r\n     */\r\n    private _getTabById(id: string) {\r\n        const indexWidthId = [];\r\n        const tabsWithId: FarrisTabComponent[] = this.tabs.filter(\r\n            (tab, index) => {\r\n                if (tab.id === id) {\r\n                    indexWidthId.push(index);\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        );\r\n        return {\r\n            tab: tabsWithId.length ? tabsWithId[0] : null,\r\n            index: indexWidthId.length ? indexWidthId[0] : -1\r\n        };\r\n    }\r\n    /*å®½é«ç±»åæ¯ stringæènumber è§£æå®½é«  å°ºå¯¸ */\r\n    resolveSize(size) {\r\n        const regex = /px|em|rem|pt|%/;\r\n        // è¯´ææ¯å­ç¬¦ä¸²\r\n        return regex.test(size)\r\n            ? `${parseInt(size, 10)}${size.match(regex)[0]}`\r\n            : `${size}px`;\r\n    }\r\n    /*\r\n      æ¸ç©ºtab\r\n       */\r\n    // removeAllTab() {\r\n    //     this.tabs.splice(0, this.tabs.length);\r\n    // }\r\n    hasInHeadCl() {\r\n        if (this.toolbarConf && this.toolbarConf.hasOwnProperty('position') && this.toolbarConf.hasOwnProperty('contents') && this.toolbarConf.position === 'inHead' && this.toolbarConf.contents.length > 0) {\r\n            return true;\r\n        }\r\n        if (this.headerExtendConf && !(this.toolbarConf && this.toolbarConf.position === 'inContent' && this.toolbarConf.contents.length)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n","import { Directive, TemplateRef, Input } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[farrisTabsExtend]',\r\n})\r\nexport class FarrisTabsExtendDirective {\r\n\r\n    @Input() extendCls: string;\r\n\r\n    constructor(\r\n        public templateRef: TemplateRef<any>\r\n    ) {\r\n\r\n    }\r\n\r\n}","import {\r\n    Component, Input, TemplateRef, ChangeDetectorRef, Compiler,\r\n    ComponentFactoryResolver, Renderer2, ElementRef,\r\n    ContentChild, OnInit, AfterViewInit, ViewContainerRef, Optional, Type,\r\n    NgModuleFactory,\r\n    AfterViewChecked\r\n} from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { FarrisTabsComponent } from '../tabs/tabs.component';\r\nimport { FarrisTabsExtendDirective } from './extend.directive';\r\n\r\n@Component({\r\n    selector: 'farris-tab',\r\n    templateUrl: './tab.component.html'\r\n})\r\nexport class FarrisTabComponent implements OnInit, AfterViewInit, AfterViewChecked {\r\n    // tabsä¹å¯è½ä½ä¸ºæä¸ªflexå®¹å¨çé¡¹ç®  å æ­¤è¦è®¾ç½®flexå±æ§\r\n    // tslint:disable-next-line:no-inferrable-types\r\n    // æ¯ä¸ä¸ªæ ç­¾é¡µå¯è®¾ç½®å®½åº¦\r\n    setIntervalTab: any;\r\n    \r\n    @Input('width') tabWidth: number = -1;\r\n    @Input() set show(value) {\r\n        this.showStates.next(value);\r\n        this._show = value;\r\n    }\r\n    get show(){\r\n        return this._show;\r\n    }\r\n    @Input() asyncComponent: Type<any>;\r\n    @Input() asyncModule: NgModuleFactory<any>;\r\n    @Input() id: string;\r\n    // è¿½å èªå®ä¹çæ ·å¼\r\n    @Input() titleCustomCls = '';\r\n    // æ è®°ææ¬æ¯å¦è¶åº\r\n    titleOverflow:false;\r\n    // tab æ é¢\r\n    @Input() title: string;\r\n    // selected æ¯å¦éä¸­\r\n    // tslint:disable-next-line:no-inferrable-types\r\n    selected: boolean = false;\r\n    // disabled æ¯å¦ç¦æ­¢ç¹å»\r\n    @Input() disabled: boolean;\r\n    // æ¯å¦å¯ç§»åº\r\n    @Input() removeable: boolean;\r\n    @Input() toolbar: any;\r\n    // @Input() content: string | Type<any>;\r\n    // è®¾ç½®éç¹\r\n    @ContentChild('content') contentTempl: TemplateRef<any>;\r\n    @ContentChild(FarrisTabsExtendDirective) farrisTabsExtendDirective: any;\r\n    // appDiv: T;\r\n    showStates = new BehaviorSubject(true);\r\n\r\n    // å¼å®¹æ§è¡¨å\r\n    activeState = new BehaviorSubject(false);\r\n    private _activeForOld: any;\r\n    set _active(value: any) {\r\n        this._activeForOld = value;\r\n        this.activeState.next(value);\r\n    }\r\n    get _active() {\r\n        return this._activeForOld;\r\n    }\r\n    view: ViewContainerRef;\r\n    tempDirective: any;\r\n    popupFlag: boolean;\r\n    _show: boolean = true;\r\n    // æ ç¨ä»£ç \r\n    get active() {\r\n        return this._active;\r\n    }\r\n    headingRef: TemplateRef<any>;\r\n    compOrHtml: any;\r\n    constructor(private cp: Compiler, public componentFactoryResolver: ComponentFactoryResolver, private render: Renderer2,\r\n        private el: ElementRef, private cef: ChangeDetectorRef, @Optional() public scrollTabs: FarrisTabsComponent) {\r\n    }\r\n    /**\r\n     * åå®¹æ¯å¦æ¿æ´»\r\n     */\r\n    ngOnInit() {\r\n        this.scrollTabs.tabs.push(this);\r\n        if (!this.scrollTabs.activeId) {\r\n            this.scrollTabs.tabs[0]._active = true;\r\n        } else {\r\n            this.scrollTabs.load();\r\n        }\r\n    }\r\n    ngAfterViewInit(): void {\r\n        // ä¸ºäºå¼å®¹å¼æ§è¡¨åï¼ä¸å¼å®¹HostBinding, éè¿è¿½å classçæ¹å¼å®ç°\r\n        const nEl = this.el.nativeElement;\r\n        this.activeState.subscribe(data => {\r\n            this.render.addClass(nEl, 'farris-tabs-body');\r\n            if (data) {\r\n                this.render.addClass(nEl, 'f-tab-active');\r\n                this.render.removeClass(nEl, 'f-tab-d-none');\r\n            } else {\r\n                this.render.addClass(nEl, 'f-tab-d-none');\r\n                this.render.removeClass(nEl, 'f-tab-active');\r\n            }\r\n        });\r\n    }\r\n    ngAfterViewChecked() {\r\n\r\n    }\r\n    loadComponent() {\r\n\r\n    }\r\n\r\n}\r\n","import {\r\n    Directive, Input, ViewContainerRef, TemplateRef, ChangeDetectionStrategy, ChangeDetectorRef, OnInit,\r\n    KeyValueDiffers, KeyValueDiffer, DoCheck\r\n} from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[tabTransclude]',\r\n})\r\nexport class TabTranscludeDirective implements OnInit, DoCheck {\r\n    _trancludeTempl: TemplateRef<any>;\r\n    setIntervalTemp: any;\r\n    private _differ: any;\r\n    @Input('tabTransclude')\r\n    get trancludeTempl() {\r\n        return this._trancludeTempl;\r\n    }\r\n    set trancludeTempl(templateRef: TemplateRef<any>) {\r\n        this._trancludeTempl = templateRef;\r\n        if (templateRef) {\r\n            this.viewRef.createEmbeddedView(templateRef);\r\n        }\r\n        // if (!this._differ && templateRef) {\r\n        //     this._differ = this._differs.find(templateRef).create();\r\n        // }\r\n    }\r\n    viewRef: ViewContainerRef;\r\n    constructor(viewRef: ViewContainerRef, private _differs: KeyValueDiffers) {\r\n        // setTimeout(() => {\r\n            this.viewRef = viewRef;\r\n        // }, 5000);\r\n\r\n        // this.cd.detectChanges();\r\n    }\r\n    ngOnInit() {\r\n        // this.setIntervalTemp = setInterval(() => {\r\n        //     if (this._trancludeTempl && this.viewRef) {\r\n        //         console.log('sa');\r\n        //         // this.viewRef = this.viewRef;\r\n        //         clearInterval(this.setIntervalTemp);\r\n        //     }\r\n        // }, 0);\r\n    }\r\n    ngDoCheck() {\r\n        // const CHANGE = this._differ.diff(this._trancludeTempl);\r\n        // if (CHANGE) {\r\n        //     this.viewRef.createEmbeddedView(this._trancludeTempl);\r\n        // }\r\n    }\r\n    // ng\r\n}\r\n","import { Directive, TemplateRef, ElementRef } from '@angular/core';\r\nimport { FarrisTabComponent } from './tab.component';\r\n@Directive({\r\n    selector: '[tabHead]'\r\n})\r\nexport class TabHeadDirective {\r\n    constructor(tabItem: FarrisTabComponent, el: ElementRef, template: TemplateRef<any>) {\r\n        tabItem.headingRef = template;\r\n    }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {PlacementArray} from '../util/positioning';\r\n\r\n\r\n/**\r\n * Configuration service for the NgbDropdown directive.\r\n * You can inject this service, typically in your root component, and customize the values of its properties in\r\n * order to provide default values for all the dropdowns used in the application.\r\n */\r\n@Injectable()\r\nexport class NgbDropdownConfig {\r\n  autoClose: boolean | 'outside' | 'inside' = true;\r\n  placement: PlacementArray = 'bottom-right';\r\n}\r\n","// previous version:\r\n// https://github.com/angular-ui/bootstrap/blob/07c31d0731f7cb068a1932b8e01d2312b796b4ec/src/position/position.js\r\nexport class Positioning {\r\n  private getAllStyles(element: HTMLElement) { return window.getComputedStyle(element); }\r\n\r\n  private getStyle(element: HTMLElement, prop: string): string { return this.getAllStyles(element)[prop]; }\r\n\r\n  private isStaticPositioned(element: HTMLElement): boolean {\r\n    return (this.getStyle(element, 'position') || 'static') === 'static';\r\n  }\r\n\r\n  private offsetParent(element: HTMLElement): HTMLElement {\r\n    let offsetParentEl = <HTMLElement>element.offsetParent || document.documentElement;\r\n\r\n    while (offsetParentEl && offsetParentEl !== document.documentElement && this.isStaticPositioned(offsetParentEl)) {\r\n      offsetParentEl = <HTMLElement>offsetParentEl.offsetParent;\r\n    }\r\n\r\n    return offsetParentEl || document.documentElement;\r\n  }\r\n\r\n  position(element: HTMLElement, round = true): ClientRect {\r\n    let elPosition: ClientRect;\r\n    let parentOffset: ClientRect = { width: 0, height: 0, top: 0, bottom: 0, left: 0, right: 0 };\r\n\r\n    if (this.getStyle(element, 'position') === 'fixed') {\r\n      elPosition = element.getBoundingClientRect();\r\n    } else {\r\n      const offsetParentEl = this.offsetParent(element);\r\n\r\n      elPosition = this.offset(element, false);\r\n\r\n      if (offsetParentEl !== document.documentElement) {\r\n        parentOffset = this.offset(offsetParentEl, false);\r\n      }\r\n\r\n      parentOffset.top += offsetParentEl.clientTop;\r\n      parentOffset.left += offsetParentEl.clientLeft;\r\n    }\r\n\r\n    elPosition.top -= parentOffset.top;\r\n    elPosition.bottom -= parentOffset.top;\r\n    elPosition.left -= parentOffset.left;\r\n    elPosition.right -= parentOffset.left;\r\n\r\n    if (round) {\r\n      elPosition.top = Math.round(elPosition.top);\r\n      elPosition.bottom = Math.round(elPosition.bottom);\r\n      elPosition.left = Math.round(elPosition.left);\r\n      elPosition.right = Math.round(elPosition.right);\r\n    }\r\n\r\n    return elPosition;\r\n  }\r\n\r\n  offset(element: HTMLElement, round = true): ClientRect {\r\n    const elBcr = element.getBoundingClientRect();\r\n    const viewportOffset = {\r\n      top: window.pageYOffset - document.documentElement.clientTop,\r\n      left: window.pageXOffset - document.documentElement.clientLeft\r\n    };\r\n\r\n    const elOffset = {\r\n      height: elBcr.height || element.offsetHeight,\r\n      width: elBcr.width || element.offsetWidth,\r\n      top: elBcr.top + viewportOffset.top,\r\n      bottom: elBcr.bottom + viewportOffset.top,\r\n      left: elBcr.left + viewportOffset.left,\r\n      right: elBcr.right + viewportOffset.left\r\n    };\r\n\r\n    if (round) {\r\n      elOffset.height = Math.round(elOffset.height);\r\n      elOffset.width = Math.round(elOffset.width);\r\n      elOffset.top = Math.round(elOffset.top);\r\n      elOffset.bottom = Math.round(elOffset.bottom);\r\n      elOffset.left = Math.round(elOffset.left);\r\n      elOffset.right = Math.round(elOffset.right);\r\n    }\r\n\r\n    return elOffset;\r\n  }\r\n\r\n  positionElements(hostElement: HTMLElement, targetElement: HTMLElement, placement: string, appendToBody?: boolean,referElement?:HTMLElement):\r\n    ClientRect {\r\n    const oldhostElPosition = appendToBody ? this.offset(hostElement, false) : this.position(hostElement, false);\r\n    let hostElPosition=this.getRectCompareReferElementAndHostElement(oldhostElPosition,referElement);\r\n    const targetElStyles = this.getAllStyles(targetElement);\r\n    const targetElBCR = targetElement.getBoundingClientRect();\r\n    const placementPrimary = placement.split('-')[0] || 'top';\r\n    const placementSecondary = placement.split('-')[1] || 'center';\r\n\r\n    const targetElPosition: ClientRect = {\r\n      'height': targetElBCR.height || targetElement.offsetHeight,\r\n      'width': targetElBCR.width || targetElement.offsetWidth,\r\n      'top': 0,\r\n      'bottom': targetElBCR.height || targetElement.offsetHeight,\r\n      'left': 0,\r\n      'right': targetElBCR.width || targetElement.offsetWidth\r\n    };\r\n\r\n    switch (placementPrimary) {\r\n      case 'top':\r\n        targetElPosition.top =\r\n          hostElPosition.top - (targetElement.offsetHeight + parseFloat(targetElStyles.marginBottom));\r\n        break;\r\n      case 'bottom':\r\n        targetElPosition.top = hostElPosition.top + hostElPosition.height;\r\n        break;\r\n      case 'left':\r\n        targetElPosition.left =\r\n          hostElPosition.left - (targetElement.offsetWidth + parseFloat(targetElStyles.marginRight));\r\n        break;\r\n      case 'right':\r\n        targetElPosition.left = hostElPosition.left + hostElPosition.width;\r\n        break;\r\n    }\r\n\r\n    switch (placementSecondary) {\r\n      case 'top':\r\n        targetElPosition.top = hostElPosition.top;\r\n        break;\r\n      case 'bottom':\r\n        targetElPosition.top = hostElPosition.top + hostElPosition.height - targetElement.offsetHeight;\r\n        break;\r\n      case 'left':\r\n        targetElPosition.left = hostElPosition.left;\r\n        break;\r\n      case 'right':\r\n        targetElPosition.left = hostElPosition.left + hostElPosition.width - targetElement.offsetWidth;\r\n        break;\r\n      case 'center':\r\n        if (placementPrimary === 'top' || placementPrimary === 'bottom') {\r\n          targetElPosition.left = hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2;\r\n        } else {\r\n          targetElPosition.top = hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2;\r\n        }\r\n        break;\r\n    }\r\n\r\n    targetElPosition.top = Math.round(targetElPosition.top);\r\n    targetElPosition.bottom = Math.round(targetElPosition.bottom);\r\n    targetElPosition.left = Math.round(targetElPosition.left);\r\n    targetElPosition.right = Math.round(targetElPosition.right);\r\n\r\n    return targetElPosition;\r\n  }\r\n  private getRectCompareReferElementAndHostElement(hostRect,referElement){\r\n    let hostElemClientRect={\r\n        left:hostRect.left,\r\n        bottom: hostRect.bottom,\r\n        height: hostRect.height,\r\n        right: hostRect.right,\r\n        top: hostRect.top,\r\n        width: hostRect.width\r\n    };\r\n    if(referElement){\r\n     let referRect= referElement.getBoundingClientRect();\r\n        if(referRect.left>hostRect.left){\r\n          hostElemClientRect.left=referRect.left;\r\n        }\r\n        if(referRect.right<hostRect.right){\r\n          hostElemClientRect.right=referRect.right;\r\n        }\r\n        hostElemClientRect.width=Math.min(referRect.width,hostRect.width,(hostElemClientRect.right-hostElemClientRect.left));    \r\n    }\r\n    return hostElemClientRect;\r\n  }\r\n  // get the availble placements of the target element in the viewport dependeing on the host element\r\n  getAvailablePlacements(hostElement: HTMLElement, targetElement: HTMLElement,referElement:HTMLElement): string[] {\r\n    const oldhostElemClientRect = hostElement.getBoundingClientRect();\r\n    let hostElemClientRect=this.getRectCompareReferElementAndHostElement(oldhostElemClientRect,referElement);\r\n\r\n    const availablePlacements: Array<string> = [];\r\n    const targetElemClientRect = targetElement.getBoundingClientRect();\r\n    const html = document.documentElement;\r\n    const windowHeight = window.innerHeight || html.clientHeight;\r\n    const windowWidth = window.innerWidth || html.clientWidth;\r\n    const hostElemClientRectHorCenter = hostElemClientRect.left + hostElemClientRect.width / 2;\r\n    const hostElemClientRectVerCenter = hostElemClientRect.top + hostElemClientRect.height / 2;\r\n\r\n    // left: check if target width can be placed between host left and viewport start and also height of target is\r\n    // inside viewport\r\n    if (targetElemClientRect.width < hostElemClientRect.left) {\r\n      // check for left only\r\n      if (hostElemClientRectVerCenter > targetElemClientRect.height / 2 &&\r\n        windowHeight - hostElemClientRectVerCenter > targetElemClientRect.height / 2) {\r\n        availablePlacements.splice(availablePlacements.length, 1, 'left');\r\n      }\r\n      // check for left-top and left-bottom\r\n      this.setSecondaryPlacementForLeftRight(hostElemClientRect, targetElemClientRect, 'left', availablePlacements);\r\n    }\r\n\r\n    // top: target height is less than host top\r\n    if (targetElemClientRect.height < hostElemClientRect.top) {\r\n      if (hostElemClientRectHorCenter > targetElemClientRect.width / 2 &&\r\n        windowWidth - hostElemClientRectHorCenter > targetElemClientRect.width / 2) {\r\n        availablePlacements.splice(availablePlacements.length, 1, 'top');\r\n      }\r\n      this.setSecondaryPlacementForTopBottom(hostElemClientRect, targetElemClientRect, 'top', availablePlacements);\r\n    }\r\n\r\n    // right: check if target width can be placed between host right and viewport end and also height of target is\r\n    // inside viewport\r\n    if (windowWidth - hostElemClientRect.right > targetElemClientRect.width) {\r\n      // check for right only\r\n      if (hostElemClientRectVerCenter > targetElemClientRect.height / 2 &&\r\n        windowHeight - hostElemClientRectVerCenter > targetElemClientRect.height / 2) {\r\n        availablePlacements.splice(availablePlacements.length, 1, 'right');\r\n      }\r\n      // check for right-top and right-bottom\r\n      this.setSecondaryPlacementForLeftRight(hostElemClientRect, targetElemClientRect, 'right', availablePlacements);\r\n    }\r\n\r\n    // bottom: check if there is enough space between host bottom and viewport end for target height\r\n    if (windowHeight - hostElemClientRect.bottom > targetElemClientRect.height) {\r\n      if (hostElemClientRectHorCenter > targetElemClientRect.width / 2 &&\r\n        windowWidth - hostElemClientRectHorCenter > targetElemClientRect.width / 2) {\r\n        availablePlacements.splice(availablePlacements.length, 1, 'bottom');\r\n      }\r\n      this.setSecondaryPlacementForTopBottom(hostElemClientRect, targetElemClientRect, 'bottom', availablePlacements);\r\n    }\r\n\r\n    return availablePlacements;\r\n  }\r\n\r\n  /**\r\n   * check if secondary placement for left and right are available i.e. left-top, left-bottom, right-top, right-bottom\r\n   * primaryplacement: left|right\r\n   * availablePlacementArr: array in which available placemets to be set\r\n   */\r\n  private setSecondaryPlacementForLeftRight(\r\n    hostElemClientRect: ClientRect, targetElemClientRect: ClientRect, primaryPlacement: string,\r\n    availablePlacementArr: Array<string>) {\r\n    const html = document.documentElement;\r\n    // check for left-bottom\r\n    if (targetElemClientRect.height <= hostElemClientRect.bottom) {\r\n      availablePlacementArr.splice(availablePlacementArr.length, 1, primaryPlacement + '-bottom');\r\n    }\r\n    if ((window.innerHeight || html.clientHeight) - hostElemClientRect.top >= targetElemClientRect.height) {\r\n      availablePlacementArr.splice(availablePlacementArr.length, 1, primaryPlacement + '-top');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * check if secondary placement for top and bottom are available i.e. top-left, top-right, bottom-left, bottom-right\r\n   * primaryplacement: top|bottom\r\n   * availablePlacementArr: array in which available placemets to be set\r\n   */\r\n  private setSecondaryPlacementForTopBottom(\r\n    hostElemClientRect: ClientRect, targetElemClientRect: ClientRect, primaryPlacement: string,\r\n    availablePlacementArr: Array<string>) {\r\n    const html = document.documentElement;\r\n    // check for left-bottom\r\n    if ((window.innerWidth || html.clientWidth) - hostElemClientRect.left >= targetElemClientRect.width) {\r\n      availablePlacementArr.splice(availablePlacementArr.length, 1, primaryPlacement + '-left');\r\n    }\r\n    if (targetElemClientRect.width <= hostElemClientRect.right) {\r\n      availablePlacementArr.splice(availablePlacementArr.length, 1, primaryPlacement + '-right');\r\n    }\r\n  }\r\n}\r\n\r\nconst positionService = new Positioning();\r\n\r\n/*\r\n * Accept the placement array and applies the appropriate placement dependent on the viewport.\r\n * Returns the applied placement.\r\n * In case of auto placement, placements are selected in order\r\n *   'top', 'bottom', 'left', 'right',\r\n *   'top-left', 'top-right',\r\n *   'bottom-left', 'bottom-right',\r\n *   'left-top', 'left-bottom',\r\n *   'right-top', 'right-bottom'.\r\n * */\r\nexport function positionElements(\r\n  hostElement: HTMLElement, targetElement: HTMLElement, placement: string | Placement | PlacementArray,\r\n  appendToBody?: boolean,referElement?:HTMLElement): Placement {\r\n  const placementVals: Array<Placement> = Array.isArray(placement) ? placement : [placement as Placement];\r\n\r\n  // replace auto placement with other placements\r\n  let hasAuto = placementVals.findIndex(val => val === 'auto');\r\n  if (hasAuto >= 0) {\r\n    ['top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right', 'left-top',\r\n      'left-bottom', 'right-top', 'right-bottom',\r\n    ].forEach(function (obj) {\r\n      if (placementVals.find(val => val.search('^' + obj) !== -1) == null) {\r\n        placementVals.splice(hasAuto++, 1, obj as Placement);\r\n      }\r\n    });\r\n  }\r\n\r\n  // coordinates where to position\r\n  let topVal = 0, leftVal = 0;\r\n  let appliedPlacement: Placement;\r\n  // get available placements\r\n  const availablePlacements = positionService.getAvailablePlacements(hostElement, targetElement,referElement);\r\n  // iterate over all the passed placements\r\n  for (const { item, index } of toItemIndexes(placementVals)) {\r\n    // check if passed placement is present in the available placement or otherwise apply the last placement in the\r\n    // passed placement list\r\n    if ((availablePlacements.find(val => val === item) != null) || (placementVals.length === index + 1)) {\r\n      appliedPlacement = <Placement>item;\r\n      const pos = positionService.positionElements(hostElement, targetElement, item, appendToBody,referElement);\r\n      topVal = pos.top;\r\n      leftVal = pos.left;\r\n      break;\r\n    }\r\n  }\r\n  targetElement.style.top = `${topVal}px`;\r\n  targetElement.style.left = `${leftVal}px`;\r\n  return appliedPlacement;\r\n}\r\n\r\n// function to get index and item of an array\r\nfunction toItemIndexes<T>(a: T[]) {\r\n  return a.map((item, index) => ({ item, index }));\r\n}\r\n\r\nexport type Placement = 'auto' | 'top' | 'bottom' | 'left' | 'right' | 'top-left' | 'top-right' | 'bottom-left' |\r\n  'bottom-right' | 'left-top' | 'left-bottom' | 'right-top' | 'right-bottom';\r\n\r\nexport type PlacementArray = Placement | Array<Placement>;\r\n","import {\r\n  forwardRef,\r\n  Inject,\r\n  Directive,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ElementRef,\r\n  ContentChild,\r\n  NgZone,\r\n  Renderer2,\r\n  OnInit,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { NgbDropdownConfig } from './dropdown-config';\r\nimport { positionElements, PlacementArray, Placement } from '../util/positioning';\r\n\r\n/**\r\n */\r\n@Directive({\r\n  selector: '[ngbDropdownMenu]',\r\n  host: { '[class.dropdown-menu]': 'true', '[class.show]': 'dropdown.isOpen()', '[attr.x-placement]': 'placement' },\r\n  exportAs: 'DropdownMenu'\r\n})\r\nexport class NgbDropdownMenu {\r\n  placement: Placement = 'bottom';\r\n  isOpen = false;\r\n  private _triggerEl;\r\n  constructor(\r\n    @Inject(forwardRef(() => NgbDropdown)) public dropdown, private _elementRef: ElementRef,\r\n    private _renderer: Renderer2) {\r\n\r\n  }\r\n  /*\r\n  * å ä¸ºä¸æé¢æ¿å¯è½å­å¨é®æ¡çé®é¢,è®¡ç®å®½åº¦\r\n  */\r\n  resetMenuElWidthOpen() {\r\n    var parentNode=this._elementRef.nativeElement.parentNode.parentNode;\r\n    var parentNodeW=parentNode?parentNode.getBoundingClientRect().width:0;\r\n    var menuW=this._elementRef.nativeElement.getBoundingClientRect().width;\r\n    return Math.min(menuW,parentNodeW);\r\n  }\r\n  isEventFrom($event) { return this._elementRef.nativeElement.contains($event.target); }\r\n\r\n  position(triggerEl, placement) {\r\n    this.applyPlacement(positionElements(triggerEl, this._elementRef.nativeElement, placement));\r\n  }\r\n\r\n  applyPlacement(_placement: Placement) {\r\n    // remove the current placement classes\r\n    this._renderer.removeClass(this._elementRef.nativeElement.parentNode, 'dropup');\r\n    this._renderer.removeClass(this._elementRef.nativeElement.parentNode, 'dropdown');\r\n    this.placement = _placement;\r\n    /**\r\n     * apply the new placement\r\n     * in case of top use up-arrow or down-arrow otherwise\r\n     */\r\n    if (_placement.search('^top') !== -1) {\r\n      this._renderer.addClass(this._elementRef.nativeElement.parentNode, 'dropup');\r\n    } else {\r\n      this._renderer.addClass(this._elementRef.nativeElement.parentNode, 'dropdown');\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Marks an element to which dropdown menu will be anchored. This is a simple version\r\n * of the NgbDropdownToggle directive. It plays the same role as NgbDropdownToggle but\r\n * doesn't listen to click events to toggle dropdown menu thus enabling support for\r\n * events other than click.\r\n *\r\n * @since 1.1.0\r\n */\r\n@Directive({\r\n  selector: '[ngbDropdownAnchor]',\r\n  host: { 'class': 'dropdown-toggle', 'aria-haspopup': 'true', '[attr.aria-expanded]': 'dropdown.isOpen()' }\r\n})\r\nexport class NgbDropdownAnchor {\r\n  anchorEl;\r\n\r\n  constructor(@Inject(forwardRef(() => NgbDropdown)) public dropdown, private _elementRef: ElementRef) {\r\n    this.anchorEl = _elementRef.nativeElement;\r\n  }\r\n\r\n  isEventFrom($event) { return this._elementRef.nativeElement.contains($event.target); }\r\n}\r\n\r\n/**\r\n * Allows the dropdown to be toggled via click. This directive is optional: you can use NgbDropdownAnchor as an\r\n * alternative.\r\n */\r\n@Directive({\r\n  selector: '[ngbDropdownToggle]',\r\n  host: {\r\n    'class': 'dropdown-toggle',\r\n    'aria-haspopup': 'true',\r\n    '[attr.aria-expanded]': 'dropdown.isOpen()',\r\n    '(click)': 'toggleOpen()'\r\n  },\r\n  providers: [{ provide: NgbDropdownAnchor, useExisting: forwardRef(() => NgbDropdownToggle) }]\r\n})\r\nexport class NgbDropdownToggle extends NgbDropdownAnchor {\r\n  constructor(@Inject(forwardRef(() => NgbDropdown)) dropdown, elementRef: ElementRef) {\r\n    super(dropdown, elementRef);\r\n  }\r\n\r\n  toggleOpen() { this.dropdown.toggle(); }\r\n}\r\n\r\n/**\r\n * Transforms a node into a dropdown.\r\n */\r\n@Directive({\r\n  selector: '[ngbDropdown]',\r\n  exportAs: 'ngbDropdown',\r\n  host: {\r\n    '[class.show]': 'isOpen()',\r\n    '(keyup.esc)': 'closeFromOutsideEsc()',\r\n    '(document:click)': 'closeFromClick($event)'\r\n  }\r\n})\r\nexport class NgbDropdown implements OnInit, OnDestroy {\r\n  private _zoneSubscription: any;\r\n\r\n  @ContentChild(NgbDropdownMenu) private _menu: NgbDropdownMenu;\r\n\r\n  @ContentChild(NgbDropdownAnchor) private _anchor: NgbDropdownAnchor;\r\n\r\n  /**\r\n   * Indicates that dropdown should be closed when selecting one of dropdown items (click) or pressing ESC.\r\n   * When it is true (default) dropdowns are automatically closed on both outside and inside (menu) clicks.\r\n   * When it is false dropdowns are never automatically closed.\r\n   * When it is 'outside' dropdowns are automatically closed on outside clicks but not on menu clicks.\r\n   * When it is 'inside' dropdowns are automatically on menu clicks but not on outside clicks.\r\n   */\r\n  @Input() autoClose: boolean | 'outside' | 'inside';\r\n\r\n  /**\r\n   *  Defines whether or not the dropdown-menu is open initially.\r\n   */\r\n  @Input('open') _open = false;\r\n\r\n  /**\r\n   * Placement of a popover accepts:\r\n   *    \"top\", \"top-left\", \"top-right\", \"bottom\", \"bottom-left\", \"bottom-right\",\r\n   *    \"left\", \"left-top\", \"left-bottom\", \"right\", \"right-top\", \"right-bottom\"\r\n   * and array of above values.\r\n   */\r\n  @Input() placement: PlacementArray=['auto','bottom'];\r\n\r\n  /**\r\n   *  An event fired when the dropdown is opened or closed.\r\n   *  Event's payload equals whether dropdown is open.\r\n   */\r\n  @Output() openChange = new EventEmitter();\r\n\r\n  constructor(config: NgbDropdownConfig, ngZone: NgZone) {\r\n    this.placement = config.placement;\r\n    this.autoClose = config.autoClose;\r\n    this._zoneSubscription = ngZone.onStable.subscribe(() => { this._positionMenu(); });\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this._menu) {\r\n      this._menu.applyPlacement(Array.isArray(this.placement) ? (this.placement[0]) : this.placement as Placement);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Checks if the dropdown menu is open or not.\r\n   */\r\n  isOpen(): boolean { return this._open; }\r\n\r\n  /**\r\n   * Opens the dropdown menu of a given navbar or tabbed navigation.\r\n   */\r\n  open(): void {\r\n    if (!this._open) {\r\n      this._open = true;\r\n      this._positionMenu();\r\n      this.openChange.emit(true);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Closes the dropdown menu of a given navbar or tabbed navigation.\r\n   */\r\n  close(): void {\r\n    if (this._open) {\r\n      this._open = false;\r\n      this.openChange.emit(false);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles the dropdown menu of a given navbar or tabbed navigation.\r\n   */\r\n  toggle(): void {\r\n    if (this.isOpen()) {\r\n      this.close();\r\n    } else {\r\n      this.open();\r\n    }\r\n  }\r\n\r\n  closeFromClick($event) {\r\n    if (this.autoClose && $event.button !== 2 && !this._isEventFromToggle($event)) {\r\n      if (this.autoClose === true) {\r\n        this.close();\r\n      } else if (this.autoClose === 'inside' && this._isEventFromMenu($event)) {\r\n        this.close();\r\n      } else if (this.autoClose === 'outside' && !this._isEventFromMenu($event)) {\r\n        this.close();\r\n      }\r\n    }\r\n  }\r\n\r\n  closeFromOutsideEsc() {\r\n    if (this.autoClose) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() { this._zoneSubscription.unsubscribe(); }\r\n\r\n  private _isEventFromToggle($event) { return this._anchor.isEventFrom($event); }\r\n\r\n  private _isEventFromMenu($event) { return this._menu ? this._menu.isEventFrom($event) : false; }\r\n\r\n  private _positionMenu() {\r\n    if (this.isOpen() && this._menu) {\r\n      this._menu.position(this._anchor.anchorEl, this.placement);\r\n    }\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport {\r\n  NgbDropdown,\r\n  NgbDropdownAnchor,\r\n  NgbDropdownToggle,\r\n  NgbDropdownMenu\r\n} from './dropdown';\r\nimport { NgbDropdownConfig } from './dropdown-config';\r\n\r\nexport { NgbDropdown, NgbDropdownToggle, NgbDropdownMenu } from './dropdown';\r\nexport { NgbDropdownConfig } from './dropdown-config';\r\n\r\nconst NGB_DROPDOWN_DIRECTIVES = [\r\n  NgbDropdown,\r\n  NgbDropdownAnchor,\r\n  NgbDropdownToggle,\r\n  NgbDropdownMenu\r\n];\r\n\r\n@NgModule({\r\n  declarations: NGB_DROPDOWN_DIRECTIVES,\r\n  exports: NGB_DROPDOWN_DIRECTIVES\r\n})\r\nexport class NgbDropdownModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: NgbDropdownModule, providers: [NgbDropdownConfig] };\r\n  }\r\n}\r\n","export class Trigger {\r\n  constructor(public open: string, public close?: string) {\r\n    if (!close) {\r\n      this.close = open;\r\n    }\r\n  }\r\n\r\n  isManual() { return this.open === 'manual' || this.close === 'manual'; }\r\n}\r\n\r\nconst DEFAULT_ALIASES = {\r\n  'hover': ['mouseenter', 'mouseleave']\r\n};\r\n\r\nexport function parseTriggers(triggers: string, aliases = DEFAULT_ALIASES): Trigger[] {\r\n  const trimmedTriggers = (triggers || '').trim();\r\n\r\n  if (trimmedTriggers.length === 0) {\r\n    return [];\r\n  }\r\n\r\n  const parsedTriggers = trimmedTriggers.split(/\\s+/).map(trigger => trigger.split(':')).map((triggerPair) => {\r\n    let alias = aliases[triggerPair[0]] || triggerPair;\r\n    return new Trigger(alias[0], alias[1]);\r\n  });\r\n\r\n  const manualTriggers = parsedTriggers.filter(triggerPair => triggerPair.isManual());\r\n\r\n  if (manualTriggers.length > 1) {\r\n    throw 'Triggers parse error: only one manual trigger is allowed';\r\n  }\r\n\r\n  if (manualTriggers.length === 1 && parsedTriggers.length > 1) {\r\n    throw 'Triggers parse error: manual trigger can\\'t be mixed with other triggers';\r\n  }\r\n\r\n  return parsedTriggers;\r\n}\r\n\r\nconst noopFn = () => {};\r\n\r\nexport function listenToTriggers(renderer: any, nativeElement: any, triggers: string, openFn, closeFn, toggleFn) {\r\n  const parsedTriggers = parseTriggers(triggers);\r\n  const listeners = [];\r\n\r\n  if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\r\n    return noopFn;\r\n  }\r\n\r\n  parsedTriggers.forEach((trigger: Trigger) => {\r\n    if (trigger.open === trigger.close) {\r\n      listeners.push(renderer.listen(nativeElement, trigger.open, toggleFn));\r\n    } else {\r\n      listeners.push(\r\n          renderer.listen(nativeElement, trigger.open, openFn), renderer.listen(nativeElement, trigger.close, closeFn));\r\n    }\r\n  });\r\n\r\n  return () => { listeners.forEach(unsubscribeFn => unsubscribeFn()); };\r\n}\r\n","import {\r\n  Injector,\r\n  TemplateRef,\r\n  ViewRef,\r\n  ViewContainerRef,\r\n  Renderer2,\r\n  ComponentRef,\r\n  ComponentFactoryResolver\r\n} from '@angular/core';\r\n\r\nexport class ContentRef {\r\n  constructor(public nodes: any[], public viewRef?: ViewRef, public componentRef?: ComponentRef<any>) {}\r\n}\r\n\r\nexport class PopupService<T> {\r\n  private _windowRef: ComponentRef<T>;\r\n  private _contentRef: ContentRef;\r\n\r\n  constructor(\r\n      private _type: any, private _injector: Injector, private _viewContainerRef: ViewContainerRef,\r\n      private _renderer: Renderer2, private _componentFactoryResolver: ComponentFactoryResolver) {}\r\n\r\n  open(content?: string | TemplateRef<any>, context?: any): ComponentRef<T> {\r\n    if (!this._windowRef) {\r\n      this._contentRef = this._getContentRef(content, context);\r\n      this._windowRef = this._viewContainerRef.createComponent(\r\n          this._componentFactoryResolver.resolveComponentFactory<T>(this._type), 0, this._injector,\r\n          this._contentRef.nodes);\r\n    }\r\n\r\n    return this._windowRef;\r\n  }\r\n\r\n  close() {\r\n    if (this._windowRef) {\r\n      this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView));\r\n      this._windowRef = null;\r\n\r\n      if (this._contentRef.viewRef) {\r\n        this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef));\r\n        this._contentRef = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  private _getContentRef(content: string | TemplateRef<any>, context?: any): ContentRef {\r\n    if (!content) {\r\n      return new ContentRef([]);\r\n    } else if (content instanceof TemplateRef) {\r\n      const viewRef = this._viewContainerRef.createEmbeddedView(<TemplateRef<T>>content, context);\r\n      return new ContentRef([viewRef.rootNodes], viewRef);\r\n    } else {\r\n      return new ContentRef([[this._renderer.createText(`${content}`)]]);\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { PlacementArray } from '../util/positioning';\r\n\r\n/**\r\n * Configuration service for the NgbTooltip directive.\r\n * You can inject this service, typically in your root component, and customize the values of its properties in\r\n * order to provide default values for all the tooltips used in the application.\r\n */\r\n@Injectable()\r\nexport class NgbTooltipConfig {\r\n  placement: PlacementArray = 'top';\r\n  triggers = 'hover';\r\n  container = 'body';\r\n  disableTooltip = false;\r\n}\r\n","import {\r\n  Component,\r\n  Directive,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ChangeDetectionStrategy,\r\n  OnInit,\r\n  OnDestroy,\r\n  Injector,\r\n  Renderer2,\r\n  ComponentRef,\r\n  ElementRef,\r\n  TemplateRef,\r\n  ViewContainerRef,\r\n  ComponentFactoryResolver,\r\n  NgZone,\r\n  AfterViewInit,\r\n  HostBinding\r\n} from '@angular/core';\r\nimport { listenToTriggers } from '../util/triggers';\r\nimport { positionElements, Placement, PlacementArray } from '../util/positioning';\r\nimport { PopupService } from '../util/popup';\r\nimport { NgbTooltipConfig } from './tooltip-config';\r\n\r\nlet nextId = 0;\r\n\r\n@Component({\r\n  selector: 'ngb-tooltip-window',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    '[class]': '\"tooltip show bs-tooltip-\" + placement.split(\"-\")[0]+\" bs-tooltip-\" + placement',\r\n    'role': 'tooltip',\r\n    '[id]': 'id'\r\n  },\r\n  template: `<div class=\"arrow\"></div><div class=\"tooltip-inner\"><ng-content></ng-content></div>`,\r\n  styles: [`\r\n    :host.bs-tooltip-top .arrow, :host.bs-tooltip-bottom .arrow {\r\n      left: calc(50% - 0.4rem);\r\n    }\r\n\r\n    :host.bs-tooltip-top-left .arrow, :host.bs-tooltip-bottom-left .arrow {\r\n      left: 1em;\r\n    }\r\n\r\n    :host.bs-tooltip-top-right .arrow, :host.bs-tooltip-bottom-right .arrow {\r\n      left: auto;\r\n      right: 0.8rem;\r\n    }\r\n\r\n    :host.bs-tooltip-left .arrow, :host.bs-tooltip-right .arrow {\r\n      top: calc(50% - 0.4rem);\r\n    }\r\n\r\n    :host.bs-tooltip-left-top .arrow, :host.bs-tooltip-right-top .arrow {\r\n      top: 0.4rem;\r\n    }\r\n\r\n    :host.bs-tooltip-left-bottom .arrow, :host.bs-tooltip-right-bottom .arrow {\r\n      top: auto;\r\n      bottom: 0.4rem;\r\n    }\r\n  `]\r\n})\r\nexport class NgbTooltipWindow {\r\n  @Input() placement: Placement = 'top';\r\n  @Input() id: string;\r\n\r\n  constructor(private _element: ElementRef, private _renderer: Renderer2) { }\r\n\r\n  applyPlacement(_placement: Placement) {\r\n    // remove the current placement classes\r\n    this._renderer.removeClass(this._element.nativeElement, 'bs-tooltip-' + this.placement.toString().split('-')[0]);\r\n    this._renderer.removeClass(this._element.nativeElement, 'bs-tooltip-' + this.placement.toString());\r\n\r\n    // set the new placement classes\r\n    this.placement = _placement;\r\n\r\n    // apply the new placement\r\n    this._renderer.addClass(this._element.nativeElement, 'bs-tooltip-' + this.placement.toString().split('-')[0]);\r\n    this._renderer.addClass(this._element.nativeElement, 'bs-tooltip-' + this.placement.toString());\r\n  }\r\n}\r\n\r\n/**\r\n * A lightweight, extensible directive for fancy tooltip creation.\r\n */\r\n@Directive({ selector: '[ngbTooltip]', exportAs: 'ngbTooltip' })\r\nexport class NgbTooltip implements OnInit, OnDestroy {\r\n  /**\r\n    * Placement of a popover accepts:\r\n    *    \"top\", \"top-left\", \"top-right\", \"bottom\", \"bottom-left\", \"bottom-right\",\r\n    *    \"left\", \"left-top\", \"left-bottom\", \"right\", \"right-top\", \"right-bottom\"\r\n    * and array of above values.\r\n    */\r\n  @Input() placement: PlacementArray;\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of event names.\r\n   */\r\n  @Input() triggers: string;\r\n  /**\r\n   * A selector specifying the element the tooltip should be appended to.\r\n   * Currently only supports \"body\".\r\n   */\r\n  @Input() container='body';\r\n  /**\r\n   * A flag indicating if a given tooltip is disabled and should not be displayed.\r\n   *\r\n   * @since 1.1.0\r\n   */\r\n  @Input() disableTooltip: boolean;\r\n  /**\r\n   * Emits an event when the tooltip is shown\r\n   */\r\n  @Output() shown = new EventEmitter();\r\n  /**\r\n   * Emits an event when the tooltip is hidden\r\n   */\r\n  @Output() hidden = new EventEmitter();\r\n  @Input() referElement:HTMLElement;\r\n\r\n  private _ngbTooltip: string | TemplateRef<any>;\r\n  private _ngbTooltipWindowId = `ngb-tooltip-${nextId++}`;\r\n  private _popupService: PopupService<NgbTooltipWindow>;\r\n  private _windowRef: ComponentRef<NgbTooltipWindow>;\r\n  private _unregisterListenersFn;\r\n  private _zoneSubscription: any;\r\n\r\n  constructor(\r\n    private _elementRef: ElementRef, private _renderer: Renderer2, injector: Injector,\r\n    componentFactoryResolver: ComponentFactoryResolver, viewContainerRef: ViewContainerRef, config: NgbTooltipConfig,\r\n    ngZone: NgZone) {\r\n    this.placement = config.placement;\r\n    this.triggers = config.triggers;\r\n    this.container = config.container||'body';\r\n    this.disableTooltip = config.disableTooltip;\r\n    this._popupService = new PopupService<NgbTooltipWindow>(\r\n      NgbTooltipWindow, injector, viewContainerRef, _renderer, componentFactoryResolver);\r\n  \r\n      \r\n    this._zoneSubscription = ngZone.onStable.subscribe(() => {\r\n      if (this._windowRef) {\r\n        this._windowRef.instance.applyPlacement(\r\n          positionElements(\r\n            this._elementRef.nativeElement, this._windowRef.location.nativeElement, this.placement,\r\n            this.container === 'body',this.referElement));\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Content to be displayed as tooltip. If falsy, the tooltip won't open.\r\n   */\r\n  @Input()\r\n  set ngbTooltip(value: string | TemplateRef<any>) {\r\n    this._ngbTooltip = value;\r\n    if (!value && this._windowRef) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  get ngbTooltip() { return this._ngbTooltip; }\r\n\r\n  /**\r\n   * Opens an elementâs tooltip. This is considered a âmanualâ triggering of the tooltip.\r\n   * The context is an optional value to be injected into the tooltip template when it is created.\r\n   */\r\n  open(context?: any) {\r\n    if (!this._windowRef && this._ngbTooltip && !this.disableTooltip) {\r\n      this._windowRef = this._popupService.open(this._ngbTooltip, context);\r\n      this._windowRef.instance.id = this._ngbTooltipWindowId;\r\n\r\n      this._renderer.setAttribute(this._elementRef.nativeElement, 'aria-describedby', this._ngbTooltipWindowId);\r\n\r\n      if (this.container === 'body') {\r\n        window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement);\r\n      }\r\n\r\n      this._windowRef.instance.placement = Array.isArray(this.placement) ? this.placement[0] : this.placement;\r\n\r\n      // apply styling to set basic css-classes on target element, before going for positioning\r\n      this._windowRef.changeDetectorRef.detectChanges();\r\n      this._windowRef.changeDetectorRef.markForCheck();\r\n\r\n      // position tooltip along the element\r\n      this._windowRef.instance.applyPlacement(\r\n        positionElements(\r\n          this._elementRef.nativeElement, this._windowRef.location.nativeElement, this.placement,\r\n          this.container === 'body',this.referElement));\r\n\r\n      this.shown.emit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Closes an elementâs tooltip. This is considered a âmanualâ triggering of the tooltip.\r\n   */\r\n  close(): void {\r\n    if (this._windowRef != null) {\r\n      this._renderer.removeAttribute(this._elementRef.nativeElement, 'aria-describedby');\r\n      this._popupService.close();\r\n      this._windowRef = null;\r\n      this.hidden.emit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles an elementâs tooltip. This is considered a âmanualâ triggering of the tooltip.\r\n   */\r\n  toggle(): void {\r\n    if (this._windowRef) {\r\n      this.close();\r\n    } else {\r\n      this.open();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns whether or not the tooltip is currently being shown\r\n   */\r\n  isOpen(): boolean { return this._windowRef != null; }\r\n\r\n  ngOnInit() {\r\n    this._unregisterListenersFn = listenToTriggers(\r\n      this._renderer, this._elementRef.nativeElement, this.triggers, this.open.bind(this), this.close.bind(this),\r\n      this.toggle.bind(this));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.close();\r\n    // This check is needed as it might happen that ngOnDestroy is called before ngOnInit\r\n    // under certain conditions, see: https://github.com/ng-bootstrap/ng-bootstrap/issues/2199\r\n    if (this._unregisterListenersFn) {\r\n      this._unregisterListenersFn();\r\n    }\r\n    this._zoneSubscription.unsubscribe();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\n\r\nimport { NgbTooltip, NgbTooltipWindow } from './tooltip';\r\nimport { NgbTooltipConfig } from './tooltip-config';\r\n\r\nexport { NgbTooltipConfig } from './tooltip-config';\r\nexport { NgbTooltip } from './tooltip';\r\nexport { Placement } from '../util/positioning';\r\n\r\n@NgModule({\r\n  declarations: [NgbTooltip, NgbTooltipWindow],\r\n  exports: [NgbTooltip],\r\n  entryComponents: [NgbTooltipWindow]\r\n})\r\nexport class NgbTooltipModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: NgbTooltipModule,\r\n      providers: [NgbTooltipConfig]\r\n    };\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgbDropdownModule } from './dropdown/dropdown.module';\r\nimport { NgbTooltipModule } from './tooltip/tooltip.module';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\nimport { FarrisTabsComponent } from './tabs/tabs.component';\r\nimport { TabConfig, TabService } from './tabs.config';\r\nimport { FarrisTabComponent } from './tab/tab.component';\r\nimport { TabTranscludeDirective } from './tab/tab.transclude.directive';\r\nimport { TabHeadDirective } from './tab/tab.headtemplate.directive';\r\nimport { TabHostDirective } from './tab/tabhost.directive';\r\nimport { FarrisTabsExtendDirective } from './tab/extend.directive';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        LocaleModule,\r\n        FormsModule,\r\n        NgbDropdownModule.forRoot(),\r\n        NgbTooltipModule.forRoot()\r\n    ],\r\n    declarations: [FarrisTabsComponent, FarrisTabComponent,\r\n        TabTranscludeDirective, TabHeadDirective, FarrisTabsExtendDirective, TabHostDirective],\r\n    exports: [\r\n        FarrisTabsComponent,\r\n        FarrisTabComponent,\r\n        TabTranscludeDirective,\r\n        TabHeadDirective,\r\n        TabHostDirective,\r\n        FarrisTabsExtendDirective,\r\n        NgbDropdownModule,\r\n        NgbTooltipModule\r\n    ],\r\n    providers: [TabService]\r\n})\r\nexport class FarrisTabsModule {\r\n    static forRoot(config?: TabConfig): ModuleWithProviders {\r\n        return {\r\n            ngModule: FarrisTabsModule,\r\n            providers: [{ provide: TabConfig, useValue: config }]\r\n        };\r\n    }\r\n}\r\n"]}