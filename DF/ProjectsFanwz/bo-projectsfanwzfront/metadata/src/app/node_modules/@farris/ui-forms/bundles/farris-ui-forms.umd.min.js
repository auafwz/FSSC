!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@farris/ui-common"),require("@angular/forms"),require("@farris/ui-messager"),require("@angular/platform-browser"),require("@angular/core"),require("@farris/ui-locale")):"function"==typeof define&&define.amd?define("@farris/ui-forms",["exports","@angular/common","@farris/ui-common","@angular/forms","@farris/ui-messager","@angular/platform-browser","@angular/core","@farris/ui-locale"],e):e((t.farris=t.farris||{},t.farris["ui-forms"]={}),t.ng.common,t.uiCommon,t.ng.forms,t.uiMessager,t.ng.platformBrowser,t.ng.core,t.uiLocale)}(this,function(t,e,n,i,o,r,s,a){"use strict";var l=(p.prototype.ngOnInit=function(){this.name=this.idSer.generate().replace(/-/g,"_")},p.prototype.changeModel=function(t){this.model=t,this.modelChange.emit(this.model),this.controlChange(t)},p.prototype.writeValue=function(t){this.model=t,this.changeModel(this.model)},p.prototype.registerOnChange=function(t){this.controlChange=t},p.prototype.registerOnTouched=function(t){this.controlTouch=t},p.decorators=[{type:s.Component,args:[{selector:"farris-radio-group",template:'\n    <div class="farris-radio-group btn-group"\n    [class.farris-input-wrap]="type!==\'button\'"\n    [class.btn-group-toggle]="type===\'button\'"\n    [class.farris-checkradio-hor]="horizontal">\n      <ng-content></ng-content>\n    </div>\n  ',providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return p}),multi:!0}],styles:["\n    "]}]}],p.ctorParameters=function(){return[{type:n.IdService}]},p.propDecorators={type:[{type:s.Input}],model:[{type:s.Input}],name:[{type:s.Input}],horizontal:[{type:s.Input}],modelChange:[{type:s.Output}]},p);function p(t){this.idSer=t,this.modelChange=new s.EventEmitter,this.subscriber=[],this.controlChange=function(){},this.controlTouch=function(){}}var u=(Object.defineProperty(h.prototype,"model",{get:function(){return this.hasParent(this.el.nativeElement)?this.radioGroup.model:this.nyModel},set:function(t){this.nyModel=t},enumerable:!0,configurable:!0}),h.prototype.ngOnInit=function(){this.name=this.radioGroup.name},h.prototype.changeModelHandler=function(){if(this.hasParent(this.el.nativeElement))return this.radioGroup.changeModel(this.label);this.model=this.label,this.modelChange.emit(this.model),this.controlChange(this.label)},h.prototype.hasParent=function(t){return t.parentElement.classList.contains("farris-radio-group")},h.prototype.writeValue=function(t){this.model=t},h.prototype.registerOnChange=function(t){this.controlChange=t},h.prototype.registerOnTouched=function(t){this.controlTouch=t},h.decorators=[{type:s.Component,args:[{selector:"farris-radio",template:'<label class="custom-control custom-radio">\r\n    <input class="custom-control-input" [name]="name" [value]="label" \r\n    [ngModel]="model" (ngModelChange)="changeModelHandler()" type="radio" [disabled]="disabled">\r\n    <span class="custom-control-label">\r\n      <ng-content>\r\n      </ng-content>\r\n    </span>\r\n</label>',providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return h}),multi:!0}],styles:[".btn-group .btn{margin-left:-1px}"]}]}],h.ctorParameters=function(){return[{type:l,decorators:[{type:s.Optional}]},{type:s.ElementRef}]},h.propDecorators={model:[{type:s.Input}],id:[{type:s.Input}],label:[{type:s.Input}],disabled:[{type:s.Input}],modelChange:[{type:s.Output}],blockClass:[{type:s.HostBinding,args:["class.d-block"]}]},h);function h(t,e){this.radioGroup=t,this.el=e,this.label="",this.name="",this.modelChange=new s.EventEmitter,this.blockClass=!0,this.controlChange=function(){},this.controlTouch=function(){}}var c=(Object.defineProperty(d.prototype,"model",{get:function(){return this.hasParent(this.el.nativeElement)?this.radioGroup.model:this.nyModel},set:function(t){this.nyModel=t},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"farrisRadioButtonClass",{get:function(){return!0},enumerable:!0,configurable:!0}),d.prototype.ngOnInit=function(){this.name=this.hasParent(this.el.nativeElement)?this.radioGroup.name:""},d.prototype.isGroupModel=function(){return this.label===this.radioGroup.model},d.prototype.changeModelHandler=function(){if(this.hasParent(this.el.nativeElement))return this.radioGroup.changeModel(this.label);this.model=this.label,this.modelChange.emit(this.model),this.controlChange(this.label)},d.prototype.hasParent=function(t){return t.parentElement.classList.contains("farris-input-wrap")||t.parentElement.classList.contains("btn-group")},d.prototype.writeValue=function(t){this.model=t},d.prototype.registerOnChange=function(t){this.controlChange=t},d.prototype.registerOnTouched=function(t){this.controlTouch=t},d.decorators=[{type:s.Component,args:[{selector:"farris-radio-button",template:'\n    <label [class]="\'btn btn-\'+type" [class.active]="isGroupModel()" [class.disabled]="disabled">\n        <input class="custom-control-input" [name]="name" [value]="label"\n        [ngModel]="model" (ngModelChange)="changeModelHandler()" type="radio" [disabled]="disabled">\n          <ng-content>\n          </ng-content>\n    </label>\n  ',providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return d}),multi:!0}],encapsulation:s.ViewEncapsulation.None,styles:["\n        .farris-radio-button>.btn{\n            margin-left:-1px\n          }\n          .farris-radio-button>.btn.active, .farris-radio-button>.btn:hover{\n            position: relative;\n          }\n      "]}]}],d.ctorParameters=function(){return[{type:l,decorators:[{type:s.Optional}]},{type:s.ElementRef}]},d.propDecorators={type:[{type:s.Input}],model:[{type:s.Input}],id:[{type:s.Input}],label:[{type:s.Input}],disabled:[{type:s.Input}],modelChange:[{type:s.Output}],farrisRadioButtonClass:[{type:s.HostBinding,args:["class.farris-radio-button"]}]},d);function d(t,e){this.radioGroup=t,this.el=e,this.name="",this.type="secondary",this.label="",this.modelChange=new s.EventEmitter,this.controlChange=function(){},this.controlTouch=function(){}}var m=(g.prototype.ngOnInit=function(){this.name=this.idSer.generate().replace(/-/g,"_")},g.prototype.clickHandler=function(t){var e=this._getValue(t);this.value!=e&&(this.value=e,this.controlChange(this.value),this.controlTouch(this.value),this.changeValue.emit(this.value))},g.prototype._getText=function(t){return t?this.commonUtils&&this.commonUtils.getValue?this.commonUtils.getValue(this.textField,t):t[this.textField]:""},g.prototype._getValue=function(t){return t?this.commonUtils&&this.commonUtils.getValue?this.commonUtils.getValue(this.valueField,t):t[this.valueField]:""},g.prototype.writeValue=function(t){this.value=t},g.prototype.registerOnChange=function(t){this.controlChange=t},g.prototype.registerOnTouched=function(t){this.controlTouch=t},g.decorators=[{type:s.Component,args:[{selector:"farris-radiogroup",template:'<div class="farris-input-wrap" [class.farris-checkradio-hor]="horizontal">\r\n    <div class="custom-control custom-radio" *ngFor="let item of data; let i=index">\r\n        <input #input class="custom-control-input" [name]="name" id="{{\'radio_\'+name+i}}" type="radio"\r\n        [value]="_getValue(item)" (click)="clickHandler(item)" [checked]="_getValue(item) == value" \r\n        [disabled]="disabled" tabindex="{{tabIndex}}">\r\n        <label class="custom-control-label" for="{{\'radio_\'+name+i}}">{{_getText(item)}}</label>\r\n    </div>\r\n</div>\r\n\r\n\r\n',providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return g}),multi:!0}],exportAs:"FarrisRadioGroupComponent"}]}],g.ctorParameters=function(){return[{type:n.IdService},{type:s.Injector,decorators:[{type:s.Optional}]}]},g.propDecorators={tabIndex:[{type:s.Input,args:["tab-index"]}],data:[{type:s.Input}],type:[{type:s.Input}],name:[{type:s.Input}],horizontal:[{type:s.Input}],disabled:[{type:s.Input}],value:[{type:s.Input}],textField:[{type:s.Input}],valueField:[{type:s.Input}],changeValue:[{type:s.Output}]},g);function g(t,e){this.idSer=t,this.inject=e,this.data=[],this.textField="name",this.valueField="value",this.changeValue=new s.EventEmitter,this.controlChange=function(){},this.controlTouch=function(){},this.inject&&(this.commonUtils=this.inject.get(n.CommonUtils))}var f=(y.prototype.ngOnInit=function(){this.name=this.idSer.generate()},y.prototype.changeModel=function(e){var t=this.model.findIndex(function(t){return t===e});if(-1<t)return this.model.splice(t,1),this.modelChange.emit(this.model);this.model.push(e),this.controlChange(this.model.join()),this.modelChange.emit(this.model)},y.prototype.writeValue=function(t){this.model=t,this.changeModel(this.model)},y.prototype.registerOnChange=function(t){this.controlChange=t},y.prototype.registerOnTouched=function(t){this.controlTouch=t},y.decorators=[{type:s.Component,args:[{selector:"farris-checkbox-group",template:'\n    <div class="farris-input-wrap" [class.farris-checkradio-hor]="horizontal">\n      <ng-content></ng-content>\n    </div>\n  ',providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return y}),multi:!0}]}]}],y.ctorParameters=function(){return[{type:n.IdService}]},y.propDecorators={model:[{type:s.Input}],name:[{type:s.Input}],horizontal:[{type:s.Input}],modelChange:[{type:s.Output}]},y);function y(t){this.idSer=t,this.model=[],this.modelChange=new s.EventEmitter,this.controlChange=function(){},this.controlTouch=function(){}}var v=(Object.defineProperty(b.prototype,"name",{get:function(){return this.hasParent(this.el.nativeElement)?this.checkbox.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"model",{get:function(){var e=this;return this.hasParent(this.el.nativeElement)?this.checkbox.model.find(function(t){return t===e.label}):this.nyModel},set:function(t){this.nyModel=t},enumerable:!0,configurable:!0}),b.prototype.ngOnInit=function(){},b.prototype.changeModelHandler=function(){if(this.hasParent(this.el.nativeElement))return this.checkbox.changeModel(this.label);this.model=this.label,this.modelChange.emit(this.model),this.controlChange(this.label)},b.prototype.hasParent=function(t){return t.parentElement.classList.contains("farris-input-wrap")},b.prototype.writeValue=function(t){this.model=t},b.prototype.registerOnChange=function(t){this.controlChange=t},b.prototype.registerOnTouched=function(t){this.controlTouch=t},b.decorators=[{type:s.Component,args:[{selector:"farris-checkbox",template:'<label class="custom-control custom-checkbox">\r\n  <input class="custom-control-input" [name]="name" [value]="label" [ngModel]="model"\r\n    (ngModelChange)="changeModelHandler()" type="checkbox" [disabled]="disabled">\r\n  <span class="custom-control-label">\r\n    <ng-content>\r\n    </ng-content>\r\n  </span>\r\n</label>',providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return b}),multi:!0}],styles:["./checkbox.component.css"]}]}],b.ctorParameters=function(){return[{type:f},{type:s.ElementRef}]},b.propDecorators={model:[{type:s.Input}],label:[{type:s.Input}],disabled:[{type:s.Input}],modelChange:[{type:s.Output}]},b);function b(t,e){this.checkbox=t,this.el=e,this.modelChange=new s.EventEmitter,this.controlChange=function(){},this.controlTouch=function(){}}var C=(E.prototype.ngOnInit=function(){var e=this;this.name=this.idSer.generate().replace(/-/g,"_"),this.setCheckboxData.emit(this),this.loadData&&(this.loadDataSubscription=this.loadData().subscribe(function(t){return e.data=t.data}))},E.prototype.ngOnChanges=function(t){},E.prototype.ngOnDestroy=function(){this.loadDataSubscription&&this.loadDataSubscription.unsubscribe()},E.prototype._getText=function(t){return t?this.commonUtils&&this.commonUtils.getValue?this.commonUtils.getValue(this.textField,t):t[this.textField]:""},E.prototype._getValue=function(t){return t?this.commonUtils&&this.commonUtils.getValue?this.commonUtils.getValue(this.valueField,t):t[this.valueField]:""},E.prototype.clickHandler=function(t,e){var n=this.transformToArr(this.value)||[],i=String(this._getValue(t));n&&n.length&&n.some(function(t){return t==i})?n=n.filter(function(t){return t!==i}):n.push(i),this.value=this.transformToStr(n),this.controlChange(this.value),this.controlTouch(this.value),this.changeValue.emit(this.value)},E.prototype.checked=function(t){var e=String(this._getValue(t));return this.transformToArr(this.value).some(function(t){return t==e})},E.prototype.transformToArr=function(t){return t?this.isStringValue?t.split(this.separator):t:[]},E.prototype.transformToStr=function(t){var e=this,n=this.data.map(function(t){return e._getValue(t)}),i=[];return n.forEach(function(e){t.some(function(t){return t==e})&&i.push(e)}),this.isStringValue?i.join(this.separator):i},E.prototype.writeValue=function(t){this.value=t},E.prototype.registerOnChange=function(t){this.controlChange=t},E.prototype.registerOnTouched=function(t){this.controlTouch=t},E.decorators=[{type:s.Component,args:[{selector:"farris-checkboxgroup",template:'<div class="farris-input-wrap" [class.farris-checkradio-hor]="horizontal">\r\n    <div\r\n        class="custom-control custom-checkbox"\r\n        *ngFor="let item of data; let i = index"\r\n    >\r\n        <input\r\n            #input\r\n            class="custom-control-input"\r\n            [name]="name"\r\n            id="{{ \'checkbox_\' + name + i }}"\r\n            type="checkbox"\r\n            [value]="_getValue(item)"\r\n            (click)="clickHandler(item, i)"\r\n            [checked]="checked(item)"\r\n            [disabled]="disable"\r\n            tabindex="{{ tabIndex }}"\r\n        />\r\n        <label\r\n            class="custom-control-label"\r\n            for="{{ \'checkbox_\' + name + i }}"\r\n            title="{{_getText(item)}}"\r\n            >{{ _getText(item) }}</label\r\n        >\r\n    </div>\r\n</div>\r\n',providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:s.forwardRef(function(){return E}),multi:!0}],exportAs:"FarrisCheckboxGroupComponent"}]}],E.ctorParameters=function(){return[{type:n.IdService},{type:s.Injector,decorators:[{type:s.Optional}]}]},E.propDecorators={tabIndex:[{type:s.Input,args:["tab-index"]}],data:[{type:s.Input}],type:[{type:s.Input}],name:[{type:s.Input}],horizontal:[{type:s.Input}],separator:[{type:s.Input}],disable:[{type:s.Input}],value:[{type:s.Input}],isStringValue:[{type:s.Input}],textField:[{type:s.Input}],valueField:[{type:s.Input}],loadData:[{type:s.Input}],changeValue:[{type:s.Output}],setCheckboxData:[{type:s.Output}]},E);function E(t,e){this.idSer=t,this.inject=e,this.data=[],this.separator=",",this.isStringValue=!0,this.textField="name",this.valueField="value",this.changeValue=new s.EventEmitter,this.setCheckboxData=new s.EventEmitter,this.controlChange=function(){},this.controlTouch=function(){},this.inject&&(this.commonUtils=this.inject.get(n.CommonUtils))}var x=(I.prototype.ngOnInit=function(){this.init()},I.prototype.ngOnChanges=function(t){t.enable&&!t.enable.isFirstChange()&&this.sizeToFit()},I.prototype.ngAfterViewInit=function(){this.minHeight=this.textarea.getBoundingClientRect().height},I.prototype.init=function(){var e=this;this.enable&&(this.document=this.textarea.ownerDocument,this.documentElement=this.document.documentElement,this.textarea&&this.textarea.value&&this.sizeToFit(),this.ngControl&&this.ngControl.valueChanges.subscribe(function(t){t!==e.previousValue&&e.sizeToFit()}))},I.prototype.onInput=function(){this.sizeToFit()},I.prototype.onValueChange=function(){this.sizeToFit()},I.prototype.overflowOffset=function(){for(var t=0,e=this.textarea;e!==document.body&&null!==e;)t+=e.offsetTop||0,e=e.offsetParent;var n=t-document.defaultView.pageYOffset;return{top:n,bottom:this.documentElement.clientHeight-(n+this.textarea.offsetHeight)}},I.prototype.sizeToFit=function(){if(this.enable){var t=this.textarea;if(!(this.isUserResized||this.textarea.value===this.previousValue||this.textarea.offsetWidth<=0&&this.textarea.offsetHeight<=0)){var e=getComputedStyle(t),n=Number(e.borderTopWidth.replace(/px/,"")),i=Number(e.borderBottomWidth.replace(/px/,"")),o="border-box"===e.boxSizing?n+i:0;this.maxHeight&&(t.style.maxHeight=this.maxHeight+"px");var r=t.parentElement;if(r instanceof HTMLElement){var s=r.style.height;r.style.height=getComputedStyle(r).height,t.style.height="auto";var a=t.scrollHeight+o;this.minHeight>a&&(a=this.minHeight),t.style.height=a+"px",r.style.height=s}this.previousValue=t.value}}},I.decorators=[{type:s.Directive,args:[{selector:"[auto-size]"}]}],I.ctorParameters=function(){return[{type:s.ElementRef},{type:i.NgControl},{type:s.Injector}]},I.propDecorators={enable:[{type:s.Input,args:["auto-size"]}],maxHeight:[{type:s.Input}],onInput:[{type:s.HostListener,args:["input"]}],onValueChange:[{type:s.HostListener,args:["change"]}]},I);function I(t,e,n){this.el=t,this.ngControl=e,this.injector=n,this.enable=!0,this.previousValue=null,this.isUserResized=!1,this.textarea=this.el.nativeElement}var T=(S.prototype.ngOnInit=function(){this.ngControl=this.injector.get(i.NgControl,null)},S.prototype.ngAfterViewInit=function(){this.initWordCount()},S.prototype.ngOnChanges=function(t){t.useWordCount&&!t.useWordCount.isFirstChange()&&(this.useWordCount?this.initWordCount():this.destroy())},S.prototype.ngOnDestroy=function(){this.destroy()},S.prototype.destroy=function(){this.onInput&&this.onInput(),this.wordCountElement&&this.wordCountElement.remove()},S.prototype.initWordCount=function(){this.useWordCount&&!this.onlyShowInDialog&&this.createWordCountElement()},S.prototype.createWordCountID=function(){var t=this.el.nativeElement.tagName;return this.ngControl?t+"_WORDCOUNT_"+this.ngControl.name:this.el.nativeElement.id?t+"_WORDCOUNT_"+this.el.nativeElement.id:""},S.prototype.createWordCountElement=function(){var t=this,e=this.el.nativeElement.maxLength;if(!e||e<0)console.info("未设置最大字符数，计数功能失效。");else{var n=this.render.createElement("span");n.className="textarea-wordcount";var i=this.createWordCountID();i&&(n.id=i),this.render.setStyle(n,"position","absolute"),this.render.setStyle(n,"bottom","10px"),this.render.setStyle(n,"right","20px"),this.render.setStyle(n,"cursor","pointer"),this.el.nativeElement.after(n),this.wordCountElement=n;var o=this.render.createElement("span");n.appendChild(o),(this.currentLengthElement=o).after(" / "+e),this.updateWordsCount(),this.onInput=this.render.listen(this.el.nativeElement,"input",function(){t.updateWordsCount()})}},S.prototype.updateWordsCount=function(){var t=this.el.nativeElement.maxLength,e="surplus"===this.countType?t-this.el.nativeElement.value.length:this.el.nativeElement.value.length,n="messager.prompt.tips."+this.countType;this.currentLengthElement.innerText=e,this.wordCountElement.title=this.localeSer.getValue(n).replace("{0}",e)},S.decorators=[{type:s.Directive,args:[{selector:"[word-count]",exportAs:"WordCountRef"}]}],S.ctorParameters=function(){return[{type:s.ElementRef},{type:s.Renderer2},{type:s.Injector}]},S.propDecorators={useWordCount:[{type:s.Input,args:["word-count"]}],countType:[{type:s.Input}],onlyShowInDialog:[{type:s.Input}]},S);function S(t,e,n){this.el=t,this.render=e,this.injector=n,this.useWordCount=!0,this.countType="surplus",this.onlyShowInDialog=!1,this.wordCountElement=null,this.currentLengthElement=null,this.onInput=null,this.eventManager=this.injector.get(r.EventManager),this.localeSer=this.injector.get(a.LocaleService)}var O=(w.prototype.ngOnInit=function(){this.ngControl=this.injector.get(i.NgControl,null)},w.prototype.ngOnChanges=function(t){t.useZoom&&!t.useZoom.isFirstChange()&&(this.useZoom?this.createZoomButton():this.destroy())},w.prototype.ngAfterViewInit=function(){this.useZoom&&this.createZoomButton()},w.prototype.ngOnDestroy=function(){this.destroy()},w.prototype.destroy=function(){this.onMouseEnter&&this.onMouseEnter(),this.onMouseLeave&&this.onMouseLeave(),this.onClick&&this.onClick(),this.altEnterHandler&&this.altEnterHandler(),this.zoomButtonElement&&this.zoomButtonElement.remove()},w.prototype.bindEventHandler=function(){this.altEnterHandler=this.eventManager.addEventListener(this.el.nativeElement,"keydown.alt.enter",function(t){var e=t.target,n=e.value+"\n";return e.value=n,t.preventDefault(),t.stopPropagation(),!1})},w.prototype.createZoombarID=function(){var t=this.el.nativeElement.tagName;return this.ngControl?t+"_ZOOMBAR_"+this.ngControl.name:this.el.nativeElement.id?t+"_ZOOMBAR_"+this.el.nativeElement.id:""},w.prototype.createZoomButton=function(){var t=this,e=this.render.createElement("span");e.className="f-icon modal_maximize textarea-zoom",e.title="点击后弹出进行编辑";var n=this.createZoombarID();n&&(e.id=n),this.render.setStyle(e,"position","absolute"),this.render.setStyle(e,"top","2px"),this.render.setStyle(e,"right","2px"),this.render.setStyle(e,"cursor","pointer"),this.el.nativeElement.after(e),this.zoomButtonElement=e,this.onMouseEnter=this.render.listen(e,"mouseenter",function(){t.render.setStyle(e,"fontSize","22px")}),this.onMouseLeave=this.render.listen(e,"mouseleave",function(){t.render.setStyle(e,"fontSize","1rem")}),this.onClick=this.render.listen(e,"click",function(){t.zoomTextarea()})},w.prototype.zoomTextarea=function(){var e=this,t={width:this.dialogWidth||500,height:this.dialogHeight||400,showFontSize:!0,saveSize:!0};if(window.localStorage){var n=this.messagerService.getKeyString(),i=localStorage.getItem(n);if(i){var o=JSON.parse(i);t.fontSize=o.fontSize||18,t.width=o.width||t.width,t.height=o.height||t.height}}var r=this.el.nativeElement.tagName,s=this.el.nativeElement.value;s=this.ngControl?this.ngControl.value:this.el.nativeElement.value,s=this.value||s,"FARRIS-TEXT"===r||this.el.nativeElement.readOnly||this.el.nativeElement.disabled?(t.readonly=!0,t.showOkButton=!1,this.messagerService.prompt2(this.title,s,t).subscribe()):(t.maxLength=this.el.nativeElement.maxLength,t.enableWordCount=!!this.wordCountRef&&this.wordCountRef.useWordCount,t.countType=this.wordCountRef?this.wordCountRef.countType:"length",this.messagerService.prompt2(this.title,s,t).subscribe(function(t){"boolean"==typeof t&&!t||(e.ngControl.control.setValue(t),e.wordCountRef&&e.wordCountRef.updateWordsCount())}))},w.decorators=[{type:s.Directive,args:[{selector:"[textarea-zoom]"}]}],w.ctorParameters=function(){return[{type:s.ElementRef},{type:s.Renderer2},{type:s.Injector},{type:T,decorators:[{type:s.Optional}]}]},w.propDecorators={useZoom:[{type:s.Input,args:["textarea-zoom"]}],dialogWidth:[{type:s.Input}],dialogHeight:[{type:s.Input}],fullscreen:[{type:s.Input}],title:[{type:s.Input}],value:[{type:s.Input}]},w);function w(t,e,n,i){this.el=t,this.render=e,this.injector=n,this.wordCountRef=i,this.useZoom=!0,this.dialogWidth=500,this.dialogHeight=400,this.fullscreen=!1,this.title="",this.value="",this.onMouseEnter=null,this.onMouseLeave=null,this.onClick=null,this.altEnterHandler=null,this.zoomButtonElement=null,this.messagerService=this.injector.get(o.MessagerService),this.eventManager=this.injector.get(r.EventManager)}var _=(Object.defineProperty(k.prototype,"enableAppend",{get:function(){return this._enableAppend},set:function(t){""===t||t?(this._enableAppend=!0,this.appendWrapElement||this.createStruct()):(this._enableAppend=!1,this.appendWrapElement&&this.resetStruct())},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"inputAppendText",{get:function(){return this._inputAppendText},set:function(t){t!=this._inputAppendText&&(this._inputAppendText=t,this.appendWrapElement&&this._enableAppend?(this.render.removeChild(this.appendWrapElement,this.appendTextElement),this.appendTextElement.innerHTML=t,this.render.appendChild(this.appendWrapElement,this.appendTextElement)):this.createStruct())},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"inputAppendDisabled",{get:function(){return this._disabled},set:function(t){t!=this._disabled&&(this._disabled=t,this.appendWrapElement&&(t&&this.render.addClass(this.appendWrapElement,this.disabledCls),t||this.render.removeClass(this.appendWrapElement,this.disabledCls)))},enumerable:!0,configurable:!0}),k.prototype.ngOnInit=function(){},k.prototype.ngAfterViewInit=function(){this.createStruct()},k.prototype.ngOnDestroy=function(){this.clickHandler&&(this.clickHandler(),this.clickHandler=null),this.appendWrapElement&&(this.appendWrapElement.remove(),this.appendWrapElement=null),this.elWrapElement&&(this.elWrapElement.remove(),this.elWrapElement=null)},k.prototype.resetStruct=function(){switch(this.clickHandler&&(this.clickHandler(),this.clickHandler=null),this.inputAppendControlType){case"StaticText":this.render.removeClass(this.el.nativeElement,"f-cmp-static-text-input-append");break;case"TextBox":case"MultiTextBox":if(this.elWrapElement){var t=this.render.parentNode(this.elWrapElement);this.render.appendChild(t,this.el.nativeElement),this.elWrapElement.remove(),this.elWrapElement=null}}this.appendWrapElement&&(this.appendWrapElement.remove(),this.appendWrapElement=null)},k.prototype.createStruct=function(){var e=this;if(this.inputAppendText&&this.enableAppend&&!this.appendWrapElement){var n=this.render.createElement("div");n.className="input-group-append input-append-wrapper",n.className+=" input-append-"+this.inputAppendType,this._disabled&&(n.className+=" "+this.disabledCls);var t=this.render.createElement("div");switch(t.className="input-group-text",t.innerHTML=this.inputAppendText,this.appendTextElement=t,this.appendWrapElement=n,this.render.appendChild(n,t),this.inputAppendControlType){case"StaticText":this.render.addClass(this.el.nativeElement,"f-cmp-static-text-input-append"+(this._disabled?" "+this.disabledCls:"")),this.render.appendChild(this.el.nativeElement,n);break;case"TextBox":case"MultiTextBox":var i=this.render.parentNode(this.el.nativeElement),o=this.render.createElement("div");o.className="f-cmp-text-input-append"+(this._disabled?" "+this.disabledCls:""),-1<this.el.nativeElement.outerHTML.indexOf("textarea")&&(o.className="f-cmp-textarea-input-append"+(this._disabled?" "+this.disabledCls:"")),this.elWrapElement=o,this.render.appendChild(o,this.el.nativeElement),this.render.appendChild(o,n),this.render.appendChild(i,o);break;default:var r=this.el.nativeElement.querySelector(".input-group");r?this.render.appendChild(r,n):this.ngZone&&this.ngZone.runOutsideAngular(function(){setTimeout(function(){var t=e.el.nativeElement.querySelector(".input-group");e.render.appendChild(t,n)})})}"button"==this.inputAppendType&&(this.clickHandler=this.render.listen(this.appendWrapElement,"click",function(t){e.inputAppendClickEvent.emit(t)}))}},k.decorators=[{type:s.Directive,args:[{selector:"[input-append]"}]}],k.ctorParameters=function(){return[{type:s.ViewContainerRef},{type:s.ElementRef},{type:s.Renderer2},{type:s.Injector}]},k.propDecorators={enableAppend:[{type:s.Input,args:["input-append"]}],inputAppendControlType:[{type:s.Input}],inputAppendType:[{type:s.Input}],inputAppendText:[{type:s.Input}],inputAppendDisabled:[{type:s.Input}],inputAppendClickEvent:[{type:s.Output}]},k);function k(t,e,n,i){this.viewRef=t,this.el=e,this.render=n,this.injector=i,this._enableAppend=!0,this.inputAppendControlType="InputGroup",this.inputAppendType="button",this._inputAppendText="",this._disabled=!1,this.inputAppendClickEvent=new s.EventEmitter,this.elWrapElement=null,this.appendWrapElement=null,this.appendTextElement=null,this.clickHandler=null,this.disabledCls="f-state-disabled",this.ngZone=null,this.ngZone=this.injector.get(s.NgZone)}var A=(M.prototype.ngOnInit=function(){},M.prototype.ngAfterViewInit=function(){var e=this;this.eventManager.addEventListener(this.el.nativeElement,"keydown",function(t){t.stopPropagation(),"Tab"===t.key&&e.onTabKeydownHandler(t.target)})},M.prototype.onTabKeydownHandler=function(e){var t=this.el.nativeElement.querySelectorAll("input,textarea"),n=(t=Array.from(t)).findIndex(function(t){return t===e})+1;n>=t.length&&(n=0);var i=t[n];i&&setTimeout(function(){i.focus()})},M.decorators=[{type:s.Directive,args:[{selector:"shortcut-tab"}]}],M.ctorParameters=function(){return[{type:s.ElementRef},{type:s.Injector},{type:r.EventManager}]},M);function M(t,e,n){this.el=t,this.injector=e,this.eventManager=n}var V=(W.decorators=[{type:s.NgModule,args:[{declarations:[u,l,v,f,c,m,C,x,O,A,T,_],imports:[e.CommonModule,i.FormsModule,o.MessagerModule.forRoot(),n.FarrisCommonModule.forRoot(),a.LocaleModule],exports:[u,l,v,f,c,m,C,x,O,A,T,_],providers:[n.IdService]}]}],W);function W(){}t.TextareaAutoSizeDirective=x,t.TextareaZoomDirective=O,t.ShortCutTabKeyDirective=A,t.TextareaWordcountDirective=T,t.InputAppendDirective=_,t.FarrisFormsModule=V,t.RadioComponent=u,t.RadioGroupComponent=l,t.FarrisRadioGroupComponent=m,t.RadioButtonComponent=c,t.CheckboxGroupComponent=f,t.CheckboxComponent=v,t.FarrisCheckboxGroupComponent=C,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-forms.umd.min.js.map