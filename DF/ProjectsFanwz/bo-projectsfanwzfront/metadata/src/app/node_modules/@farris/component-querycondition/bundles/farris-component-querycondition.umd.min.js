!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@farris/ui-modal"),require("lodash-es"),require("rxjs"),require("@farris/ui-notify"),require("@angular/common"),require("@farris/ui-dialog"),require("@farris/ui-layout"),require("@farris/ui-lookup"),require("@farris/ui-multi-select"),require("@farris/ui-field-group"),require("@farris/ui-input-group"),require("@farris/ui-dropdown"),require("@farris/ui-loading"),require("@farris/ui-locale"),require("@farris/ui-combo-list"),require("@farris/ui-number-spinner"),require("@farris/ui-forms"),require("@farris/ui-datepicker"),require("@farris/ui-combo-lookup"),require("@angular/forms"),require("@angular/core")):"function"==typeof define&&define.amd?define("@farris/component-querycondition",["exports","@farris/ui-modal","lodash-es","rxjs","@farris/ui-notify","@angular/common","@farris/ui-dialog","@farris/ui-layout","@farris/ui-lookup","@farris/ui-multi-select","@farris/ui-field-group","@farris/ui-input-group","@farris/ui-dropdown","@farris/ui-loading","@farris/ui-locale","@farris/ui-combo-list","@farris/ui-number-spinner","@farris/ui-forms","@farris/ui-datepicker","@farris/ui-combo-lookup","@angular/forms","@angular/core"],t):t((e.farris=e.farris||{},e.farris["component-querycondition"]={}),e.uiModal,e.lodashEs,e.rxjs,e.uiNotify,e.ng.common,e.uiDialog,e.uiLayout,e.uiLookup,e.uiMultiSelect,e.uiFieldGroup,e.uiInputGroup,e.uiDropdown,e.uiLoading,e.uiLocale,e.uiComboList,e.uiNumberSpinner,e.uiForms,e.uiDatepicker,e.uiComboLookup,e.ng.forms,e.ng.core)}(this,function(e,t,r,i,n,o,a,l,s,u,c,p,d,h,m,g,f,y,v,C,b,T){"use strict";var F=(V.decorators=[{type:T.Injectable}],V);function V(){this.eventbus=new T.EventEmitter}var I=(w.decorators=[{type:T.Injectable}],w.ctorParameters=function(){return[]},w);function w(){}var S={Text:0,SingleDate:1,SmartHelp:2,DropDownList:3,DateRange:4,NumberRange:5,SingleNumber:6,SingleYear:7,BoolCheck:8,DateTimeRange:9,SingleMonth:10,MonthRange:11,SingleDateTime:12,ComboLookUp:13,Radio:14,InputGroup:15};S[S.Text]="Text",S[S.SingleDate]="SingleDate",S[S.SmartHelp]="SmartHelp",S[S.DropDownList]="DropDownList",S[S.DateRange]="DateRange",S[S.NumberRange]="NumberRange",S[S.SingleNumber]="SingleNumber",S[S.SingleYear]="SingleYear",S[S.BoolCheck]="BoolCheck",S[S.DateTimeRange]="DateTimeRange",S[S.SingleMonth]="SingleMonth",S[S.MonthRange]="MonthRange",S[S.SingleDateTime]="SingleDateTime",S[S.ComboLookUp]="ComboLookUp",S[S.Radio]="Radio",S[S.InputGroup]="InputGroup";var x={IntType:0,StringType:1,BoolType:2};x[x.IntType]="IntType",x[x.StringType]="StringType",x[x.BoolType]="BoolType";var O=(D.prototype.getEnumType=function(){return x.IntType},D.prototype.getEnumValueName=function(){return this.name},D.prototype.getEnumValue=function(){return this.value},D);function D(){}var N=(k.prototype.getEnumType=function(){return x.StringType},k.prototype.getEnumValueName=function(){return this.name},k.prototype.getEnumValue=function(){return this.value},k);function k(){}var q=(M.prototype.getEnumType=function(){return x.BoolType},M.prototype.getEnumValueName=function(){return this.name},M.prototype.getEnumValue=function(){return this.value},M);function M(){}var E=(H.prototype.convertJObject=function(e){var t=e,n=t.getEnumType(),i=new Object;return i.Type=n,i.Content=t,i},H.prototype.initFromJobject=function(e){var t=e.Type,n=e.Content;return t==x.IntType?Object.assign(new O,n):t==x.BoolType?Object.assign(new q,n):Object.assign(new N,n)},H);function H(){}var j=(R.prototype.getControlType=function(){return S.DropDownList},R.prototype.isRequired=function(){return!!this.require},R);function R(){}var P=(L.prototype.convertToObject=function(e){var t=e,n=new Object;if(n.valueType=t.valueType,null!=t.enumValues){var i=n.enumValues=[],r=new E;t.enumValues.forEach(function(e){t.valueType==x.BoolType?i.push(r.convertJObject(Object.assign(new q,e))):t.valueType==x.IntType?i.push(r.convertJObject(Object.assign(new O,e))):i.push(r.convertJObject(Object.assign(new N,e)))})}return n.multiSelect=t.multiSelect,n.panelHeight=t.panelHeight,n.placeholder=t.placeholder,n.className=t.className,n.require=t.require,n},L.prototype.initFromObject=function(e){var n=new j;return null!=e.valueType&&(n.valueType=e.valueType),null!=e.enumValues&&(n.enumValues=new Array,e.enumValues.forEach(function(e){var t=new E;n.enumValues.push(t.initFromJobject(e))})),null!=e.multiSelect&&(n.multiSelect=e.multiSelect),null!=e.panelHeight&&(n.panelHeight=e.panelHeight),null!=e.placeholder&&(n.placeholder=e.placeholder),null!=e.className&&(n.className=e.className),null!=e.require&&(n.require=e.require),n},L);function L(){}var B=(G.prototype.getControlType=function(){return S.Text},G.prototype.isRequired=function(){return!!this.require},G);function G(){}var A=(J.prototype.getControlType=function(){return S.DateRange},J.prototype.isRequired=function(){return!!this.require},J);function J(){}var z=(W.prototype.isRequired=function(){return!!this.require},W.prototype.getControlType=function(){return S.SingleDate},W);function W(){}var _=($.prototype.getControlType=function(){return S.SmartHelp},$.prototype.isRequired=function(){return!!this.require},$);function $(){}var U=(Y.prototype.getControlType=function(){return S.NumberRange},Y.prototype.isRequired=function(){return!!this.require},Y);function Y(){}var Z=(Q.prototype.getControlType=function(){return S.SingleNumber},Q.prototype.isRequired=function(){return!!this.require},Q);function Q(){}var K=(X.prototype.getControlType=function(){return S.SingleYear},X.prototype.isRequired=function(){return!!this.require},X);function X(){}var ee=(te.prototype.getControlType=function(){return S.BoolCheck},te.prototype.isRequired=function(){return!!this.require},te);function te(){this.data=[],this.separator=",",this.isStringValue=!0}var ne=(ie.prototype.getControlType=function(){return S.DateTimeRange},ie.prototype.isRequired=function(){return!!this.require},ie);function ie(){}var re=(oe.prototype.getControlType=function(){return S.SingleMonth},oe.prototype.isRequired=function(){return!!this.require},oe);function oe(){}var ae=(le.prototype.getControlType=function(){return S.MonthRange},le.prototype.isRequired=function(){return!!this.require},le);function le(){}var se=(ue.prototype.getControlType=function(){return S.SingleDateTime},ue.prototype.isRequired=function(){return!!this.require},ue);function ue(){}var ce=(pe.prototype.getControlType=function(){return S.ComboLookUp},pe.prototype.isRequired=function(){return!!this.require},pe);function pe(){}var de=(he.prototype.getControlType=function(){return S.Radio},he.prototype.isRequired=function(){return!!this.require},he);function he(){}var me=(ge.prototype.convertToObject=function(e){var t=e,n=new Object;if(n.valueType=t.valueType,null!=t.enumValues){var i=n.enumValues=[],r=new E;t.enumValues.forEach(function(e){t.valueType==x.BoolType?i.push(r.convertJObject(Object.assign(new q,e))):t.valueType==x.IntType?i.push(r.convertJObject(Object.assign(new O,e))):i.push(r.convertJObject(Object.assign(new N,e)))})}return n.horizontal=t.horizontal,n.showLabel=t.showLabel,n.disabled=t.disabled,n.className=t.className,n.require=t.require,n},ge.prototype.initFromObject=function(e){var n=new de;return null!=e.valueType&&(n.valueType=e.valueType),null!=e.enumValues&&(n.enumValues=new Array,e.enumValues.forEach(function(e){var t=new E;n.enumValues.push(t.initFromJobject(e))})),null!=e.horizontal&&(n.horizontal=e.horizontal),null!=e.showLabel&&(n.showLabel=e.showLabel),null!=e.disabled&&(n.disabled=e.disabled),null!=e.className&&(n.className=e.className),null!=e.require&&(n.require=e.require),n},ge);function ge(){}var fe=(ye.prototype.getControlType=function(){return S.InputGroup},ye.prototype.isRequired=function(){return!!this.require},ye);function ye(){}var ve=function At(){},Ce=(be.prototype.convertJObject=function(e){var t=e,n=t.getControlType(),i=new Object;if((i.Type=n)==S.DropDownList){var r=new P;i.Content=r.convertToObject(t)}else n==S.Radio?(r=new me,i.Content=r.convertToObject(t)):i.Content=t;return i},be.prototype.initFromJobject=function(e){var t=e.Type,n=e.Content;return t==S.Text?Object.assign(new B,n):t==S.InputGroup?Object.assign(new fe,n):t==S.DateRange?Object.assign(new A,n):t==S.NumberRange?Object.assign(new U,n):t==S.SingleDate?Object.assign(new z,n):t==S.SingleNumber?Object.assign(new Z,n):t==S.DropDownList?(new P).initFromObject(n):t==S.SmartHelp?Object.assign(new _,n):t==S.ComboLookUp?Object.assign(new ce,n):t==S.SingleYear?Object.assign(new K,n):t==S.SingleMonth?Object.assign(new re,n):t==S.BoolCheck?Object.assign(new ee,n):t==S.Radio?(new me).initFromObject(n):t==S.DateTimeRange?Object.assign(new ne,n):t==S.MonthRange?Object.assign(new ae,n):t==S.SingleDateTime?Object.assign(new se,n):void 0},be);function be(){}var Te=(Fe.prototype.clearValue=function(){this.value=undefined},Fe.prototype.setOriginalValue=function(e){this.value=e},Fe.prototype.getOriginalValue=function(){return this.value},Fe.prototype.getControlType=function(){return S.Text},Fe.prototype.isEmpty=function(){return!this.value},Fe);function Fe(e){void 0===e&&(e={value:""}),this.value=e.value?e.value.trim():""}var Ve=(Ie.prototype.isEmpty=function(){return null==this.startValue&&null==this.endValue},Ie.prototype.clearValue=function(){this.startValue=undefined,this.endValue=undefined},Ie.prototype.setOriginalValue=function(e){throw new Error("Method not implemented.")},Ie.prototype.getOriginalValue=function(){return{begin:this.startValue,end:this.endValue}},Ie.prototype.getControlType=function(){return S.NumberRange},Ie);function Ie(e){void 0===e&&(e={startValue:null,endValue:null}),this.startValue=null==e.startValue?null:parseFloat(e.startValue),this.endValue=null==e.endValue?null:parseFloat(e.endValue)}var we=(Se.prototype.convertToObject=function(e){var t=e,n=new Object;return n.startValue=t.startValue,n.endValue=t.endValue,n},Se.prototype.initFromObject=function(e){var t=new Ve;return e.startValue&&(t.startValue=parseFloat(e.startValue)),e.endValue&&(t.endValue=parseFloat(e.endValue)),t},Se);function Se(){}var xe=(Oe.prototype.setOriginalValue=function(e){e.formatted?(this.startTime=e.formatted.split(e.delimiter)[0],this.endTime=e.formatted.split(e.delimiter)[1]):this.clearValue()},Oe.prototype.getOriginalValue=function(){return this.startTime&&this.endTime?this.startTime+"~"+this.endTime:""},Oe.prototype.getControlType=function(){return S.DateRange},Oe.prototype.clearValue=function(){this.startTime=undefined,this.endTime=undefined},Oe.prototype.isEmpty=function(){return!this.startTime||!this.endTime},Oe);function Oe(e){void 0===e&&(e={startTime:"",endTime:""}),this.startTime=e.startTime,this.endTime=e.endTime}var De=(Ne.prototype.getControlType=function(){return S.SmartHelp},Ne.prototype.setOriginalValue=function(e){throw new Error("Method not implemented.")},Ne.prototype.getOriginalValue=function(){var t=this,n=this.valueField.split("."),e=this.value.map(function(e){return t.getPropValue(e,r.cloneDeep(n))});return e&&e.length?e.join(","):""},Ne.prototype.clearValue=function(){this.value=[],this.valueField=undefined,this.textValue=undefined,this.isInputText=undefined},Ne.prototype.isEmpty=function(){return!this.value.length},Ne.prototype.getTextValue=function(e){var t=this,n=e.split("."),i=this.value.map(function(e){return t.getPropValue(e,r.cloneDeep(n))});return i&&i.length?i.join(","):""},Ne.prototype.getPropValue=function(e,t){if(1<t.length){var n=t.shift();return e[n]?this.getPropValue(e[n],t):null}return e[t[0]]},Ne);function Ne(e){void 0===e&&(e={value:[],valueField:undefined,textValue:undefined,isInputText:undefined}),e.textValue?(this.value=e.value,this.valueField=e.valueField,this.textValue=e.textValue,this.isInputText=e.isInputText):(this.value=e.value,this.valueField=e.valueField?e.valueField:"",this.textValue="help-text-value-null",this.isInputText=!1)}var ke=(qe.prototype.setOriginalValue=function(e){this.dateValue=e.formatted},qe.prototype.getOriginalValue=function(){return this.dateValue},qe.prototype.getControlType=function(){return S.SingleDate},qe.prototype.isEmpty=function(){return!this.dateValue},qe.prototype.clearValue=function(){this.dateValue=undefined},qe);function qe(e){void 0===e&&(e=""),this.dateValue=e}var Me=(Ee.prototype.isEmpty=function(){return null==this.numValue},Ee.prototype.clearValue=function(){this.numValue=undefined},Ee.prototype.setOriginalValue=function(e){throw new Error("Method not implemented.")},Ee.prototype.getOriginalValue=function(){return this.numValue},Ee.prototype.getControlType=function(){return S.SingleNumber},Ee);function Ee(e){void 0===e&&(e=null),this.numValue=null==e?null:parseFloat(e)}var He=(je.prototype.setOriginalValue=function(e){this.yearValue=e.formatted},je.prototype.getOriginalValue=function(){return this.yearValue},je.prototype.getControlType=function(){return S.SingleYear},je.prototype.clearValue=function(){this.yearValue=undefined},je.prototype.isEmpty=function(){return!this.yearValue},je);function je(e){void 0===e&&(e=""),this.yearValue=e}var Re=(Pe.prototype.clearValue=function(){this.value=[]},Pe.prototype.setOriginalValue=function(e){e.length?this.value=e.map(function(e){return"string"==typeof e||e}):this.value=e},Pe.prototype.getOriginalValue=function(){return this.value.length?this.value.map(function(e){return!0===e?"true":e}):this.value},Pe.prototype.getControlType=function(){return S.BoolCheck},Pe.prototype.isEmpty=function(){return 0==this.value.length},Pe);function Pe(e){void 0===e&&(e=[]),this.value=e}var Le=(Be.prototype.clearValue=function(){this.value=[],this.key=undefined},Be.prototype.setOriginalValue=function(e){},Be.prototype.getOriginalValue=function(){return this.key},Be.prototype.getControlType=function(){return S.DropDownList},Be.prototype.isEmpty=function(){return!this.key},Be);function Be(e){void 0===e&&(e={value:[],key:undefined}),this.value=[],e.value&&0<e.value.length?e.hasOwnProperty("key")?(this.value=e.value,this.key=e.key):(this.value=e.value.Content&&e.value.Content.value?[e.value.Content]:[],this.key=e.value.Content&&e.value.Content.value?e.value.Content.value:undefined):this.clearValue()}var Ge=(Ae.prototype.setOriginalValue=function(e){this.monthValue=e.formatted},Ae.prototype.getOriginalValue=function(){return this.monthValue},Ae.prototype.getControlType=function(){return S.SingleMonth},Ae.prototype.clearValue=function(){this.monthValue=undefined},Ae.prototype.isEmpty=function(){return!this.monthValue},Ae);function Ae(e){void 0===e&&(e=""),this.monthValue=e}var Je=(ze.prototype.setOriginalValue=function(e){e.formatted?(this.startTime=e.formatted.split(e.delimiter)[0],this.endTime=e.formatted.split(e.delimiter)[1]):this.clearValue()},ze.prototype.getOriginalValue=function(){return this.startTime&&this.endTime?this.startTime+"~"+this.endTime:""},ze.prototype.getControlType=function(){return S.MonthRange},ze.prototype.clearValue=function(){this.startTime=undefined,this.endTime=undefined},ze.prototype.isEmpty=function(){return!this.startTime||!this.endTime},ze);function ze(e){void 0===e&&(e={startTime:"",endTime:""}),this.startTime=e.startTime,this.endTime=e.endTime}var We=(_e.prototype.setOriginalValue=function(e){this.datetimeValue=e.formatted},_e.prototype.getOriginalValue=function(){return this.datetimeValue},_e.prototype.getControlType=function(){return S.SingleDateTime},_e.prototype.isEmpty=function(){return!this.datetimeValue},_e.prototype.clearValue=function(){this.datetimeValue=undefined},_e);function _e(e){void 0===e&&(e=""),this.datetimeValue=e}var $e=(Ue.prototype.clearValue=function(){this.value=[],this.valueField=undefined,this.textValue=undefined},Ue.prototype.setOriginalValue=function(e){throw new Error("Method not implemented.")},Ue.prototype.getOriginalValue=function(){var t=this,n=this.valueField.split("."),e=this.value.map(function(e){return t.getPropValue(e,r.cloneDeep(n))});return e&&e.length?e.join(","):""},Ue.prototype.getControlType=function(){return S.ComboLookUp},Ue.prototype.isEmpty=function(){return!this.valueField},Ue.prototype.getPropValue=function(e,t){if(1<t.length){var n=t.shift();return e[n]?this.getPropValue(e[n],t):null}return e[t[0]]},Ue.prototype.getTextValue=function(e){var t=this,n=e.split("."),i=this.value.map(function(e){return t.getPropValue(e,r.cloneDeep(n))});return i&&i.length?i.join(","):""},Ue);function Ue(e){void 0===e&&(e={value:[],valueField:undefined,textValue:undefined}),e.textValue?(this.valueField=e.valueField,this.value=e.value,this.textValue=e.textValue):(this.valueField=e.valueField?e.valueField:"",this.value=e.value&&e.value.data?[e.value.data]:[],this.textValue="help-text-value-null")}var Ye=(Ze.prototype.clearValue=function(){this.value=undefined},Ze.prototype.setOriginalValue=function(e){this.value=e},Ze.prototype.getOriginalValue=function(){return this.value},Ze.prototype.getControlType=function(){return S.Radio},Ze.prototype.isEmpty=function(){return!this.value},Ze);function Ze(e){void 0===e&&(e=undefined),this.value=e}var Qe=(Ke.prototype.getControlType=function(){return S.InputGroup},Ke.prototype.setOriginalValue=function(e){throw new Error("Method not implemented.")},Ke.prototype.getOriginalValue=function(){var t=this,n=this.textField.split("."),e=this.value.map(function(e){return t.getPropValue(e,r.cloneDeep(n))});return e&&e.length?e.join(","):""},Ke.prototype.clearValue=function(){this.value=[],this.textValue=undefined,this.textField=undefined,this.isInputText=undefined},Ke.prototype.isEmpty=function(){return!this.textValue},Ke.prototype.getTextValue=function(e){var t=this,n=e.split("."),i=this.value.map(function(e){return t.getPropValue(e,r.cloneDeep(n))});return i&&i.length?i.join(","):""},Ke.prototype.getPropValue=function(e,t){if(1<t.length){var n=t.shift();return e[n]?this.getPropValue(e[n],t):""}return e[t[0]]},Ke);function Ke(e){void 0===e&&(e={value:[],textValue:undefined,textField:undefined,isInputText:undefined}),this.value=e.value,this.textValue=e.textValue?e.textValue.trim():"",this.textField=e.textField,this.isInputText=e.isInputText}var Xe=(et.prototype.convertToObject=function(e){var t=e,n=t.getControlType(),i=new Object;if((i.Type=n)==S.NumberRange){var r=new we;i.Content=r.convertToObject(t)}else i.Content=t;return i},et.prototype.initFromObject=function(e){var t=e.Content;switch(e.Type){case S.Text:return new Te(e.Content);case S.NumberRange:return new Ve(e.Content);case S.DateRange:case S.DateTimeRange:return new xe(e.Content);case S.DropDownList:return new Le(e.Content);case S.SmartHelp:return new De(e.Content);case S.ComboLookUp:return new $e(e.Content);case S.SingleDate:return Object.assign(new ke,t);case S.SingleNumber:return Object.assign(new Me,t);case S.SingleYear:return Object.assign(new He,t);case S.BoolCheck:return Object.assign(new Re,t);case S.Radio:return Object.assign(new Ye,t);case S.SingleMonth:return Object.assign(new Ge,t);case S.MonthRange:return Object.assign(new Je,t);case S.SingleDateTime:return Object.assign(new We,t);case S.InputGroup:return Object.assign(new Qe,t)}},et);function et(){}var tt=function Jt(){},nt=(it.prototype.convertJObject=function(e){var t=e,n=new Object;n.ID=t.id,n.FieldCode=t.fieldCode,n.FieldName=t.fieldName,n.ValueType=t.valueType,n.placeHolder=t.placeHolder,n.beginPlaceHolder=t.hasOwnProperty("beginPlaceHolder")?t.beginPlaceHolder:"",n.endPlaceHolder=t.hasOwnProperty("endPlaceHolder")?t.endPlaceHolder:"";var i=new Xe;t.value&&(n.Value=i.convertToObject(t.value));var r=new Ce;return t.control&&(n.Control=r.convertJObject(t.control)),n},it.prototype.initFromJobject=function(e){var t=new tt;t.id=e.ID,t.fieldCode=e.FieldCode,t.fieldName=e.FieldName,t.valueType=e.ValueType,t.placeHolder=e.placeHolder,t.beginPlaceHolder=e.hasOwnProperty("beginPlaceHolder")?e.beginPlaceHolder:"",t.endPlaceHolder=e.hasOwnProperty("endPlaceHolder")?e.endPlaceHolder:"";var n=e.Value;if(n){var i=new Xe;t.value=i.initFromObject(n)}var r=e.Control;if(r){var o=new Ce;t.control=o.initFromJobject(r)}return t},it);function it(){}var rt={Value:0,SmartHelp:1,Enum:2,Express:3};rt[rt.Value]="Value",rt[rt.SmartHelp]="SmartHelp",rt[rt.Enum]="Enum",rt[rt.Express]="Express";var ot=(at.prototype.getControlConfigState=function(){return this.controlConfigState},at.prototype.updateControlConfigState=function(e){this.controlConfigState.next(e)},at.prototype.convertToSimpleQueryConditions=function(e){var t=this,n={};return e&&0==e.length?[]:e.map(function(e){return n.fieldCode=e.labelCode,n.control=t.getSimpleControl(e),n})},at.prototype.getSimpleControl=function(e){var t=e.control,n={};switch(this.controlTypeMap.get(t.controltype)){case"single-year":this.updateSimpleControl(n,["maxDate","minDate"],t);break;default:n={}}return n},at.prototype.updateSimpleControl=function(e,t,n,i){void 0===i&&(i=[]),0==i.length&&(i=t);for(var r=0;r<t.length;r++)i[r]||(i[r]=t[r]);for(var o=0;o<t.length;o++)n&&n.hasOwnProperty(t[o])&&(e[i[o]]=n[t[o]])},at.prototype.convertToQueryConditions=function(e){var r,o=this;return e.map(function(e){(r=new tt).id=e.id,r.fieldCode=e.labelCode,r.fieldName=e.name,r.valueType=rt.Value,r.placeHolder=e.placeHolder,r.beginPlaceHolder=e.hasOwnProperty("beginPlaceHolder")?e.beginPlaceHolder:"",r.endPlaceHolder=e.hasOwnProperty("endPlaceHolder")?e.endPlaceHolder:"";var t=o.getControlAndValue(e),n=t.control,i=t.value;return r.control=n,r.value=i,r})},at.prototype.getControlAndValue=function(e){var t,n,i=e.control,r=e.value;switch(i.controltype){case"text":(t=new B).className=i.className,t.placeholder=i.placeholder,t.require=i.require,n=new Te({value:r});break;case"input-group":(t=new fe).className=i.className,t.require=i.require,t.editable=i.editable,t.groupText=i.groupText,t.usageMode=i.usageMode,t.dialogOptions=this.setInputGroupDialog(e),t.click=i.click,n=new Qe(r);break;case"date":(t=new A).format=i.format,t.returnFormat=i.returnFormat,t.className=i.className,t.placeholder=i.placeholder,t.require=i.require,t.weekSelect=i.weekSelect,t.showWeekNumbers=i.showWeekNumbers,n=new xe(r);break;case"date-time":(t=new ne).format=i.format,t.returnFormat=i.returnFormat,t.className=i.className,t.placeholder=i.placeholder,t.require=i.require,t.enableCustomFormat=i.enableCustomFormat,n=new xe(r);break;case"month":(t=new ae).format=i.format,t.returnFormat=i.returnFormat,t.className=i.className,t.placeholder=i.placeholder,t.require=i.require,n=new Je(r);break;case"number":(t=new U).className=i.className,t.placeholder=this.emptyString(i.placeholder),t.require=i.require,t.precision=i.precision,t.textAlign=i.textAlign,t.bigNumber=i.isBigNumber,t.min=i.minValue,t.max=i.maxValue,n=new Ve(r);break;case"dropdown":(t=new j).valueType=i.valueType,t.enumValues=i.enumValues,t.multiSelect=i.multiSelect,t.className=i.className,t.placeholder=i.placeholder,t.panelHeight=i.panelHeight,t.require=i.require,n=new Le(r);break;case"help":(t=new _).uri=i.uri,t.textField=i.textField,t.valueField=i.valueField,t.displayType=i.displayType,t.idField=i.idField,t.mapFields=i.mapFields,t.preEventCmd=i.preEventCmd,t.postEventCmd=i.postEventCmd,t.context=i.context,t.className=i.className,t.enableFullTree=i.enableFullTree,t.loadTreeDataType=i.loadTreeDataType,t.singleSelect=i.singleSelect,t.expandLevel=i.expandLevel,t.enableCascade=i.enableCascade,t.placeholder=i.placeholder,t.require=i.require,t.nosearch=i.nosearch,t.displayFields=i.displayFields,t.displayTextSeparator=i.displayTextSeparator,t.editable=i.editable,t.clearFields=i.clearFields,t.clear=i.clear,t.dialogTitle=i.dialogTitle,t.panelHeight=i.panelHeight,t.panelWidth=i.panelWidth,i.hasOwnProperty("pageSize")&&(t.pageSize=i.pageSize),i.hasOwnProperty("pageList")&&(t.pageList=i.pageList),n=new De(r);break;case"combolist-help":(t=new ce).uri=i.uri,t.idField=i.idField,t.valueField=i.valueField,t.textField=i.textField,t.mapFields=i.mapFields,t.displayType=this.displayTypeTransform(i.displayType),t.singleSelect=i.singleSelect,t.preEventCmd=i.preEventCmd,t.postEventCmd=i.postEventCmd,t.enableFullTree=i.enableFullTree,t.loadTreeDataType=i.loadTreeDataType,t.expandLevel=i.expandLevel,t.className=i.className,t.placeholder=i.placeholder,t.panelWidth=i.panelWidth,t.panelHeight=i.panelHeight,t.require=i.require,n=new $e(r);break;case"single-date":(t=new z).format=i.format,t.returnFormat=i.returnFormat,t.className=i.className,t.placeholder=i.placeholder,t.require=i.require,n=new ke(r);break;case"single-date-time":(t=new se).format=i.format,t.returnFormat=i.returnFormat,t.className=i.className,t.placeholder=i.placeholder,t.require=i.require,t.enableCustomFormat=i.enableCustomFormat,n=new We(r);break;case"single-number":(t=new Z).className=i.className,t.placeholder=this.emptyString(i.placeholder),t.precision=i.precision,t.require=i.require,t.textAlign=i.textAlign,t.bigNumber=i.isBigNumber,t.min=i.minValue,t.max=i.maxValue,n=new Me(r);break;case"single-year":(t=new K).format=i.format,t.returnFormat=i.returnFormat,t.className=i.className,t.placeholder=i.placeholder,t.require=i.require,t.maxDate=i.maxDate,t.minDate=i.minDate,n=new He(r);break;case"single-month":(t=new re).format=i.format,t.returnFormat=i.returnFormat,t.className=i.className,t.placeholder=i.placeholder,t.require=i.require,n=new Ge(r);break;case"bool-check":(t=new ee).className=i.className,t.data=[{value:"true",name:e.name}],t.horizontal=i.horizontal,t.disable=i.disable,t.isStringValue=!1,t.require=i.require,n=new Re(r);break;case"radio":(t=new de).valueType=i.valueType,t.enumValues=i.enumValues,t.className=i.className,t.showLabel=i.showLabel,t.horizontal=i.horizontal,t.disabled=i.disabled,t.require=i.require,n=new Ye(r)}return{control:t,value:n}},at.prototype.getGuid=function(){return this.s4()+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+this.s4()+this.s4()},at.prototype.s4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},at.prototype.showInfo=function(e,t,n,i){this.notify.config.position="top-center","success"==t?this.notify.success({title:n,msg:e,timeout:i}):"info"==t?this.notify.info({title:n,msg:e,timeout:i}):"warning"==t?this.notify.warning({title:n,msg:e,timeout:i}):"error"==t&&this.notify.error({title:n,msg:e,timeout:i})},at.prototype.getConditionItemTitle=function(e){if(e.id&&""!==e.id)return e.fieldName},at.prototype.setValues=function(e,t,i){var r,o,a=this,l=e.queryConditions?e.queryConditions:[];return t.forEach(function(t){if((r=l.find(function(e){return e.fieldCode==t.labelCode}))&&r.control&&r.value){o=a.controlTypeMap.get(r.control.getControlType()),t.control={controltype:o};var e=a.getControlAndValue(t),n=(e.control,e.value);r.value=a.isNumCheck(r,n,t),r.readonly=i}}),e},at.prototype.updateControl=function(n,e){var i;0<(n=n||[]).length&&e.forEach(function(t){if((i=n.find(function(e){return e.fieldCode==t.labelCode}))&&i.control)for(var e in t.control)i.control[e]=t.control[e]})},at.prototype.isValid=function(e){return e.map(function(e){if(e.control.isRequired()&&e.value.isEmpty())return{type:"require",field:e.fieldName}}).filter(function(e){return null!=e})},at.prototype.emptyString=function(e){return null===e||e===undefined?"":e},at.prototype.displayTypeTransform=function(e){return"List"===e?"LOOKUPLIST":"LOOKUPTREELIST"},at.prototype.isNumCheck=function(e,t,n){var i,r;return"single-number"==n.control.controltype&&(i=null==e.control.min||e.control.min==undefined?-2147483648:e.control.min,r=null==e.control.max||e.control.max==undefined?2147483647:e.control.max,t.numValue=0<t.numValue-i?t.numValue:i,t.numValue=t.numValue-r<0?t.numValue:r),"number"==n.control.controltype&&(i=null==e.control.min||e.control.min==undefined?-2147483648:e.control.min,r=null==e.control.max||e.control.max==undefined?2147483647:e.control.max,t.startValue=0<t.startValue-i?t.startValue:i,t.startValue=t.startValue-r<0?t.startValue:r,t.endValue=0<t.endValue-i?t.endValue:i,t.endValue=t.endValue-r<0?t.endValue:r),t},at.prototype.setInputGroupDialog=function(e){var t=e.control,n=t.modalConfig;if(!e.id||"text"==t.usageMode)return undefined;var i=new ve;return i.modalId=e.id,n.mapFields&&(i.mapFields=JSON.parse(n.mapFields.replace(/'/g,'"'))),i.showHeader=!n.hasOwnProperty("showHeader")||n.showHeader,i.showCloseButton=!n.hasOwnProperty("showCloseButton")||n.showCloseButton,i.showMaxButton=!n.hasOwnProperty("showMaxButton")||n.showMaxButton,i.title=n.hasOwnProperty("title")?n.title:"",i.width=n.width,i.height=n.height,i},at.decorators=[{type:T.Injectable}],at.ctorParameters=function(){return[{type:n.NotifyService}]},at);function at(e){this.notify=e,this.controlConfigState=new i.BehaviorSubject([]),this.controlTypeMap=new Map([[S.Text,"text"],[S.BoolCheck,"bool-check"],[S.DateRange,"date"],[S.DateTimeRange,"date-time"],[S.NumberRange,"number"],[S.DropDownList,"dropdown"],[S.SmartHelp,"help"],[S.SingleDate,"single-date"],[S.SingleNumber,"single-number"],[S.SingleYear,"single-year"],[S.SingleMonth,"single-month"],[S.MonthRange,"month"],[S.SingleDateTime,"single-date-time"],[S.ComboLookUp,"combolist-help"],[S.Radio,"radio"],[S.InputGroup,"input-group"]])}var lt=(Object.defineProperty(st.prototype,"resetFieldConfigs",{get:function(){return this._resetFieldConfigs},set:function(e){e&&0<e.length&&this.solutionService.updateControlConfigState(e),this._resetFieldConfigs=e},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"selectedFieldConditions",{get:function(){return this._selectedFieldConditions},set:function(e){this._selectedFieldConditions=e},enumerable:!0,configurable:!0}),st.prototype.ngOnDestroy=function(){},st.prototype.ngOnInit=function(){this.currentLocale===this.localeIds.en&&(this.isControlInline=!1),this.selectedFieldConditions=this.selectedFieldConditions||new Array},st.prototype.ngAfterViewInit=function(){},st.prototype.ngAfterViewChecked=function(){},st.prototype.hasSetMultiClass=function(e){return!!(e.control.className&&-1<e.control.className.indexOf("farris-group-multi-label"))},st.prototype.getStyle=function(e){var t=e.control.className;return(t=t?t.replace("farris-group-multi-label",""):"")||"col-12 col-md-6 col-xl-3 col-el-2"},st.prototype.configDialogConfirm=function(e){this.selectedFieldConditions=e,this.fieldConditionsChange.emit(e)},st.prototype.openFieldConfigDialog=function(){this.configDialog.inputSelectedFileds=this.selectedFieldConditions?this.selectedFieldConditions:[],this.configDialog.dialog.show()},st.prototype.resetSelectedConditionValues=function(t){return void 0===t&&(t=!1),this.selectedFieldConditions.map(function(e){return t&&e.control.isRequired()||e.value.clearValue(),e})},st.prototype.conditionChange=function(){this.fieldConditionsChange.emit(this.selectedFieldConditions)},st.prototype.confirmLabelFormat=function(e){if(this.isControlInline){var t=!(this.labelFormat="farris-form-controls-inline");if(e.length){var n=[];e.forEach(function(e){e.control.getControlType()!=S.BoolCheck&&n.push(e),e.control.className&&"farris-group-multi-label"!=e.control.className&&(t=!0)}),this.labelFormat+=t?" condition-is-custom":" condition-with-fixed";var i=0;n.length&&n.forEach(function(e){i=e.fieldName.length>i?e.fieldName.length:i}),this.showCompleteLabel&&(8<i?this.labelFormat=this.labelFormat.concat(" f-form-label-xl"):i<9&&6<i&&(this.labelFormat=this.labelFormat.concat(" f-form-label-lg")))}}if(this.labelFormat)return this.labelFormat+(this.isControlInline&&this.showCompleteLabel?" condition-with-complete":"")},st.decorators=[{type:T.Component,args:[{selector:"farris-querycondition",template:'<div class="row f-utils-flex-row-wrap farris-form {{confirmLabelFormat(selectedFieldConditions)}} condition-div"  id="querycondition" #queryConditionWrap>\r\n    <ng-container *ngFor="let currentItem of selectedFieldConditions;let i=index;">\r\n        <app-solution-input  \r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.Text"\r\n            [(item)]="selectedFieldConditions[i]">\r\n        </app-solution-input>\r\n\r\n        <app-solution-inputgroup\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.InputGroup"\r\n            [(item)]="selectedFieldConditions[i]">\r\n        </app-solution-inputgroup>\r\n        \r\n        <app-solution-dropdownlist\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.DropDownList"\r\n            [(item)]="selectedFieldConditions[i]">\r\n        </app-solution-dropdownlist>\r\n        \r\n        <app-solution-smarthelp\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.SmartHelp"\r\n            [(item)]="selectedFieldConditions[i]">\r\n        </app-solution-smarthelp>\r\n        \r\n        <app-solution-single-number\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.SingleNumber"\r\n            [(item)]="selectedFieldConditions[i]">\r\n        </app-solution-single-number>\r\n\r\n        <app-solution-numberrange\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.NumberRange"\r\n            [(item)]="selectedFieldConditions[i]">\r\n        </app-solution-numberrange>\r\n        \r\n        <app-solution-datepicker\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.SingleDate"\r\n            [(item)]="selectedFieldConditions[i]"\r\n            [controlType]="currentItem.control.getControlType()">\r\n        </app-solution-datepicker>\r\n        \r\n        <app-solution-datepicker\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.DateRange"\r\n            [(item)]="selectedFieldConditions[i]"\r\n            [controlType]="currentItem.control.getControlType()">\r\n        </app-solution-datepicker>\r\n\r\n        <app-solution-datepicker\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.SingleYear"\r\n            [(item)]="selectedFieldConditions[i]"\r\n            [controlType]="currentItem.control.getControlType()">\r\n        </app-solution-datepicker>\r\n        \r\n        <app-solution-datepicker\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.SingleMonth"\r\n            [(item)]="selectedFieldConditions[i]"\r\n            [controlType]="currentItem.control.getControlType()">\r\n        </app-solution-datepicker>\r\n        \r\n        <app-solution-datepicker\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.MonthRange"\r\n            [(item)]="selectedFieldConditions[i]"\r\n            [controlType]="currentItem.control.getControlType()">\r\n        </app-solution-datepicker>\r\n        \r\n        <app-solution-datepicker\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.SingleDateTime"\r\n            [(item)]="selectedFieldConditions[i]"\r\n            [controlType]="currentItem.control.getControlType()">\r\n        </app-solution-datepicker>\r\n        \r\n        <app-solution-datepicker\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.DateTimeRange"\r\n            [(item)]="selectedFieldConditions[i]"\r\n            [controlType]="currentItem.control.getControlType()">\r\n        </app-solution-datepicker>\r\n\r\n        <app-solution-combolookup\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.ComboLookUp"\r\n            [(item)]="selectedFieldConditions[i]">\r\n        </app-solution-combolookup>\r\n\r\n        <app-solution-checkbox\r\n            [ngClass]="getStyle(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.BoolCheck"\r\n            [(item)]="selectedFieldConditions[i]">\r\n        </app-solution-checkbox>\r\n\r\n        <app-solution-radio\r\n            [ngClass]="getStyle(currentItem)"\r\n            [label-text-multi]="hasSetMultiClass(currentItem)"\r\n            [changeFields]="fieldCodeOfClearFields"\r\n            (conditionChange)="conditionChange()"\r\n            *ngIf="currentItem.control.getControlType() == controlType.Radio"\r\n            [(item)]="selectedFieldConditions[i]">\r\n        </app-solution-radio>\r\n    </ng-container>\r\n</div>\r\n<app-queryconfigdialog \r\n    #configDialog \r\n    [inputSelectedFileds]="selectedFieldConditions" \r\n    [filedsDataSource]="fieldConfigs"\r\n    (confirmEmitter)="configDialogConfirm($event)">\r\n</app-queryconfigdialog>',encapsulation:T.ViewEncapsulation.None,providers:[F],styles:[".condition-div{min-height:30px}.f-solution-radio-group .farris-checkradio-hor{flex-wrap:nowrap;overflow-x:auto}.f-solution-radio-group .farris-checkradio-hor::-webkit-scrollbar{width:6px;height:6px;background-color:#eee}.f-solution-radio-group .farris-checkradio-hor::-webkit-scrollbar-track{border-radius:0}.f-solution-radio-group .farris-checkradio-hor::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.15);-webkit-transition:.2s;transition:.2s;border-radius:6px}.f-solution-radio-group .farris-checkradio-hor::-webkit-scrollbar-thumb:hover{background-color:rgba(0,0,0,.45)}.f-solution-radio-group .farris-checkradio-hor .custom-radio{flex-shrink:0}"]}]}],st.ctorParameters=function(){return[{type:F},{type:I},{type:T.ComponentFactoryResolver},{type:T.Injector},{type:t.BsModalService},{type:m.LocaleService}]},st.propDecorators={fieldConfigs:[{type:T.Input}],resetFieldConfigs:[{type:T.Input}],isControlInline:[{type:T.Input}],selectedFieldConditions:[{type:T.Input}],showCompleteLabel:[{type:T.Input}],isDisabled:[{type:T.Input}],fieldConditionsChange:[{type:T.Output}],configDialog:[{type:T.ViewChild,args:["configDialog"]}],queryConditionWrapEl:[{type:T.ViewChild,args:["queryConditionWrap"]}]},st);function st(e,t,n,i,r,o){this.communicationService=e,this.convertorService=t,this.resolver=n,this.injector=i,this.modalService=r,this.localeService=o,this._resetFieldConfigs=[],this.isControlInline=!0,this.showCompleteLabel=!1,this.fieldConditionsChange=new T.EventEmitter,this.localeIds={en:"en","zh-CHS":"zh-CHS"},this.controlType=S,this.showButton=!1,this.fieldCodeOfClearFields=[],this.ngZone=null,this.currentLocale=this.injector.get(T.LOCALE_ID),this.solutionService=this.injector.get(ot),this.ngZone||(this.ngZone=this.injector.get(T.NgZone,null))}var ut=(ct.prototype.ngOnChanges=function(e){var t=this;e.changeFields&&e.changeFields.currentValue&&!e.changeFields.firstChange&&e.changeFields.currentValue.some(function(e){return e==t.item.fieldCode})&&this.constructMultiFieldNumberRange(this.item.value)},ct.prototype.ngOnInit=function(){this.testId=this.solutionService.getGuid(),this.canNull=!0,this.placeholder=this.item.placeHolder?this.item.placeHolder:this.item.control.placeholder,this.beginPlaceHolder=this.item.beginPlaceHolder?this.item.beginPlaceHolder:this.placeholder,this.endPlaceHolder=this.item.endPlaceHolder?this.item.endPlaceHolder:this.placeholder,this.precision=this.item.control.precision,this.textAlign=this.item.control.textAlign,this.bigNumber=!!this.item.control.bigNumber&&this.item.control.bigNumber,this.bigNumber||(this.min=this.item.control.min===undefined||null===this.item.control.min?-2147483648:this.item.control.min,this.max=this.item.control.max===undefined||null===this.item.control.max?2147483647:this.item.control.max),this.constructMultiFieldNumberRange(this.item.value)},ct.prototype.valueChange=function(e){var t=e.split("~"),n=t[0]&&0<t[0].length?t[0]:null,i=t[1]&&0<t[1].length?t[1]:null;if(this.bigNumber){var r=new Ve;isNaN(parseFloat(n))?r.startValue=null:r.startValue=n,isNaN(parseFloat(i))?r.endValue=null:r.endValue=i,this.item.value=r}else this.item.value=new Ve({startValue:n,endValue:i});this.conditionChange.emit()},ct.prototype.constructMultiFieldNumberRange=function(e){this.beginValue=null==e.startValue?null:e.startValue,this.endValue=null==e.endValue?null:e.endValue},ct.prototype.getConditionItemTitle=function(e){return this.solutionService.getConditionItemTitle(e)},ct.prototype.beginValueChange=function(e){this.beginValue=e},ct.prototype.endValueChange=function(e){this.endValue=e},ct.decorators=[{type:T.Component,args:[{selector:"app-solution-numberrange",template:'<div class="farris-group-wrap" id="{{item.id}}">\r\n  <div class="form-group farris-form-group  common-group number-range-group" [ngClass]="{\'q-state-readonly\':item.readonly}">\r\n    <label class="col-form-label" *ngIf="item" title="{{getConditionItemTitle(item)}}">\r\n      <span class="farris-label-info text-danger" *ngIf="item.control.isRequired()">*</span>\r\n      <span class="farris-label-text">{{item.fieldName}}</span>\r\n    </label>\r\n    <div class="farris-input-wrap">\r\n      <farris-number-range *ngIf="!bigNumber"\r\n        [beginValue]="beginValue"\r\n        [endValue]="endValue"\r\n        [min]="min"\r\n        [max]="max"\r\n        (beginValueChange)="beginValueChange($event)"\r\n        (endValueChange)="endValueChange($event)"\r\n        (valueChange)="valueChange($event)" \r\n        id="{{testId}}"\r\n        [canNull]="canNull"\r\n        [bigNumber]="bigNumber"\r\n        [placeholder]="placeholder"\r\n        [precision]="precision"\r\n        [textAlign]="textAlign"\r\n        [readonly]="item.readonly"\r\n        [beginPlaceHolder]="beginPlaceHolder"\r\n        [endPlaceHolder]="endPlaceHolder">\r\n      </farris-number-range>\r\n      <farris-number-range *ngIf="bigNumber"\r\n        [beginValue]="beginValue"\r\n        [endValue]="endValue"\r\n        (beginValueChange)="beginValueChange($event)"\r\n        (endValueChange)="endValueChange($event)"\r\n        (valueChange)="valueChange($event)" \r\n        id="{{testId}}"\r\n        [canNull]="canNull"\r\n        [bigNumber]="bigNumber"\r\n        [placeholder]="placeholder"\r\n        [precision]="precision"\r\n        [textAlign]="textAlign"\r\n        [readonly]="item.readonly"        \r\n        [beginPlaceHolder]="beginPlaceHolder"\r\n        [endPlaceHolder]="endPlaceHolder">\r\n      </farris-number-range>\r\n    </div>\r\n  </div>\r\n</div>'}]}],ct.ctorParameters=function(){return[{type:ot}]},ct.propDecorators={item:[{type:T.Input}],changeFields:[{type:T.Input}],conditionChange:[{type:T.Output,args:["conditionChange"]}]},ct);function ct(e){this.solutionService=e,this.changeFields=[],this.conditionChange=new T.EventEmitter}var pt=(Object.defineProperty(dt.prototype,"item",{get:function(){return this.constructTextItem(this._inputItem)},set:function(e){this._inputItem=e},enumerable:!0,configurable:!0}),dt.prototype.constructTextItem=function(e){var t=e.value;return t.value=t.value&&t.value.trim(),e.value=t,e},dt.prototype.ngOnInit=function(){this.testId=this.solutionService.getGuid(),this.placeholder=this.item.placeHolder?this.item.placeHolder:this.item.control.placeholder},dt.prototype.getConditionItemTitle=function(e){return this.solutionService.getConditionItemTitle(e)},dt.prototype.onBlur=function(){this.conditionChange.emit()},dt.decorators=[{type:T.Component,args:[{selector:"app-solution-input",template:'<div class="farris-group-wrap" id="{{item.id}}">\r\n    <div class="form-group farris-form-group  common-group"  [ngClass]="{\'q-state-readonly\':item.readonly}">\r\n        <label class="col-form-label" *ngIf="item" title="{{getConditionItemTitle(item)}}">\r\n            <span class="farris-label-info text-danger" *ngIf="item.control.isRequired()">*</span>\r\n            <span class="farris-label-text">{{item.fieldName}}</span>\r\n        </label>\r\n        <div class="farris-input-wrap">\r\n            <input-group \r\n                [(ngModel)]="item.value.value" \r\n                name="{{item.fieldName}}" \r\n                id="{{testId}}"\r\n                (blurHandle)="onBlur()"\r\n                [placeholder]="placeholder"\r\n                [readonly]="item.readonly">\r\n            </input-group>\r\n        </div>\r\n    </div>\r\n</div>'}]}],dt.ctorParameters=function(){return[{type:ot}]},dt.propDecorators={item:[{type:T.Input}],conditionChange:[{type:T.Output,args:["conditionChange"]}]},dt);function dt(e){this.solutionService=e,this.conditionChange=new T.EventEmitter}var ht=(Object.defineProperty(mt.prototype,"item",{get:function(){return this.constructInputGroupItem(this._inputItem)},set:function(e){this._inputItem=e},enumerable:!0,configurable:!0}),mt.prototype.constructInputGroupItem=function(e){var t=e.value;return t.textValue=t.textValue&&t.textValue.trim(),e.value=t,e},mt.prototype.ngOnInit=function(){this.testId=this.solutionService.getGuid(),this.getInputGroupBindingInfo()},mt.prototype.getInputGroupBindingInfo=function(){var e=this.item.control;this.usageMode=e.usageMode,"open-modal"!=this.usageMode&&"open-remote-modal"!=this.usageMode||(this.dialogOptions=e.dialogOptions,this.dialogOptions.mapFields&&(this.textField=JSON.stringify(this.dialogOptions.mapFields).split('"')[1]))},mt.prototype.getConditionItemTitle=function(e){return this.solutionService.getConditionItemTitle(e)},mt.prototype.onClick=function(e){var t=this;if("text"==this.usageMode)this.item.control.click();else{var n=this.dialogOptions;n.handle=function(e){e&&t.textField&&(t.item.value.value=e,t.item.value.textValue=t.item.value.getTextValue(t.textField),t.item.value.textField=t.textField,t.item.value.isInputText=!1,t.isTextFromDialog=!0,t.textFormDialog=t.item.value.textValue,t.onBlur())},this.item.control.click({event:e,options:n})}},mt.prototype.onBlur=function(){"text"==this.usageMode&&(this.item.value.isInputText=!0),"open-modal"!=this.usageMode&&"open-remote-modal"!=this.usageMode||(this.isTextFromDialog||(this.item.value.isInputText=!0),this.item.value.textValue!=this.textFormDialog&&(this.isTextFromDialog=!1,this.item.value.value=[],this.item.value.textField=undefined,this.item.value.isInputText=!0)),this.conditionChange.emit()},mt.decorators=[{type:T.Component,args:[{selector:"app-solution-inputgroup",template:'<div class="farris-group-wrap" id="{{item.id}}">\r\n    <div class="form-group farris-form-group  common-group"  [ngClass]="{\'q-state-readonly\':item.readonly}">\r\n        <label class="col-form-label" *ngIf="item" title="{{getConditionItemTitle(item)}}">\r\n            <span class="farris-label-info text-danger" *ngIf="item.control.isRequired()">*</span>\r\n            <span class="farris-label-text">{{item.fieldName}}</span>\r\n        </label>\r\n        <div class="farris-input-wrap">\r\n            <input-group \r\n                [(ngModel)]="item.value.textValue" \r\n                name="{{item.fieldName}}" \r\n                id="{{testId}}"\r\n                [groupText]="item.control.groupText"\r\n                [editable]="item.control.editable"\r\n                [placeholder]="item.placeHolder"\r\n                [readonly]="item.readonly"\r\n                (clickHandle)="onClick($event)"\r\n                (blurHandle)="onBlur()">\r\n            </input-group>\r\n        </div>\r\n    </div>\r\n</div>'}]}],mt.ctorParameters=function(){return[{type:ot}]},mt.propDecorators={item:[{type:T.Input}],conditionChange:[{type:T.Output,args:["conditionChange"]}]},mt);function mt(e){this.solutionService=e,this.conditionChange=new T.EventEmitter,this.isTextFromDialog=!1}var gt=(ft.prototype.ngOnInit=function(){var t=this;this.getSmartHelpBindingInfo(),this.testId=this.solutionService.getGuid(),this.placeholder=this.item.placeHolder?this.item.placeHolder:this.item.control.placeholder,this.lookup.textChanged.subscribe(function(e){t.textChangedHandler(e)})},ft.prototype.ngOnChanges=function(e){var t=this;this.getSmartHelpBindingInfo(),!e.changeFields||!e.changeFields.currentValue||e.changeFields.firstChange||e.changeFields.currentValue.some(function(e){return e==t.item.fieldCode})&&(this.textValue=this.item.value.textValue)},ft.prototype.getSmartHelpBindingInfo=function(){var e=this.item.control;this.uri=e.uri,this.textField=e.textField,this.idField=e.idField,this.valueField=e.valueField,this.displayType=e.displayType,this.mapFields=e.mapFields,this.context=e.context,this.preEventCmd=e.preEventCmd,this.postEventCmd=e.postEventCmd,this.enableFullTree=e.enableFullTree,this.loadTreeDataType=e.loadTreeDataType,this.singleSelect=!1!==e.singleSelect,this.expandLevel=e.expandLevel,this.enableCascade=e.enableCascade,this.dialogTitle=e.dialogTitle?e.dialogTitle:"",this.dialogWidth=e.panelWidth,this.dialogHeight=e.panelHeight;var t=this.item.value;"help-text-value-null"==t.textValue?this.textValue=t.getTextValue(this.textField):this.textValue=t.textValue,this.nosearch=e.nosearch,this.displayFields=e.displayFields?e.displayFields:"",this.displayTextSeparator=e.displayTextSeparator?e.displayTextSeparator:"_",this.editable=e.editable,this.clearFields=e.clearFields,e.hasOwnProperty("pageSize")&&e.pageSize&&(this.pageSize=e.pageSize),e.hasOwnProperty("pageList")&&e.pageList&&(this.pageList=e.pageList.split(",").map(function(e){return parseInt(e)}))},ft.prototype.clearData=function(e){this.item.value.clearValue(),this.item.control.clear&&this.item.control.clear(),this.conditionChange.emit()},ft.prototype.getConditionItemTitle=function(e){return this.solutionService.getConditionItemTitle(e)},ft.prototype.textChangedHandler=function(e){if(this.item&&this.item.value){var t=this.item.value;t.value=[e],t.textValue=e,t.isInputText=!0,this.conditionChange.emit()}},ft.prototype.selectedDataHandler=function(e){var t=this.item.value;t.value=this.singleSelect?[e]:e,t.valueField=this.valueField,t.textValue=this.textValue,t.isInputText=!1,this.conditionChange.emit()},ft.decorators=[{type:T.Component,args:[{selector:"app-solution-smarthelp",template:'<div class="farris-group-wrap" id="{{item.id}}" >\r\n    <div class="form-group farris-form-group common-group" [ngClass]="{\'q-state-readonly\':item.readonly}">\r\n        <label class="col-form-label" title="{{getConditionItemTitle(item)}}">\r\n            <span class="farris-label-info text-danger" *ngIf="item.control.isRequired()">*</span>\r\n            <span class="farris-label-text">{{item.fieldName}}</span>\r\n        </label>\r\n        <div class="farris-input-wrap">\r\n            <farris-lookup-grid #lookup\r\n                id="{{testId}}"                \r\n                [clear-fields]="clearFields"\r\n                [uri]="uri"\r\n                [placeholder]="placeholder"\r\n                [(ngModel)]="textValue"\r\n                [textField]="textField"\r\n                [valueField]="valueField"\r\n                [idField]="idField"\r\n                [mapFields]="mapFields"\r\n                [displayType]="displayType"\r\n                [title]="dialogTitle"\r\n                [dialogWidth]="dialogWidth"\r\n                [dialogHeight]="dialogHeight"\r\n                [context]="context"\r\n                [dictPicking]="preEventCmd"\r\n                [dictPicked]="postEventCmd"\r\n                [enableFullTree]="enableFullTree"\r\n                [loadTreeDataType]="loadTreeDataType"\r\n                [singleSelect]="singleSelect"\r\n                [expandLevel]="expandLevel"\r\n                [enableCascade]="enableCascade"\r\n                [readonly]="item.readonly"\r\n                [nosearch]="nosearch"\r\n                [beforeOpen]="onBeforeOpen"\r\n                [displayFields]="displayFields"\r\n                [displayTextSeparator]="displayTextSeparator"\r\n                [editable]="editable"\r\n                [pageSize]="pageSize"\r\n                [pageList]="pageList"\r\n                (selectedData)="selectedDataHandler($event)"\r\n                (clear)="clearData($event)"\r\n            >\r\n        </farris-lookup-grid>\r\n        \x3c!-- [singleSelect]="true" --\x3e\r\n        </div>\r\n\r\n    </div>\r\n</div>'}]}],ft.ctorParameters=function(){return[{type:ot}]},ft.propDecorators={item:[{type:T.Input}],changeFields:[{type:T.Input}],conditionChange:[{type:T.Output,args:["conditionChange"]}],mappingEmitter:[{type:T.Output,args:["helpMapping"]}],lookup:[{type:T.ViewChild,args:["lookup"]}]},ft);function ft(e){var n=this;this.solutionService=e,this.changeFields=[],this.conditionChange=new T.EventEmitter,this.mappingEmitter=new T.EventEmitter,this.pageSize=20,this.pageList=[10,20,30,50,100],this.onBeforeOpen=function(){var e=n.item.value;if(e&&e.value){var t=e.value.map(function(e){return e[n.idField||"id"]}).join(",");n.lookup.displayValue=t}return i.of(!0)}}var yt=(vt.prototype.ngOnInit=function(){this.getDataSource();var e=this.item.value;e.key&&(this.selectedItemId=e.key),this.testId=this.solutionService.getGuid(),this.placeholder=this.item.placeHolder?this.item.placeHolder:this.item.control.placeholder},vt.prototype.ngOnChanges=function(e){var t=this;this.getDataSource(),!e.changeFields||!e.changeFields.currentValue||e.changeFields.firstChange||e.changeFields.currentValue.some(function(e){return e==t.item.fieldCode})&&(this.selectedItemId=this.item.value.key)},vt.prototype.getDataSource=function(){this.dropDownListDataSource=this.item.control.enumValues},vt.prototype.selectChange=function(e){this.item.value=new Le({value:e.selections,key:e.value}),this.conditionChange.emit()},vt.prototype.onClear=function(e){this.item.value=new Le},vt.prototype.getConditionItemTitle=function(e){return this.solutionService.getConditionItemTitle(e)},vt.decorators=[{type:T.Component,args:[{selector:"app-solution-dropdownlist",template:'<div class="farris-group-wrap" id="{{item.id}}">\r\n    <div class="form-group farris-form-group  common-group"  [ngClass]="{\'q-state-readonly\':item.readonly}">\r\n    <label class="col-form-label" *ngIf="item" title="{{getConditionItemTitle(item)}}">\r\n      <span class="farris-label-info text-danger" *ngIf="item.control.isRequired()">*</span>\r\n      <span class="farris-label-text">{{item.fieldName}}</span>\r\n    </label>\r\n    <div class="farris-input-wrap">\r\n    <farris-combo-list \r\n        [(ngModel)]="selectedItemId"\r\n        [idField]="\'value\'"\r\n        [textField]="\'name\'"\r\n        [editable]="false"\r\n        [data]="dropDownListDataSource"\r\n        [multiSelect]="item.control.multiSelect"\r\n        [placeholder]="placeholder"\r\n        [panelHeight]="item.control.panelHeight ? item.control.panelHeight : \'auto\'"\r\n        (valueChange)="selectChange($event)"\r\n        (clear)="onClear($event)" \r\n        id="{{testId}}"\r\n        [readonly]="item.readonly">\r\n      </farris-combo-list>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}]}],vt.ctorParameters=function(){return[{type:ot}]},vt.propDecorators={item:[{type:T.Input}],changeFields:[{type:T.Input}],conditionChange:[{type:T.Output,args:["conditionChange"]}]},vt);function vt(e){this.solutionService=e,this.changeFields=[],this.conditionChange=new T.EventEmitter,this.dropDownListDataSource=new Array,this.selectedItemId=""}var Ct=(bt.prototype.ngOnChanges=function(e){var t=this;e.changeFields&&e.changeFields.currentValue&&!e.changeFields.firstChange&&e.changeFields.currentValue.some(function(e){return e==t.item.fieldCode})&&(this.number=this.item.value.getOriginalValue())},bt.prototype.ngOnInit=function(){this.number=this.item.value.getOriginalValue(),this.testId=this.solutionService.getGuid(),this.canNull=!0,this.placeholder=this.item.placeHolder?this.item.placeHolder:this.item.control.placeholder,this.precision=this.item.control.precision,this.textAlign=this.item.control.textAlign,this.bigNumber=!!this.item.control.bigNumber&&this.item.control.bigNumber,this.bigNumber||(this.min=this.item.control.min===undefined||null===this.item.control.min?-2147483648:this.item.control.min,this.max=this.item.control.max===undefined||null===this.item.control.max?2147483647:this.item.control.max)},bt.prototype.valueChange=function(e){var t=new Me;isNaN(parseFloat(e))?t.numValue=null:t.numValue=e,this.item.value=t,this.conditionChange.emit()},bt.prototype.getConditionItemTitle=function(e){return this.solutionService.getConditionItemTitle(e)},bt.decorators=[{type:T.Component,args:[{selector:"app-solution-single-number",template:'<div class="farris-group-wrap" id="{{item.id}}" >\r\n    <div class="form-group farris-form-group  common-group" [ngClass]="{\'q-state-readonly\':item.readonly}">\r\n        <label class="col-form-label" *ngIf="item" title="{{getConditionItemTitle(item)}}">\r\n            <span class="farris-label-info text-danger" *ngIf="item.control.isRequired()">*</span>\r\n            <span class="farris-label-text">{{item.fieldName}}</span>\r\n        </label>\r\n        <div class="farris-input-wrap">\r\n            <farris-number-spinner *ngIf="!bigNumber"\r\n                [(ngModel)]="number"\r\n                (valueChange)="valueChange($event)"\r\n                id="{{testId}}"\r\n                [min]="min"\r\n                [max]="max"\r\n                [canNull]="canNull"\r\n                [bigNumber]="bigNumber"\r\n                [placeholder]="placeholder"\r\n                [precision]="precision"\r\n                [textAlign]="textAlign"\r\n                [readonly]="item.readonly">\r\n            </farris-number-spinner>\r\n            <farris-number-spinner *ngIf="bigNumber"\r\n                [(ngModel)]="number"\r\n                (valueChange)="valueChange($event)"\r\n                id="{{testId}}"\r\n                [canNull]="canNull"\r\n                [bigNumber]="bigNumber"\r\n                [placeholder]="placeholder"\r\n                [precision]="precision"\r\n                [textAlign]="textAlign"\r\n                [readonly]="item.readonly">\r\n            </farris-number-spinner>\r\n        </div>\r\n    </div>\r\n</div>'}]}],bt.ctorParameters=function(){return[{type:ot}]},bt.propDecorators={item:[{type:T.Input}],changeFields:[{type:T.Input}],conditionChange:[{type:T.Output,args:["conditionChange"]}]},bt);function bt(e){this.solutionService=e,this.changeFields=[],this.conditionChange=new T.EventEmitter}var Tt=(Ft.prototype.ngOnChanges=function(e){e.inputSelectedFileds&&e.inputSelectedFileds.currentValue&&(this.selectedIds=this.inputSelectedFileds.map(function(e){return e.id}))},Ft.prototype.ngOnInit=function(){this.title=this.localeService.getValue("queryCondition.container.config")},Ft.prototype.cancel=function(){this.selectedIds=this.inputSelectedFileds.map(function(e){return e.id}),this.cancelEmitter.emit(!0),this.multiSelectCmp.searchValue="",this.dialog.close()},Ft.prototype.confirm=function(){var n,i=this,r=[];this.selectedIds.forEach(function(t){var e=i.inputSelectedFileds.findIndex(function(e){return e.id==t});-1<e?r.push(i.inputSelectedFileds[e]):((n=i.filedsDataSource.find(function(e){return e.id==t})).value.clearValue(),r.push(n))}),this.confirmEmitter.emit(r),this.multiSelectCmp.searchValue="",this.dialog.close()},Ft.prototype.reset=function(){},Ft.decorators=[{type:T.Component,args:[{selector:"app-queryconfigdialog",template:'<farris-dialog #dialog [buttons]="configDialogButtonRef" [width]="699" [height]="544" [title]="title">\r\n    <multi-select #searchMulti [dataSource]="filedsDataSource" [idField]="\'id\'" [textField]="\'fieldName\'" [displayType]="\'List\'" [(selectedId)]="selectedIds" [showCheckbox]="true">\r\n        <ng-template farrisTemplate="text" let-data>\r\n            {{ data[\'fieldName\'] }}\r\n        </ng-template>\r\n    </multi-select>\r\n</farris-dialog>\r\n<ng-template #configDialogButtonRef>\r\n    <button class="btn btn-primary" (click)="confirm()">{{\'queryCondition.configDialog.confirm\' | locale}}</button>\r\n    <button class="btn btn-secondary" (click)="cancel()">{{\'queryCondition.configDialog.cancel\' | locale}}</button>\r\n</ng-template>',encapsulation:T.ViewEncapsulation.None,styles:[""]}]}],Ft.ctorParameters=function(){return[{type:ot},{type:m.LocaleService}]},Ft.propDecorators={inputSelectedFileds:[{type:T.Input}],filedsDataSource:[{type:T.Input}],cancelEmitter:[{type:T.Output}],confirmEmitter:[{type:T.Output}],dialog:[{type:T.ViewChild,args:["dialog"]}],multiSelectCmp:[{type:T.ViewChild,args:["searchMulti"]}]},Ft);function Ft(e,t){this.solutionService=e,this.localeService=t,this.inputSelectedFileds=[],this.cancelEmitter=new T.EventEmitter,this.confirmEmitter=new T.EventEmitter,this.selectedIds=[]}var Vt=(Object.defineProperty(It.prototype,"item",{get:function(){return this._item},set:function(e){this._item=e},enumerable:!0,configurable:!0}),It.prototype.ngOnChanges=function(e){var t=this;e.changeFields&&e.changeFields.currentValue&&!e.changeFields.firstChange&&e.changeFields.currentValue.some(function(e){return e==t.item.fieldCode})&&(this.checkValue=this.item.value.getOriginalValue())},It.prototype.ngOnInit=function(){this.checkValue=this.item.value.getOriginalValue(),this.controlData=this.item.control,this.testId=this.solutionService.getGuid()},It.prototype.valueChanged=function(e){e.length?this._item.value.setOriginalValue(e):this._item.value.setOriginalValue([!1]),this.conditionChange.emit()},It.prototype.getConditionItemTitle=function(e){return this.solutionService.getConditionItemTitle(e)},It.decorators=[{type:T.Component,args:[{selector:"app-solution-checkbox",template:'<div class="farris-group-wrap" id="{{item.id}}">\r\n    <div class="form-group farris-form-group  common-group qcheckbox-group" style="overflow: auto;white-space: nowrap">\r\n        <label class="col-form-label mr-0" style="width:auto;">\r\n            <span class="farris-label-info text-danger" *ngIf="item.control.isRequired()">*</span>\r\n        </label>\r\n        \x3c!-- <div class="farris-input-wrap">\r\n            <div class="custom-control custom-checkbox">\r\n                <input class="custom-control-input" type="checkbox" id="item.fieldCode" (change)="valueChange($event.target.checked)" [(ngModel)]="item.value[\'value\']"/>\r\n                <label class="custom-control-label" for="item.fieldCode">{{item.fieldName}}</label>\r\n            </div>\r\n          <div class="farris-feedback valid-feedback"></div>\r\n        </div> --\x3e\r\n        <farris-checkboxgroup\r\n            [isStringValue]="controlData.isStringValue" \r\n            [data]="controlData.data" \r\n            [horizontal]="controlData.horizontal" \r\n            [disable]="item.readonly" \r\n            [(ngModel)]="checkValue"\r\n            (changeValue)="valueChanged($event)"\r\n            id="{{testId}}"\r\n        ></farris-checkboxgroup>\r\n    </div>\r\n</div>'}]}],It.ctorParameters=function(){return[{type:T.Injector}]},It.propDecorators={item:[{type:T.Input}],changeFields:[{type:T.Input}],conditionChange:[{type:T.Output,args:["conditionChange"]}]},It);function It(e){this.injector=e,this.changeFields=[],this.conditionChange=new T.EventEmitter,this.solutionService=this.injector.get(ot)}var wt=(Object.defineProperty(St.prototype,"item",{get:function(){return this._item},set:function(e){this._item=e},enumerable:!0,configurable:!0}),St.prototype.ngOnChanges=function(e){var t=this;e.changeFields&&e.changeFields.currentValue&&!e.changeFields.firstChange&&e.changeFields.currentValue.some(function(e){return e==t.item.fieldCode})&&(this.radioValue=this.item.value.getOriginalValue())},St.prototype.ngOnInit=function(){this.radioControl=this.item.control,this.radioValue=this.item.value.getOriginalValue(),this.testId=this.solutionService.getGuid(),this.showLabel=this.radioControl.showLabel},St.prototype.valueChanged=function(e){this._item.value.setOriginalValue(e),this.conditionChange.emit()},St.prototype.getConditionItemTitle=function(e){return this.solutionService.getConditionItemTitle(e)},St.decorators=[{type:T.Component,args:[{selector:"app-solution-radio",template:'<div class="farris-group-wrap" id="{{item.id}}">\r\n    <div class="form-group farris-form-group  common-group qradio-group"  [ngClass]="{\'q-state-readonly\':item.readonly}">\r\n        <label class="col-form-label" *ngIf="item" title="{{getConditionItemTitle(item)}}">\r\n            <span class="farris-label-info text-danger" *ngIf="item.control.isRequired()">*</span>\r\n            <span class="farris-label-text" *ngIf="showLabel">{{item.fieldName}}</span>\r\n        </label>\r\n        <farris-radiogroup\r\n            class="f-solution-radio-group"\r\n            [(ngModel)]="radioValue"\r\n            [data]="radioControl.enumValues"\r\n            [horizontal]="radioControl.horizontal"\r\n            [disabled]="item.readonly"\r\n            (changeValue)="valueChanged($event)"\r\n            id="{{testId}}"\r\n        ></farris-radiogroup>\r\n    </div>\r\n</div>'}]}],St.ctorParameters=function(){return[{type:T.Injector}]},St.propDecorators={item:[{type:T.Input}],changeFields:[{type:T.Input}],conditionChange:[{type:T.Output,args:["conditionChange"]}],cls:[{type:T.HostBinding,args:["class.f-solution-radio-group-wrapper"]}]},St);function St(e){this.injector=e,this.changeFields=[],this.conditionChange=new T.EventEmitter,this.cls=!0,this.solutionService=this.injector.get(ot)}var xt=(Ot.prototype.ngOnChanges=function(e){var t=this;e.changeFields&&e.changeFields.currentValue&&!e.changeFields.firstChange&&e.changeFields.currentValue.some(function(e){return e==t.item.fieldCode})&&(this.dateRange&&(this.beginValue=this.item.value&&this.item.value.startTime?this.item.value.startTime.toString().trim():"",this.endValue=this.item.value&&this.item.value.endTime?this.item.value.endTime.toString().trim():""),this.bindValue=this.item.value.getOriginalValue())},Ot.prototype.ngOnInit=function(){var n=this;switch(this.testId=this.solutionService.getGuid(),this.controlType){case S.DateRange:this.returnFormat=this.item.control.returnFormat?this.item.control.returnFormat:"yyyy-MM-dd",this.dateFormat=this.item.control.format?this.item.control.format:"yyyy-MM-dd",this.dateRange=!0;break;case S.SingleDate:this.returnFormat=this.item.control.returnFormat?this.item.control.returnFormat:"yyyy-MM-dd",this.dateFormat=this.item.control.format?this.item.control.format:"yyyy-MM-dd",this.dateRange=!1;break;case S.SingleYear:this.returnFormat=this.item.control.returnFormat?this.item.control.returnFormat:"yyyy",this.dateFormat=this.item.control.format?this.item.control.format:"yyyy",this.showType=v.ShowType.noDateAndMonth,this.dateRange=!1;break;case S.DateTimeRange:this.returnFormat=this.item.control.returnFormat?this.item.control.returnFormat:"yyyy-MM-dd HH:mm:ss",this.item.control.enableCustomFormat?this.dateFormat=this.item.control.format?this.item.control.format:"yyyy-MM-dd HH:mm:ss":(this.dateFormat=this.item.control.format?this.item.control.format:"yyyy-MM-dd",this.dateFormat=this.dateFormat+" HH:mm:ss"),this.showTime=!0,this.dateRange=!0;break;case S.SingleMonth:this.returnFormat=this.item.control.returnFormat?this.item.control.returnFormat:"yyyy-MM",this.dateFormat=this.item.control.format?this.item.control.format:"yyyy-MM",this.showType=v.ShowType.noDate,this.dateRange=!1;break;case S.MonthRange:this.returnFormat=this.item.control.returnFormat?this.item.control.returnFormat:"yyyy-MM",this.dateFormat=this.item.control.format?this.item.control.format:"yyyy-MM",this.showType=v.ShowType.noDate,this.dateRange=!0;break;case S.SingleDateTime:this.returnFormat=this.item.control.returnFormat?this.item.control.returnFormat:"yyyy-MM-dd HH:mm:ss",this.item.control.enableCustomFormat?this.dateFormat=this.item.control.format?this.item.control.format:"yyyy-MM-dd HH:mm:ss":(this.dateFormat=this.item.control.format?this.item.control.format:"yyyy-MM-dd",this.dateFormat=this.dateFormat+" HH:mm:ss"),this.showTime=!0,this.dateRange=!1}this.updateParamsByCondition(),this.placeholder=this.item.placeHolder?this.item.placeHolder:this.item.control.placeholder,this.dateRange&&(this.beginValue=this.item.value&&this.item.value.startTime?this.item.value.startTime.toString().trim():"",this.endValue=this.item.value&&this.item.value.endTime?this.item.value.endTime.toString().trim():"",this.beginPlaceHolder=this.item.beginPlaceHolder?this.item.beginPlaceHolder:this.placeholder,this.endPlaceHolder=this.item.endPlaceHolder?this.item.endPlaceHolder:this.placeholder),this.bindValue=this.item.value.getOriginalValue(),this.item.control.weekSelect&&this.controlType==S.DateRange&&(this.showType=v.ShowType.selectWeek),this.solutionService.getControlConfigState().subscribe(function(e){var t=e.find(function(e){return e.fieldCode==n.item.fieldCode});t&&n.updateParamsByCondition(t)})},Ot.prototype.updateParamsByCondition=function(e){void 0===e&&(e=null);var t=null;switch(t=e?e.control:this.item.control,this.controlType){case S.SingleYear:this.maxDate=t.hasOwnProperty("maxDate")?t.maxDate:this.maxDate,this.minDate=t.hasOwnProperty("minDate")?t.minDate:this.minDate}},Ot.prototype.onDateChange=function(e){this.item.value.setOriginalValue({formatted:e.returnFormatted,delimiter:this.dateRangeDatesDelimiter}),this.conditionChange.emit()},Ot.prototype.getConditionItemTitle=function(e){return this.solutionService.getConditionItemTitle(e)},Ot.prototype.beginValueChange=function(e){},Ot.prototype.endValueChange=function(e){},Ot.decorators=[{type:T.Component,args:[{selector:"app-solution-datepicker",template:'<div class="farris-group-wrap" id="{{item.id}}">\r\n    <div class="form-group farris-form-group  common-group"  [ngClass]="{\'q-state-readonly\':item.readonly,\'datepicker-range-group\':dateRange}">\r\n        <label class="col-form-label" *ngIf="item" title="{{getConditionItemTitle(item)}}">\r\n            <span class="farris-label-info text-danger" *ngIf="item.control.isRequired()">*</span>\r\n            <span class="farris-label-text">{{item.fieldName}}</span>\r\n        </label>\r\n        <div class="farris-input-wrap">\r\n            <farris-datepicker *ngIf="!dateRange"\r\n                [(ngModel)]="bindValue"\r\n                [dateRange]="dateRange"\r\n                [placeholder]="placeholder"\r\n                [returnFormat]="returnFormat"\r\n                [dateFormat]="dateFormat"\r\n                [editable]="editable"\r\n                [showType]="showType"\r\n                [showTime]="showTime"\r\n                [readonly]="item.readonly"\r\n                (valueChange)="onDateChange($event)"\r\n                [maxDate]="maxDate"\r\n                [minDate]="minDate"\r\n                id="{{testId}}"\r\n            >\r\n            </farris-datepicker>\r\n            <farris-datepicker *ngIf="dateRange"\r\n                [dateRange]="dateRange"\r\n                [placeholder]="placeholder"      \r\n                [beginPlaceholder]="beginPlaceHolder"\r\n                [endPlaceholder]="endPlaceHolder"\r\n                [returnFormat]="returnFormat"\r\n                [dateFormat]="dateFormat"\r\n                [editable]="editable"\r\n                [showType]="showType"\r\n                [showTime]="showTime"\r\n                [readonly]="item.readonly"\r\n                [(ngModel)]="bindValue"\r\n                (valueChange)="onDateChange($event)"\r\n                id="{{testId}}"\r\n            >\r\n            </farris-datepicker>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}]}],Ot.ctorParameters=function(){return[{type:T.Injector}]},Ot.propDecorators={item:[{type:T.Input}],controlType:[{type:T.Input}],changeFields:[{type:T.Input}],conditionChange:[{type:T.Output,args:["conditionChange"]}]},Ot);function Ot(e){this.injector=e,this.changeFields=[],this.conditionChange=new T.EventEmitter,this.showType=v.ShowType.all,this.maxDate="",this.minDate="",this.editable=!1,this.dateRangeDatesDelimiter="~",this.solutionService=this.injector.get(ot)}var Dt=(Nt.prototype.ngOnInit=function(){this.getComboLookUpBindingInfo(),this.testId=this.solutionService.getGuid(),this.placeholder=this.item.placeHolder?this.item.placeHolder:this.item.control.placeholder,this.autoWidth=!1},Nt.prototype.ngOnChanges=function(e){var t=this;this.getComboLookUpBindingInfo(),!e.changeFields||!e.changeFields.currentValue||e.changeFields.firstChange||e.changeFields.currentValue.some(function(e){return e==t.item.fieldCode})&&(this.textValue=this.item.value.textValue)},Nt.prototype.valueChangeHandler=function(e){var t=this.item.value;t.value=e.selections,t.valueField=this.valueField,t.textValue=t.getTextValue(this.textField),this.textValue=t.textValue,this.conditionChange.emit()},Nt.prototype.getComboLookUpBindingInfo=function(){var t=this,e=this.item.control;this.uri=e.uri,this.idField=e.idField,this.valueField=e.valueField,this.textField=e.textField,this.mapFields=e.mapFields,this.displayType=e.displayType,this.preEventCmd=e.preEventCmd,this.postEventCmd=e.postEventCmd,this.multiSelect=!0!==e.singleSelect,this.panelWidth=e.panelWidth?e.panelWidth:300,this.panelHeight=e.panelHeight?e.panelHeight:300;var n=this.item.value;"help-text-value-null"==n.textValue?this.textValue=n.getTextValue(this.textField):this.textValue=n.textValue,n&&n.value&&(this.selectedValues=(n.value||[]).map(function(e){return e[t.idField]}).join(","))},Nt.prototype.clearData=function(e){this.item.value.clearValue(),this.conditionChange.emit()},Nt.prototype.getConditionItemTitle=function(e){return this.solutionService.getConditionItemTitle(e)},Nt.decorators=[{type:T.Component,args:[{selector:"app-solution-combolookup",template:'<div class="farris-group-wrap" id="{{item.id}}">\r\n    <div class="form-group farris-form-group common-group "  [ngClass]="{\'q-state-readonly\':item.readonly}">\r\n        <label class="col-form-label" *ngIf="item" title="{{getConditionItemTitle(item)}}">\r\n            <span class="farris-label-info text-danger" *ngIf="item.control.isRequired()">*</span>\r\n            <span class="farris-label-text">{{item.fieldName}}</span>\r\n        </label>\r\n        <div class="farris-input-wrap">\r\n            <farris-combo-lookup *ngIf="item"\r\n                [uri]="uri"\r\n                [placeholder]="placeholder"\r\n                [(ngModel)]="textValue"\r\n                [idField]="idField"\r\n                [valueField]="valueField"\r\n                [textField]="textField"\r\n                [mapFields]="mapFields"\r\n                [displayType]="displayType"\r\n                [multiSelect]="multiSelect"\r\n                [selectedValues]="selectedValues"\r\n                [beforeShow]="preEventCmd"\r\n                [beforeHide]="postEventCmd"\r\n                (valueChange)="valueChangeHandler($event)"\r\n                (clear)="clearData($event)"\r\n                [autoWidth]="autoWidth"\r\n                [panelWidth]="panelWidth"\r\n                [panelHeight]="panelHeight"\r\n                [readonly]="item.readonly"\r\n                id="{{testId}}"\r\n            >\r\n        </farris-combo-lookup>\r\n        </div>\r\n    </div>\r\n</div>'}]}],Nt.ctorParameters=function(){return[{type:ot}]},Nt.propDecorators={item:[{type:T.Input}],changeFields:[{type:T.Input}],conditionChange:[{type:T.Output,args:["conditionChange"]}]},Nt);function Nt(e){this.solutionService=e,this.changeFields=[],this.conditionChange=new T.EventEmitter,this.selectedValues=""}var kt=(qt.prototype.ngOnInit=function(){var n=this;this.clearFields&&this.ngCtrl&&this.ngCtrl.valueChanges.subscribe(function(e){n.qcc.fieldCodeOfClearFields=[],n.clearFields.split(",").forEach(function(t){var e=n.qcc.selectedFieldConditions.find(function(e){return e.fieldCode===t});e&&(n.qcc.fieldCodeOfClearFields.push(t),e.value.clearValue())})})},qt.decorators=[{type:T.Directive,args:[{selector:"[clear-fields]"}]}],qt.ctorParameters=function(){return[{type:b.NgControl,decorators:[{type:T.Optional},{type:T.Self}]},{type:lt},{type:T.Injector}]},qt.propDecorators={clearFields:[{type:T.Input,args:["clear-fields"]}]},qt);function qt(e,t,n){this.ngCtrl=e,this.qcc=t,this.inject=n,this.clearFields=""}var Mt=(Object.defineProperty(Et.prototype,"enableMulti",{get:function(){return this._enableMulti},set:function(e){this._enableMulti=e,this.judgeMulti()},enumerable:!0,configurable:!0}),Et.prototype.ngOnInit=function(){},Et.prototype.judgeMulti=function(){var t=this;this._enableMulti&&this.ngZone.runOutsideAngular(function(){setTimeout(function(){var e=t.el.nativeElement.querySelector(".farris-label-text");e&&(e.clientWidth<e.scrollWidth?t.el.nativeElement.className=t.el.nativeElement.className+" "+t.multiCls:t.el.nativeElement.className=t.el.nativeElement.className.replace(t.multiCls,""))},20)})},Et.decorators=[{type:T.Directive,args:[{selector:"[label-text-multi]"}]}],Et.ctorParameters=function(){return[{type:T.ElementRef},{type:T.Injector}]},Et.propDecorators={enableMulti:[{type:T.Input,args:["label-text-multi"]}]},Et);function Et(e,t){this.el=e,this.injector=t,this.multiCls="farris-group-multi-label",this._enableMulti=!1,this.ngZone=null,this.ngZone||(this.ngZone=this.injector.get(T.NgZone,null))}var Ht=(jt.decorators=[{type:T.NgModule,args:[{imports:[o.CommonModule,b.FormsModule,b.ReactiveFormsModule,a.FarrisDialogModule,l.LayoutModule,s.LookupModule,u.MultiSelectModule,c.FieldGroupModule,p.InputGroupModule,d.FDropdownDirectiveTypeModule,h.LoadingModule.forRoot(),n.NotifyModule.forRoot(),v.FarrisDatePickerModule,m.LocaleModule,g.ComboListModule,f.NumberSpinnerModule,y.FarrisFormsModule,C.ComboLookupModule],declarations:[lt,Tt,xt,ut,gt,pt,yt,Ct,Vt,Dt,wt,ht,kt,Mt],entryComponents:[Tt],providers:[ot,n.NotifyService,I],bootstrap:[lt],exports:[lt,Tt,xt,ut,gt,pt,yt,Ct,Vt,Dt,wt,ht]}]}],jt);function jt(){}var Rt=function zt(){this.isDefault=!1,this.isChanged=!1},Pt=(Lt.prototype.convertJObject=function(e){var t=e,n=new Object;if(n.id=t.id,n.belongId=t.belongId,n.code=t.code,n.name=t.name,n.isSystem=t.isSystem,n.isDefault=t.isDefault,n.type=t.type,t.queryConditions&&0<t.queryConditions.length){var i=[],r=new nt;t.queryConditions.forEach(function(e){i.push(r.convertJObject(e))}),n.queryConditionString=JSON.stringify(i)}return n},Lt.prototype.initFromJobject=function(e){var t=new Rt;t.id=e.id,t.code=e.code,t.name=e.name,t.belongId=e.belongId,t.isSystem=e.isSystem,t.isDefault=e.isDefault,t.type=e.hasOwnProperty("type")?e.type:"",t.queryConditions=new Array;var n=e.queryConditionString;if(n){var i=JSON.parse(n),r=new nt;i.forEach(function(e){t.queryConditions.push(r.initFromJobject(e))})}return t},Lt.prototype.formatFromJobject=function(e){var t,n=new Array;t="string"==typeof e?JSON.parse(e):e;var i=new nt;return t.forEach(function(e){n.push(i.initFromJobject(e))}),n},Lt.prototype.formatConvertJObject=function(e){var t=[],n=new nt;return e.forEach(function(e){t.push(n.convertJObject(e))}),t},Lt);function Lt(){}var Bt={Equal:0,GreaterThan:2,GreaterThanOrEqual:3,LessThan:4,LessThanOrEqual:5,Like:6};Bt[Bt.Equal]="Equal",Bt[Bt.GreaterThan]="GreaterThan",Bt[Bt.GreaterThanOrEqual]="GreaterThanOrEqual",Bt[Bt.LessThan]="LessThan",Bt[Bt.LessThanOrEqual]="LessThanOrEqual",Bt[Bt.Like]="Like";var Gt=function Wt(e){this.id=e.id,this.labelCode=e.fieldCode,this.name=e.fieldName};e.QueryConditionModule=Ht,e.QueryConditionComponent=lt,e.QuerySolutionVo=Rt,e.QueryCondition=tt,e.CompareType=Bt,e.ValueType=rt,e.FieldConfig=Gt,e.ControlType=S,e.DateRangeControl=A,e.DropDownListControl=j,e.EnumBoolValue=q,e.EnumType=x,e.EnumIntegerValue=O,e.EnumStringValue=N,e.NumberRangeControl=U,e.SmartHelpContol=_,e.TextControl=B,e.InputGroupControl=fe,e.DateRangeValue=xe,e.DropDownListValue=Le,e.NumberRangeValue=Ve,e.SmartHelpValue=De,e.TextValue=Te,e.InputGroupValue=Qe,e.SolutionService=ot,e.QuerySolutionVoConvertor=Pt,e.ConvertorService=I,e.SingleDateValue=ke,e.SingleNumberValue=Me,e.SingleDateControl=z,e.SingleNumberControl=Z,e.SingleYearValue=He,e.SingleYearControl=K,e.CheckBoxControl=ee,e.CheckBoxValue=Re,e.SingleMonthControl=re,e.SingleMonthValue=Ge,e.MonthRangeControl=ae,e.MonthRangeValue=Je,e.SingleDateTimeControl=se,e.SingleDateTimeValue=We,e.ComboLookUpControl=ce,e.ComboLookUpValue=$e,e.RadioControl=de,e.RadioValue=Ye,e.i=Vt,e.j=Dt,e.c=xt,e.g=yt,e.f=pt,e.l=ht,e.h=Ct,e.d=ut,e.k=wt,e.e=gt,e.m=kt,e.n=Mt,e.b=Tt,e.a=F,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=farris-component-querycondition.umd.min.js.map