/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
/*
 * @Author: 疯狂秀才(Lucas Huang)
 * @Date: 2019-08-06 07:43:07
 * @LastEditors: 疯狂秀才(Lucas Huang)
 * @LastEditTime: 2019-11-30 16:42:51
 * @QQ: 1055818239
 * @Version: v0.8.0
 * - 2021/04/07 增加 enableHighlightCell 属性，支持选中单元格高亮
 */
import { Component, Input, ViewEncapsulation, ContentChildren, QueryList, Output, EventEmitter, Renderer2, ChangeDetectionStrategy, ChangeDetectorRef, Injector, HostBinding, NgZone, ElementRef, ViewChild, ApplicationRef, TemplateRef, HostListener } from '@angular/core';
import { DomSanitizer } from '@angular/platform-browser';
import ResizeObserver from 'resize-observer-polyfill';
import { of, BehaviorSubject } from 'rxjs';
import { ColumnFilterType } from './types/data-column';
import { DatagridFacadeService } from './services/datagrid-facade.service';
import { DatagridColumnDirective } from './components/columns/datagrid-column.directive';
import { DATAGRID_REST_SERVICEE } from './services/rest.service';
import { DatagridService } from './services/datagrid.service';
import { GRID_EDITORS, CELL_SELECTED_CLS, GRID_VALIDATORS, SIZE_TYPE, GRID_SETTINGS_SERVICE, GRID_SETTINGS_HTTP, CELL_EDITING_CLS, TR_PREFIX } from './types/constant';
import { DomHandler } from './services/domhandler';
import { Utils } from './utils/utils';
import { CommonUtils, FarrisComponentInstanceService } from '@farris/ui-common';
import { ColumnFormatService } from '@farris/ui-common/column';
import { flatten } from 'lodash-es';
import { LocaleService } from '@farris/ui-locale';
import { DatagridColumnsHelper } from './services/datagrid-columns.helper';
import { DatagridFilterService } from './services/datagrid-filter.service';
import { debounceTime } from 'rxjs/operators';
import { SmartFilterToolbarComponent } from './components/filter-toolbar/smart-filter-toolbar.component';
import { DatagridSmartFilterService } from './services/datagrid-smart-filter.service';
import { IdService } from '@farris/ui-common';
import { SelectionModeService } from './services/selection-mode.service';
var DatagridComponent = /** @class */ (function () {
    function DatagridComponent(cd, el, inject, zone, dfs, dgs, app, domSanitizer, render2) {
        var _this = this;
        this.cd = cd;
        this.el = el;
        this.inject = inject;
        this.zone = zone;
        this.dfs = dfs;
        this.dgs = dgs;
        this.app = app;
        this.domSanitizer = domSanitizer;
        this.render2 = render2;
        this.auther = "Lucas Huang - QQ:1055818239";
        this.version = '0.8.x';
        this.__component_type__ = 'DatagridComponent';
        this.pos = 'relative';
        this.hostCls = false;
        /**
         * 使用主题
         */
        this.useThemes = true;
        // 用于存储用户个性化设置
        this.id = '';
        /**
         * 自动高度 - 启用此属性后，就是一个普普通通的 table , 不能编辑，不能排序，不能分页，不能... 就是一凡胎
         */
        this.useHtmlTable = false;
        /**
         * 自动高度
         */
        this.autoHeight = false;
        /**
         * 显示边框
         */
        this.showBorder = false;
        /**
         * 启用斑马线
         */
        this.striped = true;
        /**
         * 宽度
         */
        this.width = 800;
        /**
         * 高度
         */
        this.height = 300;
        /**
         * 显示表头
         */
        this.showHeader = true;
        /**
         * 表头-单行高度
         */
        this.headerHeight = 35;
        /**
         * 表头折行
         */
        this.headerWrap = false;
        /**
         * 显示页脚
         */
        this.showFooter = false;
        /**
         * 页脚默认行高
         */
        this.footerHeight = 29;
        /**
         * 页脚数据来源
         */
        this.footerDataFrom = 'client';
        /**
         * 合计行显示位置，默认为底部
         */
        this.footerPosition = 'bottom';
        /**
         * 行高
         */
        this.rowHeight = 29;
        /**
         * 设置grid 行高尺寸
         * sm: 小，md: 正常， lg: 大，xl: 超大
         */
        this._sizeType = 'sm';
        /**
         * 填充容器
         */
        this._fit = false;
        /**
         * 如果为真，则自动展开/收缩列的大小以适合网格宽度并防止水平滚动。
         */
        this._fitColumns = false;
        /**
         * 根据grid的宽度自动调整列宽度
         */
        this._autoFitColumns = false;
        /**
         * 禁用
         */
        this.disabled = false;
        /**
         * 滚动条显示模式，默认为 auto
         */
        this.scrollBarShowMode = 'auto';
        this.scrollBarOptions = {
            width: 18,
            height: 18
        };
        /**
         * 可拖动列设置列宽
         */
        this.resizeColumn = true;
        /**
         * 显示行号
         */
        this.showLineNumber = false;
        /**
         * 行号表头字符
         */
        this.lineNumberTitle = '序号';
        /**
         * 行号宽度
         */
        this.lineNumberWidth = 36;
        /**
         * 鼠标滑过效果开关，默认开启
         */
        this.rowHover = true;
        /**
         * 允许编辑时，单击进入编辑状态; false为双击进入编辑
         */
        this.clickToEdit = true;
        this._lockPagination = false;
        /**
         * 分页信息
         */
        this.__pagination = true;
        /**
         * 分页条显示模式， default, simple
         */
        this.pagerViewMode = 'default';
        /**
         * 启用服务器端分页
         */
        this.pagerOnServer = true;
        /**
         * 每页记录数
         */
        this.pageList = [10, 20, 30, 50, 100];
        /**
         * 当前页码
         */
        this.pageIndex = 1;
        /**
         * 每页记录数
         */
        this.pageSize = 20;
        /**
         * 分页区高度
         */
        this.pagerHeight = 56;
        /**
         * 显示每页记录数
         */
        this.showPageList = false;
        /**
         * 显示分页信息
         */
        this.showPageInfo = true;
        /**
         * 显示页码
         */
        this.showPageNumber = true;
        /**
         * 显示页码最大数量
         */
        this.pagerLabelSize = 7;
        /**
         * 显示转至指定页码输入框
         */
        this.showGotoInput = false;
        /**
         * 启用跨页多选
         */
        this.enableMorePageSelect = false;
        /**
         * 显示选中列表
         */
        this.showSelectedList = false;
        /**
         * 单元格信息提示延时，默认 1000ms
         */
        this.cellTipTimer = 1000;
        /**
         * grid 内部处理分页状态
         */
        this.controlPaginationState = true;
        /**
         * 总记录数
         */
        this._total = 0;
        /**
         * 启用选中行
         */
        this.enableSelectRow = true;
        /**
         * 启用多选
         */
        this.multiSelect = false;
        /**
         * 启用多选时，是否显示checkbox
         */
        this.showCheckbox = false;
        /**
         * 显示全选checkbox
         */
        this.showAllCheckbox = false;
        /**
         * 当启用多选时，点击行选中，只允许且只有一行被选中。, 默认为 true
         */
        this.onlySelectSelf = true;
        /**
         * 启用多选且显示checkbox, 选中行同时钩选, 默认为 false
         */
        this.checkOnSelect = false;
        /**
         * 启用多选且显示checkbox, 钩选后选中行, 默认为 false
         */
        this.selectOnCheck = false;
        /**
         * 行选中模式，custom: 自定义， default: 默认 仿Windows资源管理器选中
         * 注意： 此属性仅多选，显示复选框有效
         * addTime: 2021-12-14 by LUCAS HUANG
         */
        this.selectionMode = 'custom';
        /**
         * 单击行选中后，在次点击不会被取消选中状态;
         */
        this.keepSelect = true;
        /**
         * 数据为空时的高度
         */
        this.emptyDataHeight = 240;
        /**
         * 空数据时，显示的提示文本
         */
        this.emptyMessage = '暂无数据';
        /**
         * 无数据时的模板
         */
        this.emptyTemplate = null;
        /**
         * 主键字段
         */
        this.idField = 'id';
        /**
         * 页脚数据
         */
        this._footerData = of([]);
        /**
         * 验证不通过时可以结束编辑
         */
        this.endEditByInvalid = true;
        /**
         * 列集合
         */
        this._columns = [];
        this._fields = [];
        /**
         * 数据折行，默认值：true,即在一行显示，不折行。
         */
        this.nowrap = true;
        /**
         * 虚拟加载
         */
        this.virtualized = false;
        /**
         * 是否启用异步加载数据
         */
        this.virtualizedAsyncLoad = false;
        /**
         * 编辑方式： row(整行编辑)、cell(单元格编辑)；默认为 row
         */
        this.editMode = 'row';
        /**
         * 编辑状态
         */
        this._editable = false;
        /**
         * 启用可编辑单元格样式。
         */
        this.enableEditCellStyle = false;
        /**
         * 进入编辑状态时选是否选中文本；默认为 false
         * 仅文本框支持此特性
         */
        this.selectOnEditing = false;
        /**
         * 编辑器高度
         */
        this.editorHeight = 30;
        /**
         * 启用远端排序
         */
        this.remoteSort = false;
        this.hoverRowCls = 'f-datagrid-row-hover';
        /**
         * 允许拖拽列顺序
         */
        this.enableDragColumn = false;
        /**
         * 行分组面板高度，默认 50PX
         */
        this.rowGroupPanelHeight = 50;
        /**
         * 启用分组行
         */
        this.groupRows = false;
        /**
         * 启用行分组合计行
         */
        this.groupFooter = false;
        /**
         * 合计数据显示位置
         * inGroupRow: 与分组在同一行，分别相关合计字段对齐
         * groupFooterRow: 在分组数据最后增加一行
         * 默认为 groupFooterRow
         */
        this.groupSummaryPosition = 'groupFooterRow';
        /**
         * 分组信息合并列数
         * 默认为 1
         */
        this.groupCellColSpan = 1;
        /**
         * 分组字段名称, 多字段分组以英文逗号分隔
         */
        this._groupField = '';
        this.groupFields$ = new BehaviorSubject([]);
        /**
         * 显示分组列
         */
        this.showGroupColumn = true;
        /**
         * 显示分组列面板。默认为 false
         */
        this._showRowGroupPanel = false;
        /**
         * 双击表头适应内容宽度
         */
        this.AutoColumnWidthUseDblclick = true;
        /**
         * 使用内部过滤器; 默认为 false
         */
        this.useDefaultFilter = false;
        /**
         * 过滤图标与排序图标合并，此属性与 enableFilterRow 互斥
         */
        this.enableSmartFilter = false;
        /**
         * 显示过滤行
         */
        this.enableFilterRow = false;
        /**
         * 服务器端过滤
         */
        this.remoteFilter = false;
        /**
         * 启用过滤条件显示条
         */
        this.showFilterBar = false;
        /**
         * 过滤条件汇总条高度，默认 32px
         */
        this.filterBarHeight = 32;
        this.filterRowHeight = 40;
        this.conditions = {};
        this.selectValue = null;
        this.checkValues = [];
        this.selectValues = [];
        /**
         * 合并单元格；先支持纵向合并
         */
        this.mergeCell = false;
        this.mergeFields = [];
        /**
         * 合并单元格数据启用客户端排序
         */
        this.enableClientSortForMergeCell = false;
        /**
         * 使用高级控制面板
         */
        this.useControlPanel = false;
        /**
         * 启用简洁控制面板模式。默认为 false
         */
        this.enableSimpleMode = false;
        /**
         * 点击列设置图标，默认打开的控制面板
         */
        this.controlPanelMode = 'advanced';
        /**
         * 阻止click 事件冒泡
         */
        this.stopPropagation = true;
        /**
         * (202105 弃用)
         * 点击单元格进行编辑状态时，关闭其他Grid的编辑器。默认 false，
         * 多个列表存时，仅有一个列表中有编辑状态，其他列表结束编辑
         */
        this.closeOtherGridEditor = false;
        /**
         * 当数据源为空时，清空已选记录
         */
        this.clearSelectionsWhenDataIsEmpty = true;
        /**
         * 启用右键菜单，默认为 false
         */
        this.enableContextMenu = false;
        /**
         * 右键菜单数据
         */
        this.contextMenus = null;
        this.selectValueChange = new EventEmitter();
        this.checkValuesChange = new EventEmitter();
        this.selectValuesChange = new EventEmitter();
        this.beginEdit = new EventEmitter();
        this.endEdit = new EventEmitter();
        this.cancelEdited = new EventEmitter();
        this.scrollY = new EventEmitter();
        this.pageSizeChanged = new EventEmitter();
        this.pageChanged = new EventEmitter();
        this.loadSuccess = new EventEmitter();
        this.filterChanged = new EventEmitter();
        /**
         * 启用选中单元格高亮显示
         */
        this.enableHighlightCell = false;
        /**
         * 选中的数据始终从数据源中获取. 默认为 false
         */
        this.checkedRowsDataFromSource = false;
        /**
         * 当前单元格为只读时，使用tab 键跳到下个单元格时，是否允许进入编辑状态，默认为 false;
         * 默认情况下，当前单元格只读，按TAB跳到下个CELL 时，选中CELL ，回车进入编辑。
         * 开启后，下个单元格自动进入编辑状态。
         */
        this.editcellWhenTabKeydwon = false;
        /**
         * 单元格点击前事件
         */
        this.beforeClickCell = new EventEmitter();
        this.dblclickRow = new EventEmitter();
        this.selectChanged = new EventEmitter();
        this.unSelect = new EventEmitter();
        this.selectAll = new EventEmitter();
        this.unSelectAll = new EventEmitter();
        /**
         * 异步请求虚拟加载
         */
        this.scrollYLoad = new EventEmitter();
        this.checked = new EventEmitter();
        this.unChecked = new EventEmitter();
        this.checkAll = new EventEmitter();
        this.unCheckAll = new EventEmitter();
        this.checkedChange = new EventEmitter();
        this.columnSorted = new EventEmitter();
        this.rowClick = new EventEmitter();
        this.rowAppended = new EventEmitter();
        this.rowDeleted = new EventEmitter();
        this.rowUpdated = new EventEmitter();
        this.dataChange = new EventEmitter();
        /**
         * 最后一行的最后单元格回车处理事件
         */
        this.lastCellEnterHandle = new EventEmitter();
        /**
         * 分组字段变化后
         */
        this.groupFieldChange = new EventEmitter();
        /**
         * 拖动列改变列显示位置后触发
         */
        this.columnMoved = new EventEmitter();
        /**
         * 单元格点击事件
         */
        this.cellClick = new EventEmitter();
        this._loading = false;
        this._selectedRow = null;
        this.ds = {
            index: 0,
            rows: [],
            top: 0,
            bottom: 0,
            scrolling: false // 是否由滚动条触发
        };
        this.pagerOpts = {};
        this.editors = {};
        this.validators = [];
        this.footerWidth = 0;
        this.clickDelay = 150;
        this.resizeColumnInfo = {
            proxyLineEdge: 0,
            startWidth: 0,
            startX: 0,
            left: 0
        };
        this.ro = null;
        this.subscriptions = [];
        this.realHeaderHeight = 0;
        // 弹窗中使用时，窗口点击事件处理
        this.modalClickEvent = null;
        this.pending = false;
        this.scrollInstance = null;
        // 合并单元辅助信息
        this.mergeCellInfo = {};
        this.ignoreTarget = ['INPUT', 'SELECT', 'TEXTAREA'];
        this.clientFilterService = null;
        // DatagridSettingsService;
        /* 控制列字段名称: _datagrid-setting-control_ */
        this.ControlPanelFeild = '_datagrid-setting-control_';
        this._isResized = false;
        this.gridSize = { width: this.width + 'px', height: this.height + 'px' };
        // 客户端过滤时，是否过滤行发生变化
        this.clientFilterChanged = false;
        // style's ID
        this.styleSheetId = '';
        this.groupRowPanelPlaceholder = '';
        this.commonUtils = null;
        this.smartFilterService = null;
        this.smartFilterResult = { controlData: [], conditions: [] };
        this.smartFilterBarHeight = 32;
        this._active_datagrid_cls = 'datagrid-active';
        this._blured_datagrid_cls = 'datagrid-blurred';
        // 自定义grid样式，列表初始后，会添加一个自定义名称的样式
        this._custom_datagrid_cls = 'datagrid';
        // 焦点行索引，每次行点击后更新
        this.focusRowIndex = -1;
        this.documentBodyMouseDown = null;
        this.farrisInstances = null;
        this.currentPagerData = [];
        this.trackByRows = (/**
         * @param {?} index
         * @param {?} row
         * @return {?}
         */
        function (index, row) {
            if (row) {
                return row[_this.idField] || index;
            }
            return index;
        });
        this.onDocumentMouseDown = (/**
         * @param {?} event
         * @return {?}
         */
        function (event) {
            if (_this.pending) {
                return false;
            }
            if (!event.target.closest('.f-datagrid')) {
                _this.activeDataGrid(false);
            }
            // if (this.editMode === 'row') {
            //     this.endEditing();
            // }
            if (_this.currentCell) {
                if (Utils.hasDialogOpen()) {
                    /** @type {?} */
                    var indlg = _this.inDialog();
                    /** @type {?} */
                    var currentTargetInDialog = event.target.closest('.modal-body');
                    if (indlg && currentTargetInDialog) {
                        if (indlg != currentTargetInDialog) {
                            return;
                        }
                    }
                    else {
                        return;
                    }
                }
                if (_this.currentCell.isEditing) {
                    // this.dfs.endEditCell();
                    _this.currentCell.cellElement.closeEdit().subscribe((/**
                     * @param {?} f
                     * @return {?}
                     */
                    function (f) {
                        if (f) {
                            if (_this.currentCell && _this.currentCell.cellElement) {
                                DomHandler.removeClass(_this.currentCell.cellElement, CELL_SELECTED_CLS);
                                DomHandler.removeClass(_this.currentCell.cellElement, CELL_EDITING_CLS);
                            }
                            _this.dfs.cancelSelectCell();
                            _this.unbindDocumentEditListener();
                            _this.currentCell = null;
                        }
                    }));
                }
            }
        });
        this.styleSheetId = 'DATAGRID-' + Utils.uuid();
        this.localeService = this.inject.get(LocaleService);
        this.restService = this.inject.get(DATAGRID_REST_SERVICEE, null);
        this.colFormatSer = this.inject.get(ColumnFormatService);
        this.commonUtils = this.inject.get(CommonUtils, null);
        this.clientFilterService = new DatagridFilterService(dfs, this.localeService, inject);
        this.farrisInstances = this.inject.get(FarrisComponentInstanceService, null);
        this.smartFilterService = this.inject.get(DatagridSmartFilterService, null);
        this.idService = this.inject.get(IdService, null);
        this.dfs.localId = this.localeService.localeId;
        this.settingService = this.inject.get(GRID_SETTINGS_SERVICE, null);
        if (this.settingService) {
            /** @type {?} */
            var settingsHttp = this.inject.get(GRID_SETTINGS_HTTP, null);
            this.settingService.httpRestService = settingsHttp;
        }
        /** @type {?} */
        var dataSubscription = this.dfs.data$.subscribe((/**
         * @param {?} dataSource
         * @return {?}
         */
        function (dataSource) {
            _this.cleanDom();
            /** @type {?} */
            var ds = tslib_1.__assign({}, dataSource);
            if (_this.conditions && Object.keys(_this.conditions).length && !_this.remoteFilter && _this.useDefaultFilter) {
                ds.rows = _this.clientFilterService.executeFilter(ds.rows, _this.conditions);
            }
            _this.ds = ds;
            if (_this.ds.rows && _this.ds.rows.length) {
                _this.data = _this.dfs.getData();
                if (_this.mergeCell && _this.mergeFields && _this.mergeFields.length) {
                    _this.mergeCellInfo = _this.dgs.getMergeCellInfo3(_this.ds.rows, tslib_1.__spread(_this.mergeFields));
                }
                _this.setPagerTotal();
                _this.loadSuccess.emit(_this.ds.rows);
            }
            else {
                _this.data = [];
                if (_this.clearSelectionsWhenDataIsEmpty) {
                    _this.clearAll();
                }
            }
            if (!_this.ds.scrolling) {
                _this.updateFooterData();
            }
            // 性能优化
            _this.cd.detectChanges();
        }));
        this.subscriptions.push(dataSubscription);
        /** @type {?} */
        var columnGroupSubscription = this.dfs.columnGroup$.pipe(debounceTime(60)).subscribe((/**
         * @param {?} cg
         * @return {?}
         */
        function (cg) {
            if (cg) {
                _this.colGroup = cg;
                _this.footerWidth = cg.totalWidth;
                _this.cd.detectChanges();
            }
        }));
        this.subscriptions.push(columnGroupSubscription);
        this.subscriptions.push(this.dfs.gridSize$.subscribe((/**
         * @param {?} cg
         * @return {?}
         */
        function (cg) {
            if (cg && cg.columnsGroup) {
                _this.colGroup = cg.columnsGroup;
                _this.cd.detectChanges();
            }
        })));
        this.initEditorAndValidator();
        /** @type {?} */
        var currentCellSubscription = this.dfs.currentCell$.subscribe((/**
         * @param {?} cell
         * @return {?}
         */
        function (cell) {
            _this.currentCell = cell;
            if (cell && cell.cellRef) {
                cell.cellRef.isEditing = cell.isEditing;
            }
            _this.unbindMoveSelectRowEvent();
            _this.bindDocumentEditListener();
        }));
        this.dfs.selectRow$.subscribe((/**
         * @param {?} sr
         * @return {?}
         */
        function (sr) {
            if (!_this.currentCell) {
                _this.bindDocumentMoveSelectRowEvent();
            }
            _this.selectedRow = sr;
            // this.cd.detectChanges();
            // this.selectChanged.emit(sr);
        }));
        this.subscriptions.push(currentCellSubscription);
        DatagridColumnsHelper.gridInstance = this;
        /** @type {?} */
        var filterChangedSubscription = this.dgs.onFilterChanged.subscribe((/**
         * @param {?} conditions
         * @return {?}
         */
        function (conditions) {
            // 更新缓存过滤条件
            _this.conditions = conditions;
            _this.clientFilterChanged = true;
            _this.filterData(conditions);
        }));
        this.subscriptions.push(filterChangedSubscription);
        // this.initPaginationOptions();
        /** @type {?} */
        var footerDataSubscription = this.dgs.refreshFooterData.subscribe((/**
         * @return {?}
         */
        function () {
            _this.updateFooterData();
            // this.cd.detectChanges();
        }));
        this.subscriptions.push(footerDataSubscription);
        this.dgs.commonUtils = this.commonUtils;
        this.sms = new SelectionModeService(this);
        this.dgs.focusRowChanged.subscribe((/**
         * @param {?} e
         * @return {?}
         */
        function (e) {
            if (e) {
                _this.focusRowIndex = e.rowIndex;
            }
        }));
    }
    Object.defineProperty(DatagridComponent.prototype, "autoHeightCls", {
        get: /**
         * @return {?}
         */
        function () {
            return this.autoHeight;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "sizeType", {
        get: /**
         * @return {?}
         */
        function () {
            return this._sizeType;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._sizeType = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "fit", {
        get: /**
         * @return {?}
         */
        function () {
            return this._fit;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._fit = val;
            this.hostCls = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "fitColumns", {
        get: /**
         * @return {?}
         */
        function () {
            return this._fitColumns;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._fitColumns = val;
            this.setFitColumns(val);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "autoFitColumns", {
        get: /**
         * @return {?}
         */
        function () {
            return this._autoFitColumns;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._autoFitColumns = val;
            this.dfs.updateProperty('autoFitColumns', val);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "lockPagination", {
        /** 锁定分页条，锁定后页码点击无效 */
        get: /**
         * 锁定分页条，锁定后页码点击无效
         * @return {?}
         */
        function () {
            return this._lockPagination;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._lockPagination = val;
            if (this.dgPager) {
                this.dgPager[val ? 'lock' : 'unlock']();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "pagination", {
        get: /**
         * @return {?}
         */
        function () {
            return this.__pagination;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            if (this.__pagination !== val) {
                this.__pagination = val;
                this.dfs.updateProperty('pagination', val);
                this.dgs.showGridHeader.emit();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "total", {
        get: /**
         * @return {?}
         */
        function () {
            return this._total;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._total = val;
            this.pagerOpts.totalItems = val;
            if (!this.pagination) {
                this.pagerOpts.itemsPerPage = val;
            }
            this.dfs.setTotal(val);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "footerData", {
        get: /**
         * @return {?}
         */
        function () {
            return this._footerData;
        },
        set: /**
         * @param {?} rows
         * @return {?}
         */
        function (rows) {
            if (rows) {
                if (Array.isArray(rows)) {
                    this._footerData = of(rows);
                }
                else {
                    this._footerData = rows;
                }
            }
            if (rows) {
                this.setFooterHeight();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "columns", {
        get: /**
         * @return {?}
         */
        function () {
            return this._columns;
        },
        set: /**
         * @param {?} values
         * @return {?}
         */
        function (values) {
            this._columns = this.correctColumns(values);
            this.dfs.updateProperty('columns', this._columns);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "fields", {
        get: /**
         * @return {?}
         */
        function () {
            return this._fields;
        },
        set: /**
         * @param {?} cols
         * @return {?}
         */
        function (cols) {
            this._fields = cols;
            this.columns = cols;
            if (this.data) {
                this.columnsChanged(false, true);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "editable", {
        get: /**
         * @return {?}
         */
        function () {
            return this._editable;
        },
        set: /**
         * @param {?} v
         * @return {?}
         */
        function (v) {
            if (this._editable !== v) {
                this._editable = v;
                this.cd.detectChanges();
                this.dgs.updateEmptyStyle();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "groupField", {
        get: /**
         * @return {?}
         */
        function () {
            return this._groupField;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._groupField = val || '';
            if (this.groupField) {
                this.groupFields$.next(this.groupField.split(','));
            }
            else {
                this.groupFields$.next([]);
            }
            this.dfs.updateProperty('groupField', this._groupField);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "showRowGroupPanel", {
        get: /**
         * @return {?}
         */
        function () {
            return this.groupRows && this._showRowGroupPanel;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._showRowGroupPanel = val;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "loading", {
        get: /**
         * @return {?}
         */
        function () {
            return this._loading;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._loading = val;
            if (!this.cd['destroyed']) {
                this.cd.detectChanges();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "selections", {
        get: /**
         * @return {?}
         */
        function () {
            return this.dfs.getSelections();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "checkeds", {
        get: /**
         * @return {?}
         */
        function () {
            return this.checkedRows;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "checkedRows", {
        get: /**
         * @return {?}
         */
        function () {
            var _this = this;
            /** @type {?} */
            var chkeds = this.dfs.getCheckeds();
            if (this.enableMorePageSelect) {
                if (chkeds && chkeds.length) {
                    if (!this.checkedRowsDataFromSource) {
                        return tslib_1.__spread(chkeds);
                    }
                    // 从数据源中获取最新数据
                    return chkeds.map((/**
                     * @param {?} n
                     * @return {?}
                     */
                    function (n) {
                        /** @type {?} */
                        var d = _this.dfs.findRow(n.id);
                        if (d) {
                            n.data = d.data;
                        }
                        return n;
                    }));
                }
            }
            else {
                if (this.data && this.data.length) {
                    /** @type {?} */
                    var temp_1 = this.data.map((/**
                     * @param {?} n
                     * @return {?}
                     */
                    function (n) { return n[_this.idField]; }));
                    if (!this.checkedRowsDataFromSource) {
                        return chkeds.filter((/**
                         * @param {?} n
                         * @return {?}
                         */
                        function (n) { return temp_1.includes(n.id); }));
                    }
                    // 从数据源中获取最新数据
                    return chkeds.filter((/**
                     * @param {?} n
                     * @return {?}
                     */
                    function (n) { return temp_1.includes(n.id); })).map((/**
                     * @param {?} n
                     * @return {?}
                     */
                    function (n) {
                        /** @type {?} */
                        var d = _this.dfs.findRow(n.id);
                        if (d) {
                            n.data = d.data;
                        }
                        return n;
                    }));
                }
            }
            return [];
        },
        set: /**
         * @param {?} rows
         * @return {?}
         */
        function (rows) {
            var _this = this;
            if (rows && rows.length) {
                rows = rows.map((/**
                 * @param {?} r
                 * @return {?}
                 */
                function (r) {
                    if (r.data) {
                        return r;
                    }
                    return {
                        id: r[_this.idField],
                        data: r
                    };
                }));
            }
            this.dfs.updateProperty('checkedRows', rows || []);
            this.initSelectOrChecked();
            this.cd.markForCheck();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatagridComponent.prototype, "selectedRow", {
        get: /**
         * @return {?}
         */
        function () {
            return this._selectedRow;
        },
        set: /**
         * @param {?} row
         * @return {?}
         */
        function (row) {
            if (row) {
                if (this.selectValue != row.id) {
                    this._selectedRow = row;
                    this.selectValue = row.id;
                    this.selectValueChange.emit(row.id);
                    this.selectChanged.emit(row);
                }
            }
            else {
                this.unSelect.emit(this._selectedRow);
                this.selectValue = null;
                this.selectValueChange.emit('');
                this._selectedRow = null;
            }
            // this.cd.detectChanges();
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} $data
     * @return {?}
     */
    DatagridComponent.prototype.setCurrentPagerData = /**
     * @param {?} $data
     * @return {?}
     */
    function ($data) {
        this.currentPagerData = $data;
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.updateFooterData = /**
     * @private
     * @return {?}
     */
    function () {
        if (this.showFooter && this.footerDataFrom === 'client') {
            this.footerData = of(this.dfs.getFooterData(this.data));
        }
    };
    //#region Ng Event
    //#region Ng Event
    /**
     * @return {?}
     */
    DatagridComponent.prototype.ngDoCheck = 
    //#region Ng Event
    /**
     * @return {?}
     */
    function () {
        // if (!this.checkValues) {
        //     this.checkValues = [];
        // }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.checkFilterStyle();
        if (this.useThemes) {
            this._checkSize();
        }
        this.checkOptions();
        this.groupRowPanelPlaceholder = this.localeService.getValue('datagrid.groupRow.tips');
        // this._flatColumns();
        // this.setHeaderHeight();
        if (this.smartFilterService) {
            if (this.enableSmartFilter && this.showFilterBar) {
                if (this.smartFilterResult && this.smartFilterResult.controlData && this.smartFilterResult.controlData.length) {
                    this.filterBarHeight = this.smartFilterBarHeight;
                }
                else {
                    this.filterBarHeight = 0;
                }
            }
            this.smartFilterService.filterChanged.subscribe((/**
             * @param {?} e
             * @return {?}
             */
            function (e) {
                // 更新缓存过滤条件
                // console.log(this.smartFilterToolbar);
                if (!_this.smartFilterResult && !e) {
                    return;
                }
                if (JSON.stringify(_this.smartFilterResult) !== JSON.stringify(e)) {
                    _this.smartFilterResult = e;
                    _this.clientFilterChanged = true;
                    _this.filterData(e.conditions);
                    if (!_this.smartFilterResult || (_this.smartFilterResult.controlData && !_this.smartFilterResult.controlData.length)) {
                        _this.onFilterBarResize(0);
                    }
                    else {
                        if (!_this.filterBarHeight) {
                            _this.onFilterBarResize(_this.smartFilterBarHeight);
                        }
                    }
                }
            }));
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // 创建自定义style 容器
        this.render2.addClass(this.dgContainer.nativeElement, this._custom_datagrid_cls);
        this.setHeaderHeight();
        this.setPagerHeight();
        this.initBeforeEvents();
        if (this.fit) {
            this.setGridNewSizeWhenFit();
        }
        this.initState();
        if (this.el && this.farrisInstances) {
            this.farrisInstances.add(this.el.nativeElement, this);
        }
        if (!this.data || !this.data.length) {
            this.fetchData(1, this.pageSize).subscribe((/**
             * @param {?} res
             * @return {?}
             */
            function (res) {
                if (!res) {
                    return;
                }
                _this.total = res.total;
                if (res.footer) {
                    _this.footerData = res.footer;
                }
                _this.loadData(res.items);
            }));
        }
        this.zone.runOutsideAngular((/**
         * @return {?}
         */
        function () {
            _this.ro = new ResizeObserver((/**
             * @param {?} e
             * @return {?}
             */
            function (e) {
                /** @type {?} */
                var target = (/** @type {?} */ (e[0].target));
                if (target.style.display === 'none') {
                    return;
                }
                /** @type {?} */
                var _w = e[0].contentRect.width;
                if (!_w) {
                    return;
                }
                /** @type {?} */
                var _h = e[0].contentRect.height;
                /** @type {?} */
                var _floowW = Math.floor(_w);
                /** @type {?} */
                var _roundW = Math.floor(_w);
                /** @type {?} */
                var _floorH = Math.floor(_h);
                /** @type {?} */
                var _roundH = Math.round(_h);
                if ((_this.width === _floowW || _this.width === _roundW) && (_this.height === _floorH || _this.height === _roundH)) {
                    _this.dgs.restoreScrollbarPosition();
                    return;
                }
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.calculateGridSize(_this.fit);
                }), 100);
            }));
            _this.ro.observe(_this.el.nativeElement.parentElement);
            document.body.removeEventListener('mousedown', _this.documentBodyMouseDown);
            document.body.addEventListener('mousedown', _this.documentBodyMouseDown = (/**
             * @param {?} e
             * @return {?}
             */
            function (e) {
                /** @type {?} */
                var target = (/** @type {?} */ (e.target));
                if (target.closest('td.f-datagrid-cell') ||
                    target.closest('.date-overlay-container') ||
                    target.closest('.time-picker-overlay') ||
                    target.closest('.language-textbox-panel') ||
                    target.closest('.comboPanel')) {
                    return;
                }
                _this.onDocumentMouseDown(e);
            }), true);
        }));
        if (this.showFooter) {
            if (this.footerTemplate) {
                /** @type {?} */
                var footerDom = this.el.nativeElement.querySelector('.f-datagrid-footer');
                if (footerDom) {
                    this.footerHeight = this.el.nativeElement.querySelector('.f-datagrid-footer').offsetHeight;
                }
            }
        }
        if (this.fit) {
            if (this.el.nativeElement.parentElement) {
                this.el.nativeElement.parentElement.style.position = 'relative';
            }
            this.calculateGridSize(this.fit);
        }
        // 检查是否启用仿windows资源管理器中的多选模式
        if (this.selectionMode && this.selectionMode === 'default' && this.multiSelect) {
            this.sms.enableWindowsSelectionMode();
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        if (this.dgColumns && this.dgColumns.length) {
            this.columns = this.dgColumns.map((/**
             * @param {?} dgc
             * @return {?}
             */
            function (dgc) {
                return tslib_1.__assign({}, dgc);
            }));
        }
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    DatagridComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        var _this = this;
        if (changes.data && !changes.data.isFirstChange()) {
            this.dfs.loadData(changes.data.currentValue);
            this.dgs.dataSourceChanged();
        }
        if (changes.showCheckbox !== undefined && !changes.showCheckbox.isFirstChange()) {
            this.dfs.showCheckbox(changes.showCheckbox.currentValue);
        }
        if (changes.showLineNumber !== undefined && !changes.showLineNumber.isFirstChange()) {
            this.dfs.showLineNumber(changes.showLineNumber.currentValue);
        }
        if (changes.multiSelect !== undefined && !changes.multiSelect.isFirstChange()) {
            this.dfs.setMultiSelect(changes.multiSelect.currentValue);
        }
        if (changes.checkOnSelect !== undefined && !changes.checkOnSelect.isFirstChange()) {
            this.dfs.setCheckOnSelect(changes.checkOnSelect.currentValue);
        }
        if (changes.selectOnCheck !== undefined && !changes.selectOnCheck.isFirstChange()) {
            this.dfs.setSelectOnCheck(changes.selectOnCheck.currentValue);
        }
        if (changes.onlySelectSelf !== undefined && !changes.onlySelectSelf.isFirstChange()) {
            this.dfs.updateProperty('onlySelectSelf', changes.onlySelectSelf.currentValue);
        }
        if (changes.keepSelect !== undefined && !changes.keepSelect.isFirstChange()) {
            this.dfs.updateProperty('keepSelect', changes.keepSelect.currentValue);
        }
        if (changes.headerWrap !== undefined && !changes.headerWrap.isFirstChange()) {
            setTimeout((/**
             * @return {?}
             */
            function () {
                _this.setHeaderHeight();
                _this.cd.detectChanges();
                _this.dfs.columnResizeEnd();
            }));
        }
        if (changes.nowrap !== undefined && !changes.nowrap.isFirstChange()) {
            this.checkNowrap();
            this.setRowHeight(false);
            this.dgs.cellContentWrapChanged.emit();
            this.dfs.updateProperty('nowrap', changes.nowrap.currentValue);
        }
        if (changes.multiSort !== undefined && !changes.multiSort.isFirstChange()) {
            this.dfs.updateProperty('multiSort', changes.multiSort.currentValue);
        }
        if (changes.editable !== undefined && !changes.editable.isFirstChange()) {
            this.dfs.updateProperty('editable', changes.editable.currentValue);
            if (!changes.editable.currentValue) {
                this.endCellEdit();
            }
            this.isSingleClick = null;
            // if (this.editable) {
            //     this.keepSelect = false;
            // } else {
            //     this.keepSelect = this.dfs._state.keepSelect;
            // }
            this.cd.detectChanges();
        }
        if (changes.showHeader !== undefined && !changes.showHeader.isFirstChange()) {
            this.dfs.updateProperty('showHeader', changes.showHeader.currentValue);
            this.headerHeightChange();
            this.cd.detectChanges();
        }
        if (changes.showFilterBar !== undefined && !changes.showFilterBar.isFirstChange()) {
            this.dfs.updateProperty('showFilterBar', changes.showFilterBar.currentValue);
            this.dgs.showGridHeader.emit(this.realHeaderHeight);
            // this.dgs.smartFilterBarExpand.emit();
            /** @type {?} */
            var fh = 0;
            if (this.conditions && this.conditions.length) {
                fh = 32;
            }
            this.onFilterBarResize(fh);
        }
        if (changes.showFooter !== undefined && !changes.showFooter.isFirstChange()) {
            this.dfs.updateProperty('showFooter', changes.showFooter.currentValue);
            // this.cd.detectChanges();
            this.calculateGridSize(this.fit);
        }
        if (changes.pagerOnServer !== undefined && !changes.pagerOnServer.isFirstChange()) {
            this.dfs.updateProperty('pagerOnServer', changes.pagerOnServer.currentValue);
            this.pagerOpts = Object.assign(this.pagerOpts, {
                remote: this.pagerOnServer
            });
        }
        if (changes.pageIndex !== undefined && !changes.pageIndex.isFirstChange()) {
            this.dfs.updateProperty('pageIndex', changes.pageIndex.currentValue);
            this.pagerOpts = Object.assign(this.pagerOpts, {
                currentPage: this.pageIndex
            });
        }
        if (changes.pageSize !== undefined && !changes.pageSize.isFirstChange()) {
            this.dfs.updateProperty('pageSize', changes.pageSize.currentValue);
            this.pagerOpts = Object.assign(this.pagerOpts, {
                itemsPerPage: this.pageSize
            });
        }
        if (changes.pageList !== undefined && !changes.pageList.isFirstChange()) {
            this.dfs.updateProperty('pageList', changes.pageList.currentValue);
            this.pagerOpts = Object.assign(this.pagerOpts, {
                pageList: this.pageList
            });
        }
        if (changes.columns !== undefined && !changes.columns.isFirstChange()) {
            this.columnsChanged();
        }
        if (changes.sizeType !== undefined && !changes.sizeType.isFirstChange()) {
            this._sizeType = changes.sizeType.currentValue;
            this.setRowHeight(true);
            this.dfs.updateProperty('rowHeight', this.rowHeight);
            this.setFooterHeight();
            this.refresh();
            this.dgs.onRowHeightChange(this.rowHeight);
        }
        if (changes.rowHeight && !changes.rowHeight.isFirstChange()) {
            this.setRowHeight(false);
        }
        if (changes.selectValue && !changes.selectValue.isFirstChange()) {
            this.selectRow(this.selectValue, false);
        }
        if (changes.checkValues && !changes.checkValues.isFirstChange()) {
            /** @type {?} */
            var checkIds = this.dfs.differenceBy(changes.checkValues.currentValue || [], changes.checkValues.previousValue || [], (/**
             * @param {?} v
             * @return {?}
             */
            function (v) { return v; }));
            if (checkIds && checkIds.length) {
                this.checkRows(checkIds, false);
            }
            /** @type {?} */
            var uncheckIds = this.dfs.differenceBy(changes.checkValues.previousValue || [], changes.checkValues.currentValue || [], (/**
             * @param {?} v
             * @return {?}
             */
            function (v) { return v; }));
            if (uncheckIds && uncheckIds.length) {
                this.unCheckRows(uncheckIds, false);
            }
            setTimeout((/**
             * @return {?}
             */
            function () {
                _this.checkValues = _this.checkeds.map((/**
                 * @param {?} r
                 * @return {?}
                 */
                function (r) { return r.id; }));
                _this.checkValuesChange.emit(_this.checkValues);
                _this.checkedChange.emit(_this.checkeds);
                _this.updateAllCheckboxStatus();
            }), 10);
        }
        if (changes.showGroupColumn && !changes.showGroupColumn.isFirstChange()) {
            this.toggleVisibleColumn(this.groupField.split(','), changes.showGroupColumn.currentValue);
            this.columnsChanged();
        }
        if (changes.autoFitColumns && !changes.autoFitColumns.isFirstChange()) {
            this.dfs.updateProperty('autoFitColumns', changes.autoFitColumns.currentValue);
        }
        if (changes.groupRows && !changes.groupRows.isFirstChange()) {
            this.dfs.updateProperty('groupRows', changes.groupRows.currentValue);
            this.refresh();
        }
        if (changes.mergeCell && !changes.mergeCell.isFirstChange()) {
            this.refresh();
        }
        if (changes.mergeFields && !changes.mergeFields.isFirstChange()) {
            this.refresh();
        }
        if (changes.enableFilterRow && !changes.enableFilterRow.isFirstChange()) {
            this.dfs.updateProperty('enableFilterRow', changes.enableFilterRow.currentValue);
            if (this.showHeader) {
                this.setHeaderHeight();
                this.filterBarHeight = 32;
                this.dgs.toggleFilterRow.emit(this.enableFilterRow);
                this.dgs.showGridHeader.emit(this.realHeaderHeight);
                this.cd.detectChanges();
            }
        }
        if (changes.enableSmartFilter && !changes.enableSmartFilter.isFirstChange()) {
            this.dfs.updateProperty('enableSmartFilter', changes.enableSmartFilter.currentValue);
        }
        if (changes.enableDragColumn && !changes.enableDragColumn.isFirstChange()) {
            this.checkDragColumns();
        }
        if (changes.showRowGroupPanel && !changes.showRowGroupPanel.isFirstChange()) {
            this.dgs.smartFilterBarExpand.emit();
            this.dgs.showGridHeader.emit(this.realHeaderHeight);
        }
        if (changes.selectionMode && !changes.selectionMode.isFirstChange()) {
            this.sms.toggleMode();
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.checkFilterStyle = /**
     * @private
     * @return {?}
     */
    function () {
        // 过滤行与智能过滤 同时启用时，将过滤行禁用
        if (this.enableFilterRow && this.enableSmartFilter) {
            this.enableFilterRow = false;
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype._checkSize = /**
     * @private
     * @return {?}
     */
    function () {
        /** @type {?} */
        var themesKey = localStorage.getItem('gsp_rtf_themSKey');
        /** @type {?} */
        var st = 'sm';
        switch (themesKey) {
            case 'default':
                st = 'sm';
                break;
            case 'loose':
                st = 'md';
                break;
        }
        this.sizeType = st;
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.checkDragColumns = /**
     * @private
     * @return {?}
     */
    function () {
        if (this.isMultiHeader()) {
            this.enableDragColumn = false;
            // this.cd.detectChanges();
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.checkOptions = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.gridSize = { width: this.width + 'px', height: this.height + 'px' };
        if (!this.id) {
            this.id = 'FarrisDataGrid' + Utils.uuid().replace(/-/g, '').substr(0, 10);
            if (this.useControlPanel) {
                this.useControlPanel = false;
                console.warn('启用列配置属性，未设置ID，此功能将禁用。');
            }
            this._custom_datagrid_cls = this.id;
        }
        else {
            this.styleSheetId = this.id + '_' + Utils.uuid().replace(/-/g, '').substr(0, 10);
            this._custom_datagrid_cls = this.styleSheetId;
        }
        if (this.settingService && this.useControlPanel) {
            this.settingService.registerGridInstance(this);
        }
        this.dgs.createStyleElement(this.styleSheetId);
        if (!this.idField) {
            throw new Error('The Datagrid\'s idField can\'t be Null. ');
        }
        this.checkNowrap();
        this.checkSortInfo();
        this.checkMergeCell();
        this.setCheckboxBehavior();
        this.initPaginationOptions();
        if (!this.columns) {
            this.columns = this.fields;
        }
        this.checkGroupHeaderColumns();
        // TFS: 356956
        this.checkGroupRowSetting();
        this.checkColumnsType();
        this.checkDragColumns();
        /** @type {?} */
        var _defaultSetting = (/**
         * @return {?}
         */
        function () {
            _this._flatColumns();
            // this.setHeaderHeight();
            _this.setRowHeight();
        });
        this.dfs.setinitialOptions({
            columns: this.columns,
            groupField: this.groupField,
            sortName: this.sortName,
            sortOrder: this.sortOrder
        });
        // 加载用户个性化设置 --》 列显示与列排序
        if (this.settingService && this.useControlPanel) {
            /** @type {?} */
            var settings$ = this.settingService.getSettings(this.id);
            if (!settings$) {
                _defaultSetting();
                return;
            }
            settings$.subscribe((/**
             * @param {?} sets
             * @return {?}
             */
            function (sets) {
                if (sets) {
                    _this.userProfileSetting(sets);
                    _this.setRowHeight(false);
                }
                if (_this.data && _this.data.length) {
                    _this.dfs.updateProperty('data', _this.data);
                }
                _this.columnsChanged(_this.groupRows && (_this.data && !!_this.data.length));
            }), (/**
             * @param {?} err
             * @return {?}
             */
            function (err) {
                _defaultSetting();
                console.error(err);
            }));
        }
        else {
            _defaultSetting();
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.refreshSelectedData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.selectedRow && this.selectedRow.id) {
            if (this.data && this.data.length) {
                /** @type {?} */
                var rd = this.data.find((/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) { return d[_this.idField] === _this.selectedRow.id; }));
                this.selectedRow.data = rd;
            }
            else {
                this.selectedRow = null;
            }
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.unsubscribes();
        if (this.ro) {
            this.ro.disconnect();
        }
        if (this.documentRowKeydownHandler) {
            this.documentRowKeydownHandler();
        }
        this.currentCell = null;
        this.clientFilterService = null;
        this.cleanDom();
        // 移除动态的style
        this.dgs.removeStyleSheet();
        if (this.settingService && this.settingService.destroy) {
            this.settingService.destroy(this.id);
        }
        if (this.sms) {
            this.sms.removeEvents();
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    DatagridComponent.prototype.onClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (this.showSelectedList && this.dgPager) {
            this.dgPager.closeSelectedList();
        }
        if (this.pending) {
            return;
        }
        /** @type {?} */
        var target = (/** @type {?} */ (event.target));
        if (target.nodeName === 'TEXTAREA' || target.nodeName === 'INPUT') {
            event.stopPropagation();
            return;
        }
        if (this.currentCell && this.currentCell.editor && this.currentCell.editor._editorClickEvent) {
            event.stopPropagation();
            return;
        }
        this.endCellEdit(event);
        this.dfs.cancelSelectCell();
        if (this.stopPropagation) {
            event.stopPropagation();
            return;
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.initPaginationOptions = /**
     * @private
     * @return {?}
     */
    function () {
        this.pagerOpts = {
            id: this.id ? this.id + '-pager_' + Utils.uuid() : 'farris-datagrid-pager_' + Utils.uuid(),
            itemsPerPage: this.pagination ? this.pageSize : this.total,
            currentPage: this.pageIndex,
            totalItems: this.total,
            pageList: this.pageList,
            remote: this.pagerOnServer
        };
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.updatePagerOptions = /**
     * @private
     * @return {?}
     */
    function () {
        this.pagerOpts = Object.assign(this.pagerOpts, {
            itemsPerPage: this.pageSize,
            currentPage: this.pageIndex,
            totalItems: this.total
        });
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.setPagerTotal = /**
     * @private
     * @return {?}
     */
    function () {
        /** @type {?} */
        var _total = this.data.length;
        if (this.pagination && this.total === 0 && this.virtualized) {
            this.pagerOpts.totalItems = _total;
        }
        else {
            if (!this.pagination) {
                this.pagerOpts.itemsPerPage = _total;
            }
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.setFooterHeight = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.showFooter && !this.footerTemplate) {
            this._footerData.subscribe((/**
             * @param {?} rows
             * @return {?}
             */
            function (rows) {
                _this.footerHeight = rows.length * _this.rowHeight;
                // this.cd.detectChanges();
            }));
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.customStyleKey = /**
     * @return {?}
     */
    function () {
        return "." + this._custom_datagrid_cls;
    };
    /**
     * @private
     * @param {?=} useSizeType
     * @return {?}
     */
    DatagridComponent.prototype.setRowHeight = /**
     * @private
     * @param {?=} useSizeType
     * @return {?}
     */
    function (useSizeType) {
        if (useSizeType === void 0) { useSizeType = false; }
        /** @type {?} */
        var _rowHeight = SIZE_TYPE[this._sizeType].row;
        /** @type {?} */
        var _rh = 29;
        if (useSizeType) {
            this.rowHeight = _rowHeight;
        }
        else {
            this.rowHeight = _rowHeight > this.rowHeight ? _rowHeight : this.rowHeight;
        }
        /** @type {?} */
        var key1 = this.customStyleKey() + ".f-datagrid-body-row, " + this.customStyleKey() + " .f-datagrid-cell";
        /** @type {?} */
        var key2 = this.customStyleKey() + " .f-datagrid-cell-content";
        this.dgs.removeCssRule(key1);
        this.dgs.removeCssRule(key2);
        if (this.rowHeight !== _rh && this.nowrap) {
            /** @type {?} */
            var rowHeightCSS = [
                key1 + " { height: " + this.rowHeight + "px }",
                key2 + " { height: " + this.rowHeight + "px; line-height: " + this.rowHeight + "px }"
            ];
            this.dgs.appendCssRules(rowHeightCSS);
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.initSelectOrChecked = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var _data = this.dfs.getCurrentPageData();
        if (!this.enableMorePageSelect && this.multiSelect) {
            // this.clearAll();
            if (this.checkeds && this.checkeds.length) {
                this.checkeds.forEach((/**
                 * @param {?} r
                 * @return {?}
                 */
                function (r) {
                    if (!_data.find((/**
                     * @param {?} n
                     * @return {?}
                     */
                    function (n) { return n[_this.idField] == r.id; }))) {
                        _this.unCheckRow(r.id, false);
                    }
                }));
            }
            else {
                this.clearCheckeds();
            }
        }
        if (this.selectValue) {
            if (_data.find((/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return n[_this.idField] == _this.selectValue; }))) {
                this.selectRow(this.selectValue, false);
                this.refreshSelectedData();
            }
        }
        if (this.multiSelect) {
            if (this.checkValues && this.checkValues.length) {
                /** @type {?} */
                var chkids = this.checkeds.map((/**
                 * @param {?} r
                 * @return {?}
                 */
                function (r) { return r.id; }));
                /** @type {?} */
                var diffIds = this.dfs.difference(chkids, this.checkValues);
                if (diffIds.length) {
                    this.checkRows(diffIds, false);
                }
                else {
                    this.checkValues = [];
                }
            }
            else {
                this.checkValues = [];
            }
            this.checkValues = this.checkeds.map((/**
             * @param {?} r
             * @return {?}
             */
            function (r) { return r.id; }));
            if (!this._isResized || this.virtualized) {
                this.checkValuesChange.emit(this.checkValues);
                this.checkedChange.emit(this.checkeds);
            }
            this.updateAllCheckboxStatus(_data);
        }
    };
    /**
     * @private
     * @param {?=} _data
     * @return {?}
     */
    DatagridComponent.prototype.updateAllCheckboxStatus = /**
     * @private
     * @param {?=} _data
     * @return {?}
     */
    function (_data) {
        var _this = this;
        if (!_data) {
            _data = this.dfs.getCurrentPageData();
        }
        /** @type {?} */
        var checkAllStatus = 0;
        if (this.showAllCheckbox) {
            /** @type {?} */
            var allDataIDs = _data.map((/**
             * @param {?} r
             * @return {?}
             */
            function (r) { return r[_this.idField]; }));
            /** @type {?} */
            var newCheckValues = allDataIDs.filter((/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return _this.checkValues.includes(n); }));
            if (newCheckValues && newCheckValues.length) {
                /** @type {?} */
                var isSame = !this.dfs.difference(allDataIDs, this.checkValues).length;
                if (!this.checkValues || !this.checkValues.length) {
                    // 没有选中的数据
                    checkAllStatus = 0;
                }
                else if (isSame) { // this.checkValues.length === this.data.length ||
                    // 全部选中
                    checkAllStatus = 1;
                }
                else if (!isSame) { // this.checkValues.length !== this.data.length &&
                    // 有选中的数据，但不是全部选中
                    checkAllStatus = 2;
                }
            }
        }
        this.dgs.changeCheckAllStatus.emit(checkAllStatus);
    };
    // 当单选并显示复选框时，默认将 checkOnSelect, selectOnCheck 设置为 true;
    // 当单选并显示复选框时，默认将 checkOnSelect, selectOnCheck 设置为 true;
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.setCheckboxBehavior = 
    // 当单选并显示复选框时，默认将 checkOnSelect, selectOnCheck 设置为 true;
    /**
     * @private
     * @return {?}
     */
    function () {
        if (!this.multiSelect && this.showCheckbox) {
            // TFS: 380899
            // this.checkOnSelect = true;
            // this.selectOnCheck = true;
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype._flatColumns = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.flatColumns = flatten(this.columns).filter((/**
         * @param {?} col
         * @return {?}
         */
        function (col) { return !col.colspan && _this.columnIsVisible(col); }));
    };
    /**
     * @param {?} col
     * @return {?}
     */
    DatagridComponent.prototype.columnIsVisible = /**
     * @param {?} col
     * @return {?}
     */
    function (col) {
        return DatagridColumnsHelper.columnIsVisible(col, this);
    };
    // 添加列设置
    // 添加列设置
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.addControlCol = 
    // 添加列设置
    /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.useControlPanel) {
            /** @type {?} */
            var controlCol = this.columns[0].find((/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return n.field === _this.ControlPanelFeild; }));
            if (!controlCol) {
                /** @type {?} */
                var cp = { field: this.ControlPanelFeild, width: 24, rowspan: this.columns.length, fixed: 'right', visible: true };
                // 2021-05-24 启用过滤行后出错
                // if (this.enableFilterRow) {
                //     cp.rowspan += 1;
                // }
                this.columns[0].push(cp);
            }
            else {
                controlCol.visible = true;
            }
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.checkGroupHeaderColumns = /**
     * @private
     * @return {?}
     */
    function () {
        if (this.isMultiHeader()) {
            /** @type {?} */
            var allCols = flatten(this.columns);
            DatagridColumnsHelper.checkGroupHeaderColumnVisible(allCols);
        }
    };
    // 检查列集合: [] -> [[]]
    // 检查列集合: [] -> [[]]
    /**
     * @private
     * @param {?} values
     * @return {?}
     */
    DatagridComponent.prototype.correctColumns = 
    // 检查列集合: [] -> [[]]
    /**
     * @private
     * @param {?} values
     * @return {?}
     */
    function (values) {
        if (values && values.length && !Array.isArray(values[0])) {
            return [values];
        }
        else {
            return values || [];
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.checkColumnsType = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.columns && this.columns.length) {
            // if (!Array.isArray(this.columns[0])) {
            //     this.columns = [ this.columns ];
            // }
            this.addControlCol();
            this.columns.forEach((/**
             * @param {?} cols
             * @param {?} columnsIndex
             * @return {?}
             */
            function (cols, columnsIndex) {
                cols.forEach((/**
                 * @param {?} col
                 * @param {?} index
                 * @return {?}
                 */
                function (col, index) {
                    if (!col.field) {
                        col.field = "farris-datagrid-column_" + columnsIndex + "_" + index;
                    }
                    if (!col.valign) {
                        col.valign = 'middle';
                    }
                    if (col.width === undefined || col.width === null) {
                        col.width = 100;
                    }
                    else {
                        if (typeof col.width === 'string') {
                            col.width = parseInt(col.width, 10);
                        }
                    }
                    // 记录原始宽度
                    if (!col.originalWidth) {
                        col.originalWidth = col.width;
                    }
                    if (col.formatter && typeof col.formatter !== 'function' && Object.keys(col.formatter).length === 0) {
                        col.formatter = null;
                    }
                    if (!_this.showGroupColumn && _this.groupRows) {
                        _this.toggleVisibleColumn(_this.groupField.split(','), false);
                    }
                    // 过滤行检查
                    if (col.filter) {
                        if (typeof col.filter === 'boolean') {
                            if (col.field) {
                                col.filter = _this.clientFilterService.createColumnFilterOptions(col);
                            }
                            else {
                                col.filter = false;
                            }
                        }
                        else {
                            if (!col.filter.options || !Object.keys(col.filter.options).length) {
                                switch (col.filter.type) {
                                    case ColumnFilterType.enum:
                                        col.filter.options = col.formatter['options'];
                                        break;
                                    case ColumnFilterType.date:
                                        col.filter.options = { dateFormat: 'yyyy-MM-dd', returnFormat: 'yyyy-MM-dd' };
                                        break;
                                    case ColumnFilterType.datetime:
                                        col.filter.options = { dateFormat: 'yyyy-MM-dd HH:mm:ss', returnFormat: 'yyyy-MM-dd HH:mm:ss' };
                                        break;
                                }
                            }
                        }
                    }
                    // 兼容 hidden 2021-05-31
                    if (col['hidden'] !== undefined && col.visible === undefined) {
                        if (typeof col['hidden'] === 'boolean') {
                            col.visible = !col['hidden'];
                        }
                        else {
                            if (typeof col['hidden'] === 'function') {
                                col.visible = (/**
                                 * @return {?}
                                 */
                                function () {
                                    /** @type {?} */
                                    var r = col['hidden'].bind(_this);
                                    return !r;
                                });
                            }
                        }
                    }
                }));
            }));
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.checkGroupRowSetting = /**
     * @private
     * @return {?}
     */
    function () {
        // 如果启用分组行，但未设置分组字段时，将关闭分组行功能
        // if (this.groupRows) {
        //     if (!this.groupField) {
        //         this.groupRows = false;
        //     }
        // }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.checkMergeCell = /**
     * @private
     * @return {?}
     */
    function () {
        if (this.mergeCell) {
            if (!this.mergeFields || !this.mergeFields.length) {
                this.mergeCell = false;
            }
            else {
                this.virtualized = false;
                this.virtualizedAsyncLoad = false;
            }
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.checkSortInfo = /**
     * @private
     * @return {?}
     */
    function () {
        if (this.sortName) {
            if (!this.sortOrder) {
                this.sortOrder = this.sortName.split(',').map((/**
                 * @return {?}
                 */
                function () { return 'asc'; })).join(',');
            }
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.checkNowrap = /**
     * @private
     * @return {?}
     */
    function () {
        // 启用折行后，虚拟加载特性失效
        if (!this.nowrap) {
            this.virtualized = false;
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.setHeaderHeight = /**
     * @return {?}
     */
    function () {
        this.realHeaderHeight = 0;
        if (this.showHeader) {
            if (!this.headerWrap) {
                this.realHeaderHeight = this.columns.length * this.headerHeight;
            }
            else {
                /** @type {?} */
                var gridHeaderEl = this.el.nativeElement.querySelector('.f-datagrid-header');
                if (gridHeaderEl) {
                    // const tables = gridHeaderEl.querySelectorAll('table');
                    /** @type {?} */
                    var trs = gridHeaderEl.querySelectorAll('table tr:not(.f-datagrid-filter-row)');
                    trs.forEach((/**
                     * @param {?} n
                     * @return {?}
                     */
                    function (n) {
                        n.style.height = 'auto';
                        Array.from(n.children).forEach((/**
                         * @param {?} a
                         * @return {?}
                         */
                        function (a) { return a.style.height = 'auto'; }));
                    }));
                    /** @type {?} */
                    var h = Math.max.apply(Math, tslib_1.__spread(Array.from(trs).map((/**
                     * @param {?} n
                     * @return {?}
                     */
                    function (n) { return n.clientHeight; }))));
                    this.realHeaderHeight = h;
                }
            }
            if (this.enableFilterRow) {
                this.realHeaderHeight += this.filterRowHeight;
            }
        }
        return this.realHeaderHeight;
    };
    // 列集合变化
    // 列集合变化
    /**
     * @param {?=} reloadData
     * @param {?=} useColumnSettingWidth
     * @return {?}
     */
    DatagridComponent.prototype.columnsChanged = 
    // 列集合变化
    /**
     * @param {?=} reloadData
     * @param {?=} useColumnSettingWidth
     * @return {?}
     */
    function (reloadData, useColumnSettingWidth) {
        if (reloadData === void 0) { reloadData = true; }
        if (useColumnSettingWidth === void 0) { useColumnSettingWidth = null; }
        /** @type {?} */
        var _useColumnSettingWidth = useColumnSettingWidth === null ? this.fitColumns : useColumnSettingWidth;
        this.checkColumnsType();
        this._flatColumns();
        this.headerHeightChange();
        this.dfs.updateProperty('flatColumns', this.flatColumns);
        this.dfs.updateColumns(this.columns, _useColumnSettingWidth, true);
        // this.colGroup = this.dfs.getState().columnsGroup;
        // 动态列合计行
        this.updateFooterData();
        if (reloadData) {
            this.refresh();
        }
        this.dgs.columnsChanged.emit({ scrollToLeft: reloadData });
    };
    // 列头变化
    // 列头变化
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.headerHeightChange = 
    // 列头变化
    /**
     * @private
     * @return {?}
     */
    function () {
        this.setHeaderHeight();
        this.dgs.showGridHeader.emit(this.realHeaderHeight);
    };
    /** 判断是否在弹出的窗口中；返回undefind 说明没有在弹出的窗口，否则视为当前列表在弹出窗口使用 */
    /**
     * 判断是否在弹出的窗口中；返回undefind 说明没有在弹出的窗口，否则视为当前列表在弹出窗口使用
     * @return {?}
     */
    DatagridComponent.prototype.inDialog = /**
     * 判断是否在弹出的窗口中；返回undefind 说明没有在弹出的窗口，否则视为当前列表在弹出窗口使用
     * @return {?}
     */
    function () {
        return this.el.nativeElement.closest('.modal-body');
    };
    //#endregion
    //#region Init
    /** 初始编辑器与验证器 */
    //#endregion
    //#region Init
    /**
     * 初始编辑器与验证器
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.initEditorAndValidator = 
    //#endregion
    //#region Init
    /**
     * 初始编辑器与验证器
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var Editors = this.inject.get(GRID_EDITORS, []);
        if (Editors.length) {
            Editors.forEach((/**
             * @param {?} ed
             * @return {?}
             */
            function (ed) {
                _this.editors[ed.name] = ed.value;
            }));
        }
        /** @type {?} */
        var _validators = this.inject.get(GRID_VALIDATORS, []);
        if (_validators && _validators.length) {
            // _validators.forEach(vr => {
            //     this.validators[vr.name] = vr.value;
            // });
            this.validators = _validators;
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.setPagerHeight = /**
     * @return {?}
     */
    function () {
        if (!this.useHtmlTable) {
            if (!this.pagination) {
                this.pagerHeight = 0;
            }
            else {
                this.pagerHeight = this.dgPager && this.dgPager.outerHeight || 40;
            }
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.initState = /**
     * @private
     * @return {?}
     */
    function () {
        this.data = this.data || [];
        this.dfs.initState(tslib_1.__assign({}, this, { fitColumns: this.fitColumns, fit: this.fit, groupField: this._groupField }));
    };
    /**
     * @private
     * @param {?=} fitColumns
     * @return {?}
     */
    DatagridComponent.prototype.setFitColumns = /**
     * @private
     * @param {?=} fitColumns
     * @return {?}
     */
    function (fitColumns) {
        if (fitColumns === void 0) { fitColumns = true; }
        if (this.columns) {
            this.dfs.fitColumns(fitColumns);
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.setGridNewSizeWhenFit = /**
     * @private
     * @return {?}
     */
    function () {
        /** @type {?} */
        var parent = this.el.nativeElement.parentElement;
        if (parent) {
            /** @type {?} */
            var cmpRect = parent.getBoundingClientRect();
            /** @type {?} */
            var padding = this.getElementPadding(parent);
            /** @type {?} */
            var border = this.getElementBorderWidth(parent);
            this.width = Math.floor(cmpRect.width - border.left - border.right - padding.left - padding.right);
            this.height = Math.floor(cmpRect.height - border.top - border.bottom - padding.top - padding.bottom);
            if (!this.height) {
                this.height = this.dfs.getState().height || 300;
            }
            if (!this.width) {
                this.width = this.dfs.getState().width || 800;
            }
        }
    };
    /**
     * @param {?=} fit
     * @return {?}
     */
    DatagridComponent.prototype.calculateGridSize = /**
     * @param {?=} fit
     * @return {?}
     */
    function (fit) {
        if (fit === void 0) { fit = true; }
        if (this.useHtmlTable) {
            return;
        }
        if (fit) {
            this.setGridNewSizeWhenFit();
            if (this.width && this.height) {
                this._isResized = true;
                this.gridSize = { width: this.width + 'px', height: this.height + 'px' };
                this.dfs.resize({ width: this.width, height: this.height });
                this._isResized = false;
                this.cd.detectChanges();
            }
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.initBeforeEvents = /**
     * @private
     * @return {?}
     */
    function () {
        if (!this.beforeSelect) {
            this.beforeSelect = (/**
             * @return {?}
             */
            function () { return of(true); });
        }
        if (!this.beforeUnselect) {
            this.beforeUnselect = (/**
             * @return {?}
             */
            function () { return of(true); });
        }
        if (!this.beforeCheck) {
            this.beforeCheck = (/**
             * @return {?}
             */
            function () { return of(true); });
        }
        if (!this.beforeUncheck) {
            this.beforeUncheck = (/**
             * @return {?}
             */
            function () { return of(true); });
        }
        if (!this.beforeSortColumn) {
            this.beforeSortColumn = (/**
             * @return {?}
             */
            function () { return of(true); });
        }
        if (!this.beforeEdit) {
            this.beforeEdit = (/**
             * @return {?}
             */
            function () { return of(true); });
        }
        if (!this.afterEdit) {
            this.afterEdit = (/**
             * @return {?}
             */
            function () { return of(true); });
        }
    };
    //#endregion
    //#region 快捷键
    //#endregion
    //#region 快捷键
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.unbindMoveSelectRowEvent = 
    //#endregion
    //#region 快捷键
    /**
     * @private
     * @return {?}
     */
    function () {
        if (this.documentRowKeydownHandler) {
            this.documentRowKeydownHandler();
            this.documentRowKeydownHandler = null;
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.bindDocumentMoveSelectRowEvent = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.unbindMoveSelectRowEvent();
        this.unbindDocumentEditListener();
        this.documentRowKeydownHandler = this.render2.listen(document, 'keydown', (/**
         * @param {?} e
         * @return {?}
         */
        function (e) {
            // e.preventDefault();
            if (!_this.isActived()) {
                return;
            }
            // has loading
            if (document.querySelectorAll('farris-loading').length) {
                return;
            }
            if (e.target) {
                /** @type {?} */
                var targetName = ((/** @type {?} */ (e.target))).nodeName;
                if (_this.ignoreTarget.indexOf(targetName) > -1) {
                    return;
                }
            }
            if (e.keyCode === 40 || e.keyCode === 38) {
                e.preventDefault();
            }
            switch (e.keyCode) {
                case 40:
                    _this.selectNextRow();
                    break;
                case 38:
                    _this.selectPrevRow();
                    break;
            }
        }));
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.bindEditListenerInModal = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        // 弹窗中事件处理
        if (Utils.hasDialogOpen()) {
            /** @type {?} */
            var modalElement = this.inDialog();
            if (modalElement) {
                /** @type {?} */
                var _fmodal = modalElement.closest('.farris-modal');
                if (_fmodal) {
                    this.modalClickEvent = this.render2.listen(_fmodal, 'click', (/**
                     * @return {?}
                     */
                    function () {
                        _this.endEditing();
                        _this.currentCell = null;
                    }));
                }
            }
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.bindDocumentEditListener = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.unbindDocumentEditListener();
        if (!this.documentCellClickHandler) {
            this.bindEditListenerInModal();
            this.documentCellClickHandler = (/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                if (_this.pending) {
                    return false;
                }
                if (_this.currentCell) {
                    if (Utils.hasDialogOpen()) {
                        /** @type {?} */
                        var indlg = _this.inDialog();
                        /** @type {?} */
                        var currentTargetInDialog = event.target.closest('.modal-body');
                        if (indlg && currentTargetInDialog) {
                            if (indlg != currentTargetInDialog) {
                                return;
                            }
                        }
                        else {
                            return;
                        }
                    }
                    // DomHandler.removeClass(this.currentCell.cellElement, CELL_SELECTED_CLS);
                    // if (this.currentCell.isEditing) {
                    //     // this.dfs.endEditCell();
                    //     this.currentCell.cellElement.closeEdit();
                    // }
                    // this.dfs.cancelSelectCell();
                    // this.unbindDocumentEditListener();
                    if (_this.currentCell.isEditing) {
                        // this.dfs.endEditCell();
                        _this.currentCell.cellElement.closeEdit().subscribe((/**
                         * @param {?} f
                         * @return {?}
                         */
                        function (f) {
                            if (f) {
                                DomHandler.removeClass(_this.currentCell.cellElement, CELL_SELECTED_CLS);
                                DomHandler.removeClass(_this.currentCell.cellElement, CELL_EDITING_CLS);
                                _this.dfs.cancelSelectCell();
                                _this.unbindDocumentEditListener();
                                _this.currentCell = null;
                            }
                        }));
                    }
                }
            });
            this.docuemntCellClickEvents = this.render2.listen(document, 'click', this.documentCellClickHandler);
        }
        if (!this.documentCellKeydownHandler) {
            this.documentCellKeydownHandler = (/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                if (_this.isActived()) {
                    _this.onKeyDownEvent(event);
                }
            });
            this.documentCellKeydownEvents = this.render2.listen(document, 'keydown', this.documentCellKeydownHandler);
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.unbindDocumentEditListener = /**
     * @private
     * @return {?}
     */
    function () {
        if (this.documentCellClickHandler) {
            this.docuemntCellClickEvents();
            this.documentCellClickHandler = null;
        }
        if (this.documentCellKeydownHandler) {
            this.documentCellKeydownEvents();
            this.documentCellKeydownHandler = null;
        }
        if (this.modalClickEvent) {
            this.modalClickEvent();
            this.modalClickEvent = null;
        }
    };
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    DatagridComponent.prototype.onKeyDownEvent = /**
     * @private
     * @param {?} e
     * @return {?}
     */
    function (e) {
        // if (e.ctrlKey || e.shiftKey || !this.editable) {
        //     return;
        // }
        // if (e.ctrlKey || e.shiftKey || !this.editable) {
        //     return;
        // }
        // if (!e.target.closest('.f-datagrid')) {
        //     return;
        // }
        /** @type {?} */
        var keyCode = e.keyCode;
        if (this.currentCell && !this.currentCell.isEditing) {
            if ([13, 40, 37, 38, 39, 9].indexOf(keyCode) > -1) {
                e.preventDefault();
            }
            switch (keyCode) {
                case 32: // 空格
                    if (this.currentCell && this.currentCell.column.onSpaceHandler) {
                        e.stopPropagation();
                        this.currentCell.column.onSpaceHandler({ grid: this, cell: this.currentCell, event: e });
                    }
                    break;
                case 13: // Enter
                    if (this.currentCell) {
                        /** @type {?} */
                        var fn = this.currentCell.cellElement['editCell'];
                        if (fn) {
                            fn.apply(this.currentCell.cellElement);
                        }
                        else {
                            if (this.currentCell.column.onEnterHandler) {
                                e.stopPropagation();
                                this.currentCell.column.onEnterHandler({ grid: this, cell: this.currentCell, event: e });
                            }
                        }
                    }
                    break;
                case 40: // ↓
                    this.selectNextCell('down', e);
                    break;
                case 38: // ↑
                    this.selectNextCell('up', e);
                    break;
                case 39: // →
                    this.selectNextCell('right', e);
                    break;
                case 37: // ←
                    this.selectNextCell('left', e);
                    break;
                case 9: // Tab
                    if (e.shiftKey) {
                        this.selectNextCell('left', e);
                    }
                    else {
                        this.selectNextCell('right', e);
                    }
                    break;
            }
        }
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.unsubscribes = /**
     * @private
     * @return {?}
     */
    function () {
        this.subscriptions.forEach((/**
         * @param {?} ss
         * @return {?}
         */
        function (ss) {
            if (ss) {
                ss.unsubscribe();
                ss = null;
            }
        }));
        this.subscriptions = [];
        if (this.docuemntCellClickEvents) {
            this.docuemntCellClickEvents();
        }
    };
    //#endregion
    //#region Editing
    //#endregion
    //#region Editing
    /**
     * @return {?}
     */
    DatagridComponent.prototype.isRowEditing = 
    //#endregion
    //#region Editing
    /**
     * @return {?}
     */
    function () {
        if (!this.selectedRow || this.selectedRow.index === -1) {
            return false;
        }
        else {
            if (this.editMode === 'row') {
                return this.selectedRow.editors && this.selectedRow.editors.length;
            }
            else {
                return false;
            }
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.isCellEditing = /**
     * @return {?}
     */
    function () {
        if (this.currentCell && this.editMode === 'cell') {
            if (!this.currentCell.editor && !this.currentCell.column.editorTemplate) {
                this.currentCell.isEditing = false;
            }
            return this.currentCell.isEditing;
        }
        return false;
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.isEditing = /**
     * @return {?}
     */
    function () {
        if (this.editMode === 'row') {
            return this.isRowEditing();
        }
        else {
            return this.isCellEditing();
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.endEditing = /**
     * @return {?}
     */
    function () {
        if (this.editMode === 'row') {
            this.endRowEdit();
        }
        else if (this.editMode === 'cell') {
            this.endCellEdit();
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.getEditors = /**
     * @return {?}
     */
    function () {
        return this.selectedRow.editors;
    };
    /**
     * @param {?} rowId
     * @param {?} field
     * @return {?}
     */
    DatagridComponent.prototype.editCell = /**
     * @param {?} rowId
     * @param {?} field
     * @return {?}
     */
    function (rowId, field) {
        this.activeDataGrid();
        /** @type {?} */
        var rowIndex = this.dfs.findRowIndex(rowId);
        if (rowIndex > -1) {
            this.endCellEdit();
            /** @type {?} */
            var trId = TR_PREFIX + rowId;
            /** @type {?} */
            var trDom = this.el.nativeElement.querySelector('#' + trId);
            /** @type {?} */
            var tdDom = null;
            if (trDom) {
                tdDom = trDom.querySelector("[field=\"" + field + "\"]");
            }
            /** @type {?} */
            var col = this.getColumn(field);
            if (!tdDom && col.fixed) {
                if (col.fixed === 'left') {
                    /** @type {?} */
                    var trDomL = this.el.nativeElement.querySelector('#' + trId + '_fixedleft');
                    tdDom = trDomL && trDomL.querySelector("[field=\"" + field + "\"]");
                }
                else if (col.fixed === 'right') {
                    /** @type {?} */
                    var trDomR = this.el.nativeElement.querySelector('#' + trId + '_fixedright');
                    tdDom = trDomR && trDomR.querySelector("[field=\"" + field + "\"]");
                }
            }
            if (tdDom && tdDom['editCell']) {
                this.currentCell = null;
                tdDom.editCell();
            }
        }
    };
    /**
     * @param {?=} event
     * @return {?}
     */
    DatagridComponent.prototype.endCellEdit = /**
     * @param {?=} event
     * @return {?}
     */
    function (event) {
        // document.body.click();
        if (this.currentCell) {
            DomHandler.removeClass(this.currentCell.cellElement, CELL_SELECTED_CLS);
            if (this.currentCell.isEditing) {
                // this.dfs.endEditCell();
                if (this.currentCell.cellEditorRef) {
                    this.currentCell.cellEditorRef.hideCover();
                }
                /** @type {?} */
                var stopEdit = this.currentCell.cellElement.closeEdit();
                if (stopEdit) {
                    stopEdit.subscribe();
                }
            }
        }
    };
    /**
     * @param {?=} rowId
     * @return {?}
     */
    DatagridComponent.prototype.editRow = /**
     * @param {?=} rowId
     * @return {?}
     */
    function (rowId) {
        var _this = this;
        if (!this.editable || this.editMode !== 'row') {
            return false;
        }
        if (rowId) {
            this.selectRow(rowId);
        }
        if (!this.selectedRow || this.selectedRow.index === -1) {
            console.warn('Please select a row.');
            return false;
        }
        var _a = tslib_1.__assign({}, this.selectedRow), rowIndex = _a.index, rowData = _a.data;
        /** @type {?} */
        var beforeEditEvent = this.beforeEdit({ rowIndex: rowIndex, rowData: rowData, gridInstance: this });
        if (!beforeEditEvent || !beforeEditEvent.subscribe) {
            console.warn('please return an Observable Type.');
            return;
        }
        /** @type {?} */
        var trId = TR_PREFIX + rowId;
        /** @type {?} */
        var trDom = this.el.nativeElement.querySelector('#' + trId);
        if (!this.selectedRow.dr) {
            trDom.click();
        }
        beforeEditEvent.subscribe((/**
         * @param {?} flag
         * @return {?}
         */
        function (flag) {
            if (flag) {
                if (_this.selectedRow.dr) {
                    /** @type {?} */
                    var cells_1 = _this.selectedRow.dr.cells.toArray();
                    if (!cells_1 || !cells_1.length) {
                        return;
                    }
                    cells_1.forEach((/**
                     * @param {?} cell
                     * @return {?}
                     */
                    function (cell) {
                        if (cell.column.editor) {
                            cell.isEditing = true;
                        }
                    }));
                    _this.selectedRow.dr.cd.detectChanges();
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        /** @type {?} */
                        var editors = cells_1.map((/**
                         * @param {?} cell
                         * @return {?}
                         */
                        function (cell) {
                            if (cell.cellEditor) {
                                return cell.cellEditor.componentRef;
                            }
                        })).filter((/**
                         * @param {?} editor
                         * @return {?}
                         */
                        function (editor) { return editor; }));
                        _this.selectedRow.editors = editors;
                        if (editors && editors.length) {
                            if (editors[0].instance.inputElement) {
                                editors[0].instance.inputElement.focus();
                            }
                        }
                        // 绑定键盘事件
                        _this.bindRowEditorKeydownEvent();
                        if (!_this.cd['destroyed']) {
                            _this.cd.detectChanges();
                        }
                        _this.beginEdit.emit({ rowIndex: rowIndex, rowData: rowData, gridInstance: _this, editor: editors });
                    }));
                }
            }
        }));
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.endRowEdit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (!this.isRowEditing()) {
            return { canEnd: true };
        }
        if (!this.selectedRow || this.selectedRow.index === -1) {
            console.warn('Please select a row.');
            return;
        }
        var _a = tslib_1.__assign({}, this.selectedRow), rowIndex = _a.index, rowData = _a.data, dr = _a.dr;
        var _b = tslib_1.__assign({}, this.currentCell), currentEditor = _b.editor, column = _b.column;
        // blur
        document.body.click();
        if (this.pending) {
            return { canEnd: false };
        }
        /** @type {?} */
        var rowForm = (/** @type {?} */ (dr.form));
        rowForm.markAsTouched();
        if (rowForm.invalid && !this.endEditByInvalid) {
            return { canEnd: false };
        }
        // afterEdit 要传递相关参数，在编辑状态时，移动滚动条会出事
        /** @type {?} */
        var afterEditEvent = this.afterEdit(rowIndex, rowData, column, currentEditor);
        if (!afterEditEvent || !afterEditEvent.subscribe) {
            console.warn('please return an Observable Type.');
            return { canEnd: false };
        }
        afterEditEvent.subscribe((/**
         * @param {?} flag
         * @return {?}
         */
        function (flag) {
            if (flag) {
                _this.closeAllCellEditor();
                if (_this.selectedRow.dr.form) {
                    _this.selectedRow.dr.rowData = Object.assign(_this.selectedRow.dr.rowData, _this.selectedRow.dr.form.value);
                    _this.dfs.updateRow(_this.selectedRow.id, _this.selectedRow.dr.rowData);
                    _this.cd.detectChanges();
                }
                /** @type {?} */
                var val = '';
                if (currentEditor && currentEditor.formControl) {
                    val = currentEditor.formControl.value;
                }
                _this.endEdit.emit({ rowIndex: rowIndex, rowData: rowData, column: column, value: val });
                _this.dgs.refreshFooterData.emit();
            }
        }));
    };
    /**
     * @param {?} rowId
     * @param {?=} emit
     * @return {?}
     */
    DatagridComponent.prototype.cancelEdit = /**
     * @param {?} rowId
     * @param {?=} emit
     * @return {?}
     */
    function (rowId, emit) {
        if (emit === void 0) { emit = true; }
        if (!this.isEditing()) {
            return;
        }
        this.closeAllCellEditor();
        if (rowId) {
            this.dfs.rejectChanges(rowId);
        }
        this.cd.detectChanges();
        if (emit) {
            this.cancelEdited.emit();
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.closeAllCellEditor = /**
     * @return {?}
     */
    function () {
        if (this.selectedRow && this.selectedRow.dr) {
            /** @type {?} */
            var cells = this.selectedRow.dr.cells;
            if (cells) {
                cells.forEach((/**
                 * @param {?} cell
                 * @return {?}
                 */
                function (cell) { return cell.isEditing = false; }));
                if (this.currentCell) {
                    this.currentCell.isEditing = false;
                }
            }
            this.selectedRow.editors = null;
        }
        // 取消键盘事件
        this.unbindRowEditorKeydownEvent();
    };
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    DatagridComponent.prototype.rowEditTabKeydwonEvent = /**
     * @private
     * @param {?} e
     * @return {?}
     */
    function (e) {
        var _this = this;
        /** @type {?} */
        var keyCode = e.which || e.keyCode;
        if (keyCode === 9) { // tab
            // tab
            /** @type {?} */
            var td = e.target.closest('td');
            /** @type {?} */
            var tr_1 = e.target.closest('tr');
            /** @type {?} */
            var nextTd_1 = td.nextElementSibling;
            /** @type {?} */
            var hasNoEditor = (/**
             * @param {?} _td
             * @return {?}
             */
            function (_td) {
                return !_td.querySelector('input') && !_td.querySelector('textarea') && !_td.querySelector('select');
            });
            /** @type {?} */
            var editNextRow = (/**
             * @return {?}
             */
            function () {
                /** @type {?} */
                var nextTr = tr_1.nextElementSibling;
                if (nextTr) {
                    nextTr.click();
                    /** @type {?} */
                    var nextRowid = nextTr.getAttribute('id').replace(TR_PREFIX, '');
                    if (nextRowid) {
                        _this.editRow(nextRowid);
                    }
                }
            });
            if (nextTd_1) {
                if (hasNoEditor(nextTd_1)) {
                    /** @type {?} */
                    var tds = tr_1.querySelectorAll('td');
                    /** @type {?} */
                    var tdIdx_1 = -1;
                    tds.forEach((/**
                     * @param {?} t
                     * @param {?} i
                     * @return {?}
                     */
                    function (t, i) {
                        if (t === nextTd_1) {
                            tdIdx_1 = i;
                        }
                    }));
                    /** @type {?} */
                    var nextTrEdit = true;
                    while (tdIdx_1 < tds.length) {
                        /** @type {?} */
                        var _ntd = tds[tdIdx_1];
                        if (hasNoEditor(_ntd)) {
                            tdIdx_1++;
                        }
                        else {
                            nextTrEdit = false;
                            break;
                        }
                    }
                    if (nextTrEdit) {
                        editNextRow();
                    }
                }
            }
            else {
                editNextRow();
            }
        }
        e.stopPropagation();
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.bindRowEditorKeydownEvent = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (!this.documentRowEditKeydownHanlder) {
            this.documentRowEditKeydownHanlder = this.render2.listen(document, 'keydown', this.rowEditTabKeydwonEvent.bind(this));
        }
        this.documentClickEndRowEditHandler = this.render2.listen(document, 'click', (/**
         * @param {?} e
         * @return {?}
         */
        function (e) {
            if (_this.pending) {
                return false;
            }
            if (Utils.hasDialogOpen()) {
                return;
            }
            if (_this.isRowEditing()) {
                // this.endRowEdit();
            }
        }));
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.unbindRowEditorKeydownEvent = /**
     * @private
     * @return {?}
     */
    function () {
        // 取消键盘事件
        if (this.documentRowEditKeydownHanlder) {
            this.documentRowEditKeydownHanlder();
            this.documentRowEditKeydownHanlder = null;
        }
        if (this.documentClickEndRowEditHandler) {
            this.documentClickEndRowEditHandler();
            this.documentClickEndRowEditHandler = null;
        }
    };
    //#endregion
    //#region Load Data
    //#endregion
    //#region Load Data
    /**
     * @private
     * @param {?} conditions
     * @param {?=} excuteLocaleFilter
     * @return {?}
     */
    DatagridComponent.prototype._clientFilter = 
    //#endregion
    //#region Load Data
    /**
     * @private
     * @param {?} conditions
     * @param {?=} excuteLocaleFilter
     * @return {?}
     */
    function (conditions, excuteLocaleFilter) {
        if (excuteLocaleFilter === void 0) { excuteLocaleFilter = false; }
        // 客户端过滤
        if (excuteLocaleFilter) {
            /** @type {?} */
            var allClientData = this.dfs.getData(true);
            if (conditions && Object.keys(conditions).length) {
                /** @type {?} */
                var _data = this.clientFilterService.executeFilter(allClientData, conditions);
                this.dfs.loadFilterData(_data);
            }
            else {
                this.loadData(allClientData, false, true);
            }
        }
        if (!this.virtualized) {
            this.scrollToTop();
        }
        this.filterChanged.emit(conditions);
    };
    /**
     * @private
     * @param {?} conditions
     * @return {?}
     */
    DatagridComponent.prototype.smartFilterData = /**
     * @private
     * @param {?} conditions
     * @return {?}
     */
    function (conditions) {
        if (this.remoteFilter) { // 服务器端过滤
            // 服务器端过滤
            /** @type {?} */
            var entityFilters = this.clientFilterService.convertSmartFilter2EntityFilter(conditions);
            this.filterChanged.emit(entityFilters);
        }
        else {
            // 客户端过滤
            this._clientFilter(conditions, this.useDefaultFilter);
        }
    };
    // smart fitler 清空查询条件
    // smart fitler 清空查询条件
    /**
     * @param {?} $event
     * @return {?}
     */
    DatagridComponent.prototype.onClearSmartFilters = 
    // smart fitler 清空查询条件
    /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        var _this = this;
        this.smartFilterResult = { conditions: [], controlData: [] };
        this.conditions = [];
        this.smartFilterData([]);
        this.smartFilterService.clearAll();
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.onFilterBarResize(0);
        }));
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    DatagridComponent.prototype.onRemoveSmartFilterItem = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        // console.log($event);
        if ($event) {
            /** @type {?} */
            var e = tslib_1.__assign({}, $event);
            e['labelCode'] = $event.fieldCode;
            this.smartFilterService.removeCondition(e, true);
        }
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    DatagridComponent.prototype.onFilterBarResize = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        this.filterBarHeight = $event;
        /** @type {?} */
        var smartFilterEl = this.el.nativeElement.querySelector('.f-datagrid-column-drop-panel');
        if (smartFilterEl && !$event) {
            smartFilterEl.style.top = '0px';
        }
        this.dgs.showGridHeader.emit(this.realHeaderHeight);
        this.dgs.smartFilterBarExpand.emit();
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    DatagridComponent.prototype.onSmartFilterChange = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        var conditions = $event.conditions, filterItem = $event.filterItem;
        this.smartFilterService.filterConditionChanged({ conditions: conditions, controlData: filterItem });
        // this.smartFilterData(conditions);
        // console.log(this.smartFilterResult, filterItem);
        this.dgs.smartFilterDataChange.emit(filterItem);
    };
    /**
     * @param {?=} conditions
     * @return {?}
     */
    DatagridComponent.prototype.filterData = /**
     * @param {?=} conditions
     * @return {?}
     */
    function (conditions) {
        if (!conditions) {
            conditions = this.conditions;
        }
        else {
            this.conditions = conditions;
        }
        this.scrollToTop();
        if (this.enableSmartFilter) {
            this.smartFilterData(conditions);
            return;
        }
        if (this.remoteFilter) {
            /** @type {?} */
            var entityFilters = this.clientFilterService.convert2FilterArray(conditions);
            this.filterChanged.emit(entityFilters);
        }
        else {
            // 客户端过滤
            this._clientFilter(conditions, true);
        }
    };
    /** 清空过滤条件 */
    /**
     * 清空过滤条件
     * @return {?}
     */
    DatagridComponent.prototype.clearCondition = /**
     * 清空过滤条件
     * @return {?}
     */
    function () {
        this.dgs.onClearFilter();
    };
    /**
     * @param {?=} data
     * @param {?=} keepSortState
     * @param {?=} keepScrollPosition
     * @return {?}
     */
    DatagridComponent.prototype.loadData = /**
     * @param {?=} data
     * @param {?=} keepSortState
     * @param {?=} keepScrollPosition
     * @return {?}
     */
    function (data, keepSortState, keepScrollPosition) {
        if (keepSortState === void 0) { keepSortState = false; }
        if (keepScrollPosition === void 0) { keepScrollPosition = true; }
        if (this.loading) {
            this.closeLoading(!this.pagination);
        }
        data = data || [];
        if (keepScrollPosition && this.scrollInstance && this.scrollInstance.instance) {
            /** @type {?} */
            var lst = this.scrollInstance.instance.lastScrollTop;
            /** @type {?} */
            var lsl = this.scrollInstance.instance.lastScrollLeft;
            this.dfs.updateProperty('scrollInfo', { y: lst, x: lsl });
        }
        else {
            this.dfs.updateProperty('scrollInfo', { y: 0, x: 0 });
        }
        if (this.pagination) {
            this.dfs.setPagination(this.pageIndex, this.pageSize, this.total);
            this.updatePagerOptions();
            this.cd.detectChanges();
        }
        // 重新加载数据时，移除所有编辑列
        // this.closeAllCellEditor();
        this.data = data;
        if (keepSortState) {
            if (this.remoteSort) {
                this.dfs.loadData(data);
            }
            else {
                this.dfs.loadData(data, true, true);
            }
        }
        else {
            this.dfs.loadData(data);
        }
        this.setPagerHeight();
        this.dgs.dataSourceChanged();
    };
    /**
     * @param {?} data
     * @return {?}
     */
    DatagridComponent.prototype.loadVirtualData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        if (this.groupRows) {
            console.warn('if you using GROUPROWS, please set [virtualized]="false" [virtualizedAsyncLoad]="false"');
            return;
        }
        if (this.virtualizedAsyncLoad) {
            this.dgs.onLoadVirtualData(data);
        }
    };
    /**
     * @param {?} pageIndex
     * @param {?} pageSize
     * @return {?}
     */
    DatagridComponent.prototype.fetchData = /**
     * @param {?} pageIndex
     * @param {?} pageSize
     * @return {?}
     */
    function (pageIndex, pageSize) {
        if (this.restService) {
            this.showLoading();
            /** @type {?} */
            var params = { pageIndex: pageIndex, pageSize: pageSize };
            if (this.sortName) {
                params['sortName'] = this.sortName;
            }
            if (this.sortOrder) {
                params['sortOrder'] = this.sortOrder;
            }
            return this.restService.getData(this.url, params);
        }
        return of(undefined);
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.refresh = /**
     * @return {?}
     */
    function () {
        this.dfs.refresh();
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.reload = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.fetchData(1, this.pageSize).subscribe((/**
         * @param {?} res
         * @return {?}
         */
        function (res) {
            if (res) {
                _this.pageIndex = 1;
                _this.total = res.total;
                _this.loadData(res.items);
            }
        }));
    };
    /** 获取当前页数据 */
    /**
     * 获取当前页数据
     * @return {?}
     */
    DatagridComponent.prototype.getRows = /**
     * 获取当前页数据
     * @return {?}
     */
    function () {
        if (this.groupRows || this.virtualized) {
            if (this.pagerOnServer) {
                return this.ds.rows;
            }
            else {
                return this.currentPagerData;
            }
        }
        else {
            if (this.pagerOnServer) {
                return this.data;
            }
            else {
                return this.currentPagerData;
            }
        }
    };
    //#endregion
    //#region Pagination
    //#endregion
    //#region Pagination
    /**
     * @param {?} pageIndex
     * @param {?=} detectChanges
     * @return {?}
     */
    DatagridComponent.prototype.setPageIndex = 
    //#endregion
    //#region Pagination
    /**
     * @param {?} pageIndex
     * @param {?=} detectChanges
     * @return {?}
     */
    function (pageIndex, detectChanges) {
        if (detectChanges === void 0) { detectChanges = true; }
        this.pageIndex = pageIndex;
        this.pagerOpts.currentPage = pageIndex;
        if (detectChanges) {
            this.cd.detectChanges();
        }
    };
    // 更新每页
    // 更新每页
    /**
     * @param {?} pageList
     * @param {?=} detectChanges
     * @return {?}
     */
    DatagridComponent.prototype.setPageList = 
    // 更新每页
    /**
     * @param {?} pageList
     * @param {?=} detectChanges
     * @return {?}
     */
    function (pageList, detectChanges) {
        if (detectChanges === void 0) { detectChanges = true; }
        this.pageList = pageList;
        this.pagerOpts.pageList = pageList;
        if (detectChanges) {
            this.cd.detectChanges();
        }
    };
    /**
     * @param {?} pageIndex
     * @return {?}
     */
    DatagridComponent.prototype.onPageChange = /**
     * @param {?} pageIndex
     * @return {?}
     */
    function (pageIndex) {
        var _this = this;
        if (this.lockPagination) {
            return;
        }
        if (this.controlPaginationState) {
            this.setPageIndex(pageIndex, false);
        }
        this.fetchData(pageIndex, this.pageSize).subscribe((/**
         * @param {?} res
         * @return {?}
         */
        function (res) {
            if (res) {
                _this.loadData(res.items);
            }
        }));
        this.focusRowIndex = -1;
        this.scrollToTop();
        this.pageChanged.emit({ pageIndex: pageIndex, pageSize: this.pageSize });
    };
    /**
     * @param {?} pageSize
     * @return {?}
     */
    DatagridComponent.prototype.onPageSizeChange = /**
     * @param {?} pageSize
     * @return {?}
     */
    function (pageSize) {
        var _this = this;
        if (this.lockPagination) {
            return;
        }
        this.focusRowIndex = -1;
        this.scrollToTop();
        this.pageSize = pageSize;
        this.pagerOpts.itemsPerPage = pageSize;
        this.fetchData(1, pageSize).subscribe((/**
         * @param {?} res
         * @return {?}
         */
        function (res) {
            if (res) {
                _this.pageIndex = 1;
                _this.loadData(res.items);
            }
        }));
        this.pageSizeChanged.emit({ pageSize: pageSize, pageIndex: this.pageIndex });
    };
    /**
     * @param {?} id
     * @return {?}
     */
    DatagridComponent.prototype.onRemoveSelectedItem = /**
     * @param {?} id
     * @return {?}
     */
    function (id) {
        if (this.dfs.findRowIndex(id) > -1) {
            this.unCheckRow(id);
            this.cd.detectChanges();
        }
        else {
            this.unCheckRow(id, false);
            this.checkValues = this.checkeds.map((/**
             * @param {?} r
             * @return {?}
             */
            function (r) { return r.id; }));
        }
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    DatagridComponent.prototype.onClearSelectedItem = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        // this.clearAll();
        if (this.selectOnCheck) {
            this.selectValue = '';
        }
        this.clearCheckeds(true);
    };
    //#endregion
    //#region Loading
    //#endregion
    //#region Loading
    /**
     * @return {?}
     */
    DatagridComponent.prototype.showLoading = 
    //#endregion
    //#region Loading
    /**
     * @return {?}
     */
    function () {
        this.loading = true;
        this.cd.detectChanges();
    };
    /**
     * @param {?=} detectChanges
     * @return {?}
     */
    DatagridComponent.prototype.closeLoading = /**
     * @param {?=} detectChanges
     * @return {?}
     */
    function (detectChanges) {
        if (detectChanges === void 0) { detectChanges = true; }
        this.loading = false;
        if (detectChanges) {
            this.cd.detectChanges();
        }
    };
    //#endregion
    //#region Dom
    //#endregion
    //#region Dom
    /**
     * @private
     * @param {?} strNum
     * @return {?}
     */
    DatagridComponent.prototype.replacePX2Empty = 
    //#endregion
    //#region Dom
    /**
     * @private
     * @param {?} strNum
     * @return {?}
     */
    function (strNum) {
        if (strNum) {
            return Number.parseInt(strNum.replace('px', ''), 10);
        }
        return 0;
    };
    /**
     * @param {?} cls
     * @param {?} dom
     * @return {?}
     */
    DatagridComponent.prototype.renderCustomCls = /**
     * @param {?} cls
     * @param {?} dom
     * @return {?}
     */
    function (cls, dom) {
        var _this = this;
        if (cls) {
            if (cls[0] === '!') {
                /** @type {?} */
                var _cls = cls.slice(1).split(' ').filter((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return c; }));
                _cls.forEach((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) {
                    if (c) {
                        _this.render2.removeClass(dom, c);
                    }
                }));
            }
            else {
                cls.split(' ').filter((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return c; })).forEach((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) {
                    if (c) {
                        _this.render2.addClass(dom, c);
                    }
                }));
            }
        }
    };
    /**
     * @param {?} cs
     * @param {?} dom
     * @param {?=} cssRuleText
     * @return {?}
     */
    DatagridComponent.prototype.renderCustomStyle = /**
     * @param {?} cs
     * @param {?} dom
     * @param {?=} cssRuleText
     * @return {?}
     */
    function (cs, dom, cssRuleText) {
        if (cssRuleText === void 0) { cssRuleText = null; }
        if (!cs) {
            return;
        }
        if (cs.cls) {
            this.renderCustomCls(cs.cls, dom);
        }
        if (cs.style) {
            if (!cssRuleText) {
                cssRuleText = this.customStyleKey() + " #" + dom.id + " " + JSON.stringify(cs.style);
            }
            this.dgs.appendCssRules([cssRuleText]);
        }
    };
    /**
     * @param {?} el
     * @return {?}
     */
    DatagridComponent.prototype.getBoundingClientRect = /**
     * @param {?} el
     * @return {?}
     */
    function (el) {
        return el.nativeElement.getBoundingClientRect();
    };
    /**
     * @param {?} el
     * @return {?}
     */
    DatagridComponent.prototype.getElementPadding = /**
     * @param {?} el
     * @return {?}
     */
    function (el) {
        /** @type {?} */
        var style = getComputedStyle(el);
        return {
            top: this.replacePX2Empty(style.paddingTop),
            left: this.replacePX2Empty(style.paddingLeft),
            bottom: this.replacePX2Empty(style.paddingBottom),
            right: this.replacePX2Empty(style.paddingRight)
        };
    };
    /**
     * @param {?} el
     * @return {?}
     */
    DatagridComponent.prototype.getElementBorderWidth = /**
     * @param {?} el
     * @return {?}
     */
    function (el) {
        /** @type {?} */
        var style = getComputedStyle(el);
        return {
            top: this.replacePX2Empty(style.borderTopWidth),
            bottom: this.replacePX2Empty(style.borderBottomWidth),
            right: this.replacePX2Empty(style.borderRightWidth),
            left: this.replacePX2Empty(style.borderLeftWidth)
        };
    };
    /**
     * @param {?} field
     * @param {?} data
     * @param {?} formatter
     * @return {?}
     */
    DatagridComponent.prototype.formatData = /**
     * @param {?} field
     * @param {?} data
     * @param {?} formatter
     * @return {?}
     */
    function (field, data, formatter) {
        /** @type {?} */
        var value = this.getFieldValue(field, data);
        return this.colFormatSer.format(value, data, formatter);
    };
    /**
     * @param {?} field
     * @param {?} rowData
     * @return {?}
     */
    DatagridComponent.prototype.getFieldValue = /**
     * @param {?} field
     * @param {?} rowData
     * @return {?}
     */
    function (field, rowData) {
        return Utils.getValue(field, rowData);
    };
    //#endregion
    //#region Select
    //#endregion
    //#region Select
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.canOperateCheckbox = 
    //#endregion
    //#region Select
    /**
     * @private
     * @return {?}
     */
    function () {
        return this.multiSelect && this.showCheckbox;
    };
    /**
     * @private
     * @param {?} field
     * @param {?} dir
     * @return {?}
     */
    DatagridComponent.prototype.findNextCell = /**
     * @private
     * @param {?} field
     * @param {?} dir
     * @return {?}
     */
    function (field, dir) {
        /** @type {?} */
        var td = null;
        if (this.currentCell && this.currentCell.cellElement) {
            /** @type {?} */
            var fixed = this.dfs.getColumn(field).fixed || '';
            /** @type {?} */
            var cellIndex = this.dfs.getColumnIndex(field, fixed);
            if (fixed === 'left') {
                if (this.showCheckbox) {
                    cellIndex += 1;
                }
                if (this.showLineNumber) {
                    cellIndex += 1;
                }
            }
            /** @type {?} */
            var currCellEl = this.currentCell.cellElement;
            if (dir === 'up') {
                /** @type {?} */
                var prevTr = this.dgs.findNextTr(currCellEl.parentElement.previousElementSibling, 'up');
                if (prevTr) {
                    td = prevTr.children[cellIndex];
                }
            }
            else if (dir === 'down') {
                /** @type {?} */
                var nextTr = this.dgs.findNextTr(currCellEl.parentElement.nextElementSibling, 'down');
                if (nextTr) {
                    td = nextTr.children[cellIndex];
                }
            }
            else if (dir === 'left') {
                td = currCellEl.previousElementSibling;
            }
            else if (dir === 'right') {
                td = currCellEl.nextElementSibling;
            }
        }
        return td;
    };
    /**
     * @param {?} dir
     * @param {?} event
     * @return {?}
     */
    DatagridComponent.prototype.selectNextCell = /**
     * @param {?} dir
     * @param {?} event
     * @return {?}
     */
    function (dir, event) {
        /** @type {?} */
        var nextTd = this.findNextCell(this.currentCell.field, dir);
        if (dir === 'up' && !nextTd) {
            return;
        }
        if (nextTd) {
            if (event['code'] === 'Tab' && this.editable && this.editcellWhenTabKeydwon) {
                nextTd['click'].apply(nextTd, [event]);
            }
            else {
                nextTd['selectCell'](event, nextTd);
            }
            // nextTd['selectCell'](event, nextTd);
            return nextTd;
        }
        else {
            /** @type {?} */
            var tr = this.currentCell.cellElement.parentElement;
            /** @type {?} */
            var _next = tr.nextElementSibling;
            if (dir === 'left') {
                _next = tr.previousElementSibling;
            }
            /** @type {?} */
            var nextTr = this.dgs.findNextTr(_next, dir === 'left' ? 'up' : 'down');
            if (nextTr && nextTr.tagName === 'TR') {
                // nextTr.children.find(td => td.editCell).editCell();
                /** @type {?} */
                var firstEditor = false;
                /** @type {?} */
                var i = 0;
                // while (!firstEditor) {
                //     firstEditor = !!nextTr.children[i].editCell;
                //     if (!firstEditor) {
                //         i++;
                //     }
                // }
                nextTr.children[i].selectCell(event, nextTr.children[i]);
            }
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.selectNextRow = /**
     * @return {?}
     */
    function () {
        if (this.selectedRow) {
            /** @type {?} */
            var tr = this.selectedRow.dr.el.nativeElement;
            if (tr.nextElementSibling) {
                tr.nextElementSibling.click();
            }
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.selectPrevRow = /**
     * @return {?}
     */
    function () {
        if (this.selectedRow) {
            /** @type {?} */
            var tr = this.selectedRow.dr.el.nativeElement;
            if (tr.previousElementSibling) {
                tr.previousElementSibling.click();
            }
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.removeCellSelectedCls = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var selectedCell = this.el.nativeElement.querySelectorAll('.' + CELL_SELECTED_CLS);
        if (selectedCell.length) {
            selectedCell.forEach((/**
             * @param {?} n
             * @return {?}
             */
            function (n) {
                _this.render2.removeClass(n, CELL_SELECTED_CLS);
            }));
        }
    };
    /**
     * 选中行
     * @param id 选中行ID
     * @param emit 触发select 事件
     * @param toCurrentPosition 滚动条定位到当前选择中行
     */
    /**
     * 选中行
     * @param {?} id 选中行ID
     * @param {?=} emit 触发select 事件
     * @param {?=} toCurrentPosition 滚动条定位到当前选择中行
     * @return {?}
     */
    DatagridComponent.prototype.selectRow = /**
     * 选中行
     * @param {?} id 选中行ID
     * @param {?=} emit 触发select 事件
     * @param {?=} toCurrentPosition 滚动条定位到当前选择中行
     * @return {?}
     */
    function (id, emit, toCurrentPosition) {
        if (emit === void 0) { emit = true; }
        if (toCurrentPosition === void 0) { toCurrentPosition = false; }
        this.removeCellSelectedCls();
        if (!this.multiSelect && this.showCheckbox) {
            this.clearCheckeds(false, false);
        }
        if (this.selectionMode === 'default') {
            this.clearAll();
        }
        if (id && (!this.selectedRow || this.selectedRow.id != id)) {
            /** @type {?} */
            var row = this.dfs.findRow(id);
            if (row && this.disableRow) {
                if (this.disableRow(row.data, row.index)) {
                    return;
                }
            }
            if (emit) {
                this.dfs.selectRecord(id);
            }
            else {
                this.dfs.setSelectRow(id);
                this.selectedRow = this.dfs.getCurrentRow();
                if (this.checkOnSelect) {
                    this.checkRows([id]);
                }
                this.dgs.setSelecedRow.emit({ id: id, selected: true });
            }
        }
        else {
            if (this.checkOnSelect) {
                this.checkRows([id]);
            }
        }
        if (toCurrentPosition) {
            this.scrollToCurrentRow();
        }
    };
    /**
     * 滚动条滚动到当前行的位置
     */
    /**
     * 滚动条滚动到当前行的位置
     * @return {?}
     */
    DatagridComponent.prototype.scrollToCurrentRow = /**
     * 滚动条滚动到当前行的位置
     * @return {?}
     */
    function () {
        this.dgs.scrollToCurrentRow.next();
    };
    /**
     * @param {?} id
     * @param {?=} emit
     * @return {?}
     */
    DatagridComponent.prototype.unSelectRow = /**
     * @param {?} id
     * @param {?=} emit
     * @return {?}
     */
    function (id, emit) {
        if (emit === void 0) { emit = true; }
        if (id) {
            this.closeAllCellEditor();
            if (this.currentCell && this.currentCell.rowId == id) {
                this.cancelSelectCell();
            }
            if (emit) {
                this.dfs.selectRecord(id, false);
            }
            else {
                this.dfs.setSelectRow(id, false);
                this.selectedRow = null;
                this.dgs.setSelecedRow.emit({ id: id, selected: false });
            }
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.selectAllRows = /**
     * @return {?}
     */
    function () {
        if (this.multiSelect) {
            this.dfs.selectAll();
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.cancelSelectCell = /**
     * @return {?}
     */
    function () {
        if (this.currentCell) {
            this.currentCell.cellElement.cancelSelected();
            if (!this.currentCell.isEditing) {
                this.currentCell = null;
                this.dfs.cancelSelectCell();
            }
        }
    };
    /**
     * @param {?=} excludeIds
     * @return {?}
     */
    DatagridComponent.prototype.clearSelections = /**
     * @param {?=} excludeIds
     * @return {?}
     */
    function (excludeIds) {
        this.dfs.clearSelections(excludeIds);
        this.selectedRow = null;
        this.cancelSelectCell();
        this.cd.detectChanges();
    };
    /**
     * @param {?} id
     * @param {?=} emit
     * @return {?}
     */
    DatagridComponent.prototype.checkRow = /**
     * @param {?} id
     * @param {?=} emit
     * @return {?}
     */
    function (id, emit) {
        if (emit === void 0) { emit = true; }
        if (this.canOperateCheckbox()) {
            if (emit) {
                this.dfs.checkRecord(id);
            }
            else {
                this.checkRows([id]);
            }
        }
    };
    /** 钩选行，不触发选中事件 */
    /**
     * 钩选行，不触发选中事件
     * @param {?} ids
     * @param {?=} emit
     * @return {?}
     */
    DatagridComponent.prototype.checkRows = /**
     * 钩选行，不触发选中事件
     * @param {?} ids
     * @param {?=} emit
     * @return {?}
     */
    function (ids, emit) {
        if (emit === void 0) { emit = false; }
        if (ids && ids.length) {
            this.dfs.setCheckedRows(ids, true);
            this.dgs.setCheckedRows.next({ ids: ids, checked: true });
            if (this.selectionMode === 'default') {
                this.dfs.updateProperty('selections', this.checkeds);
            }
            // this.cd.detectChanges();
            if (emit) {
                this.checkValues = this.checkeds.map((/**
                 * @param {?} r
                 * @return {?}
                 */
                function (r) { return r.id; }));
                this.checkValuesChange.emit(this.checkValues);
                this.checkedChange.emit(this.checkeds);
            }
        }
    };
    /** 取消钩选，不触发选中事件 */
    /**
     * 取消钩选，不触发选中事件
     * @param {?} ids
     * @param {?=} emit
     * @return {?}
     */
    DatagridComponent.prototype.unCheckRows = /**
     * 取消钩选，不触发选中事件
     * @param {?} ids
     * @param {?=} emit
     * @return {?}
     */
    function (ids, emit) {
        if (emit === void 0) { emit = false; }
        if (ids && ids.length) {
            this.dfs.setCheckedRows(ids, false);
            this.dgs.setCheckedRows.next({ ids: ids, checked: false });
            // this.cd.detectChanges();
            if (emit) {
                this.checkValues = this.checkeds.map((/**
                 * @param {?} r
                 * @return {?}
                 */
                function (r) { return r.id; }));
                this.checkValuesChange.emit(this.checkValues);
                this.checkedChange.emit(this.checkeds);
            }
        }
    };
    /**
     * @param {?=} emit
     * @return {?}
     */
    DatagridComponent.prototype.checkAllRows = /**
     * @param {?=} emit
     * @return {?}
     */
    function (emit) {
        if (emit === void 0) { emit = true; }
        if (this.canOperateCheckbox()) {
            this.dfs.checkAll();
            this.dgs.checkAll.emit();
            if (emit) {
                this.checkAll.emit();
            }
        }
    };
    /**
     * @param {?} id
     * @param {?=} emit
     * @return {?}
     */
    DatagridComponent.prototype.unCheckRow = /**
     * @param {?} id
     * @param {?=} emit
     * @return {?}
     */
    function (id, emit) {
        if (emit === void 0) { emit = true; }
        if (this.canOperateCheckbox()) {
            if (this.currentCell && this.currentCell.rowId == id) {
                this.cancelSelectCell();
            }
            if (emit) {
                this.dfs.checkRecord(id, false);
            }
            else {
                this.unCheckRows([id]);
            }
        }
    };
    /** 清空钩选行，默认只清空当前页的钩选
     * clearAll: 清空所有 默认为 false; 否则仅清空当前页的钩选数据。
     */
    /**
     * 清空钩选行，默认只清空当前页的钩选
     * clearAll: 清空所有 默认为 false; 否则仅清空当前页的钩选数据。
     * @param {?=} clearAll
     * @param {?=} emitUnCheckAll
     * @return {?}
     */
    DatagridComponent.prototype.clearCheckeds = /**
     * 清空钩选行，默认只清空当前页的钩选
     * clearAll: 清空所有 默认为 false; 否则仅清空当前页的钩选数据。
     * @param {?=} clearAll
     * @param {?=} emitUnCheckAll
     * @return {?}
     */
    function (clearAll, emitUnCheckAll) {
        if (clearAll === void 0) { clearAll = false; }
        if (emitUnCheckAll === void 0) { emitUnCheckAll = true; }
        this.dfs.clearCheckeds(clearAll);
        this.checkValues = [];
        this.cancelSelectCell();
        if (emitUnCheckAll) {
            this.dgs.uncheckAll.emit();
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.clearAll = /**
     * @return {?}
     */
    function () {
        this.dfs.clearAll();
        this.checkValues = [];
        this.dgs.uncheckAll.emit();
    };
    //#endregion
    //#region Resize Column
    //#endregion
    //#region Resize Column
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    DatagridComponent.prototype.getResizeProxyPosLeft = 
    //#endregion
    //#region Resize Column
    /**
     * @private
     * @param {?} e
     * @return {?}
     */
    function (e) {
        /** @type {?} */
        var target = (/** @type {?} */ (e.target));
        /** @type {?} */
        var dgRect = this.getBoundingClientRect(this.dgContainer);
        /** @type {?} */
        var td = target.parentElement;
        /** @type {?} */
        var tdLeft = td.getBoundingClientRect().left;
        /** @type {?} */
        var deltaEdge = td.offsetWidth - (e.pageX - tdLeft);
        this.resizeColumnInfo.proxyLineEdge = deltaEdge;
        this.resizeColumnInfo.startWidth = td.offsetWidth;
        this.resizeColumnInfo.startX = e.pageX;
        this.resizeColumnInfo.left = tdLeft - dgRect.left - 1 + deltaEdge;
        return e.pageX - dgRect.left - 1 + deltaEdge;
    };
    /**
     * @private
     * @param {?=} show
     * @return {?}
     */
    DatagridComponent.prototype.toggleResizeProxy = /**
     * @private
     * @param {?=} show
     * @return {?}
     */
    function (show) {
        if (show === void 0) { show = true; }
        /** @type {?} */
        var display = 'block';
        if (!show) {
            display = 'none';
        }
        this.render2.setStyle(this.resizeProxyBg.nativeElement, 'display', display);
        this.render2.setStyle(this.resizeProxy.nativeElement, 'display', display);
    };
    /**
     * @param {?} e
     * @return {?}
     */
    DatagridComponent.prototype.onColumnResizeBegin = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        if (this.resizeProxy) {
            this.render2.setStyle(document.body, 'cursor', 'e-resize');
            /** @type {?} */
            var proxy = this.resizeProxy.nativeElement;
            /** @type {?} */
            var proxyPosLeft = this.getResizeProxyPosLeft(e);
            this.render2.setStyle(proxy, 'left', proxyPosLeft + 'px');
            /** @type {?} */
            var top_1 = 0;
            if ((this.enableFilterRow || this.enableSmartFilter) && this.showFilterBar) {
                top_1 += this.filterBarHeight;
            }
            if (this.showRowGroupPanel) {
                top_1 += this.rowGroupPanelHeight;
            }
            this.render2.setStyle(proxy, 'top', top_1 + "px");
            if (!this.autoHeight) {
                this.render2.setStyle(proxy, 'height', (this.height - this.pagerHeight) + 'px');
            }
            else {
                /** @type {?} */
                var bottomH = 0;
                if (this.pagination) {
                    bottomH += this.pagerHeight;
                }
                if (this.showFooter) {
                    bottomH += this.footerHeight;
                }
                this.render2.setStyle(proxy, 'height', "calc(100% - " + bottomH + "px)");
            }
            this.toggleResizeProxy();
        }
    };
    /**
     * @param {?} e
     * @return {?}
     */
    DatagridComponent.prototype.onColumnResize = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        /** @type {?} */
        var proxy = this.resizeProxy.nativeElement;
        /** @type {?} */
        var dgRect = this.getBoundingClientRect(this.dgContainer);
        /** @type {?} */
        var proxyPosLeft = e.pageX - dgRect.left - 1 + this.resizeColumnInfo.proxyLineEdge;
        if (proxyPosLeft - this.resizeColumnInfo.left > 20) {
            this.render2.setStyle(proxy, 'left', proxyPosLeft + 'px');
        }
        else {
            this.render2.setStyle(proxy, 'left', (this.resizeColumnInfo.left + 20) + 'px');
        }
        e.stopPropagation();
        e.preventDefault();
    };
    /**
     * @param {?} e
     * @param {?} col
     * @return {?}
     */
    DatagridComponent.prototype.onColumnResizeEnd = /**
     * @param {?} e
     * @param {?} col
     * @return {?}
     */
    function (e, col) {
        var _this = this;
        this.render2.removeStyle(document.body, 'cursor');
        this.toggleResizeProxy(false);
        this.resizeColumnInfo.proxyLineEdge = 0;
        /** @type {?} */
        var newColWidth = this.resizeColumnInfo.startWidth + e.pageX - this.resizeColumnInfo.startX;
        if (newColWidth < 20) {
            newColWidth = 20;
        }
        if (col.width > newColWidth) {
            /** @type {?} */
            var t = col.width - newColWidth;
            if (!this.fitColumns && this.scrollInstance.elementRef.nativeElement.scrollLeft) {
                /** @type {?} */
                var moveLeft = this.scrollInstance.elementRef.nativeElement.scrollLeft - t;
                this.scrollInstance.scrollToX(moveLeft);
            }
        }
        col.width = newColWidth;
        if (this.useControlPanel && this.settingService) {
            this.settingService.saveUserConfig(this.id).subscribe((/**
             * @return {?}
             */
            function () {
                _this.dfs.columnResizeEnd();
                _this.dgs.columnResized.emit();
            }));
            return;
        }
        this.dfs.columnResizeEnd();
        this.dgs.columnResized.emit();
    };
    /** 还原列宽 */
    /**
     * 还原列宽
     * @return {?}
     */
    DatagridComponent.prototype.restituteColumnsSize = /**
     * 还原列宽
     * @return {?}
     */
    function () {
        this.dfs.resizeColumns(true);
        this.dgs.columnResized.emit();
    };
    /** 单元格内容自适应列宽 */
    /**
     * 单元格内容自适应列宽
     * @param {?} col
     * @param {?} th
     * @return {?}
     */
    DatagridComponent.prototype.sizeToContent = /**
     * 单元格内容自适应列宽
     * @param {?} col
     * @param {?} th
     * @return {?}
     */
    function (col, th) {
        if (!this.AutoColumnWidthUseDblclick) {
            return false;
        }
        /** @type {?} */
        var longestText = '';
        /** @type {?} */
        var items = this.data;
        for (var i = items.length - 1; i >= 0; i--) {
            // TFS: 356964 20200203
            /** @type {?} */
            var value = Utils.getValue(col.field, items[i]);
            if (value !== 0) {
                value = value || '';
            }
            /** @type {?} */
            var text = '' + value;
            if (col.formatter && value !== undefined) {
                text = this.colFormatSer.format(value, items[i], col.formatter);
            }
            if (Utils.getBLen(text) > Utils.getBLen(longestText)) {
                longestText = text;
            }
            else {
                this.longTextArea.nativeElement.innerHTML = text;
                /** @type {?} */
                var w1 = this.longTextArea.nativeElement.offsetWidth;
                this.longTextArea.nativeElement.innerHTML = longestText;
                /** @type {?} */
                var w2 = this.longTextArea.nativeElement.offsetWidth;
                if (w1 > w2) {
                    longestText = text;
                }
            }
        }
        this.longTextArea.nativeElement.innerHTML = longestText;
        /** @type {?} */
        var maxWidth = this.longTextArea.nativeElement.offsetWidth + 26;
        this.longTextArea.nativeElement.innerHTML = th.nativeElement.innerText;
        /** @type {?} */
        var thMinWidth = this.longTextArea.nativeElement.offsetWidth + 26;
        if (col.sortable) {
            thMinWidth += 24;
        }
        col.width = (maxWidth > thMinWidth ? maxWidth : thMinWidth);
        /** @type {?} */
        var colIndex = this.flatColumns.findIndex((/**
         * @param {?} c
         * @return {?}
         */
        function (c) { return c.field === col.field; }));
        if (colIndex === this.flatColumns.length - 1) {
            col.width += 6;
        }
        this.dfs.resizeColumns();
        this.dgs.columnResized.emit();
    };
    //#endregion
    //#region Changes
    //#endregion
    //#region Changes
    /**
     * @return {?}
     */
    DatagridComponent.prototype.getChanges = 
    //#endregion
    //#region Changes
    /**
     * @return {?}
     */
    function () {
        return this.dfs.getChanges();
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.acceptChanges = /**
     * @return {?}
     */
    function () {
        this.dfs.acceptChanges();
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.rejectChanges = /**
     * @return {?}
     */
    function () {
        this.dfs.rejectChanges();
    };
    //#endregion
    //#region CRUD
    //#endregion
    //#region CRUD
    /**
     * @param {?} row
     * @return {?}
     */
    DatagridComponent.prototype.appendRow = 
    //#endregion
    //#region CRUD
    /**
     * @param {?} row
     * @return {?}
     */
    function (row) {
        this.cancelEdit(null);
        this.dfs.appendRow(row);
        this.dataChange.emit(this.dfs.getData());
        this.rowAppended.emit();
    };
    /**
     * @param {?} rowId
     * @param {?} newData
     * @return {?}
     */
    DatagridComponent.prototype.updateRow = /**
     * @param {?} rowId
     * @param {?} newData
     * @return {?}
     */
    function (rowId, newData) {
        this.dfs.updateRow(rowId, newData);
        this.dataChange.emit(this.dfs.getData());
        this.rowUpdated.emit();
    };
    /**
     * @param {?} rowId
     * @return {?}
     */
    DatagridComponent.prototype.refreshRow = /**
     * @param {?} rowId
     * @return {?}
     */
    function (rowId) {
        /** @type {?} */
        var row = this.dfs.findRow(rowId);
        if (row && row.data) {
            this.dfs.rowUpdate$.emit(row);
        }
        else {
            console.warn('Can not found row by id. id: ' + rowId);
        }
    };
    /**
     * @param {?=} rowId
     * @return {?}
     */
    DatagridComponent.prototype.deleteRow = /**
     * @param {?=} rowId
     * @return {?}
     */
    function (rowId) {
        this.cancelEdit(rowId, false);
        if (!rowId) {
            if (this.selectValue) {
                rowId = this.selectValue;
            }
            else {
                throw new Error("\u5220\u9664\u884C\u65F6\u4E3B\u952E\u6807\u8BC6ID \u4E0D\u80FD\u4E3A\u7A7A\u3002");
            }
        }
        /** @type {?} */
        var deleteRow = this.dfs.deleteRow(rowId);
        this.dataChange.emit(this.dfs.getData());
        this.currentCell = null;
        this.dfs.updateProperty('currentCell', null);
        this.cd.detectChanges();
        this.rowDeleted.emit(deleteRow);
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.validateRow = /**
     * @return {?}
     */
    function () { };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.insertRow = /**
     * @return {?}
     */
    function () { };
    //#endregion
    //#region Scrolling
    //#endregion
    //#region Scrolling
    /**
     * @return {?}
     */
    DatagridComponent.prototype.scrollToLeft = 
    //#endregion
    //#region Scrolling
    /**
     * @return {?}
     */
    function () {
        if (this.scrollInstance) {
            this.scrollInstance.scrollToLeft(0, 200);
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.scrollToRight = /**
     * @return {?}
     */
    function () {
        if (this.scrollInstance) {
            this.scrollInstance.scrollToRight(0, 200);
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.scrollToTop = /**
     * @return {?}
     */
    function () {
        if (this.scrollInstance) {
            this.scrollInstance.scrollToTop(0, 100);
            this.dfs.updateProperty('scrollInfo', { y: 0, x: 0 });
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.scrollToBottom = /**
     * @return {?}
     */
    function () {
        if (this.scrollInstance) {
            this.scrollInstance.scrollToBottom(0, 100);
        }
    };
    //#endregion
    //#endregion
    /**
     * @private
     * @param {?} cols
     * @param {?} field
     * @param {?=} readonly
     * @return {?}
     */
    DatagridComponent.prototype._setColumnReadonly = 
    //#endregion
    /**
     * @private
     * @param {?} cols
     * @param {?} field
     * @param {?=} readonly
     * @return {?}
     */
    function (cols, field, readonly) {
        if (readonly === void 0) { readonly = true; }
        if (cols && cols.length && field) {
            /** @type {?} */
            var col = cols.find((/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return n.field === field; }));
            if (col) {
                col.readonly = readonly;
            }
        }
    };
    /**
     * @param {?} field
     * @param {?=} readonly
     * @return {?}
     */
    DatagridComponent.prototype.setColumnReadonly = /**
     * @param {?} field
     * @param {?=} readonly
     * @return {?}
     */
    function (field, readonly) {
        if (readonly === void 0) { readonly = true; }
        this._setColumnReadonly(this.colGroup.leftFixed, field, readonly);
        this._setColumnReadonly(this.colGroup.rightFixed, field, readonly);
        this._setColumnReadonly(this.colGroup.normalColumns, field, readonly);
    };
    // 是否为多表头
    // 是否为多表头
    /**
     * @return {?}
     */
    DatagridComponent.prototype.isMultiHeader = 
    // 是否为多表头
    /**
     * @return {?}
     */
    function () {
        return this.columns && this.columns.length > 1 && Array.isArray(this.columns[1]);
    };
    /**
     * @param {?} fields
     * @param {?=} visible
     * @return {?}
     */
    DatagridComponent.prototype.toggleVisibleColumn = /**
     * @param {?} fields
     * @param {?=} visible
     * @return {?}
     */
    function (fields, visible) {
        if (visible === void 0) { visible = true; }
        if (!this.isMultiHeader()) {
            this.columns.forEach((/**
             * @param {?} cols
             * @return {?}
             */
            function (cols) {
                fields.forEach((/**
                 * @param {?} field
                 * @return {?}
                 */
                function (field) {
                    /** @type {?} */
                    var col = cols.find((/**
                     * @param {?} c
                     * @return {?}
                     */
                    function (c) { return c.field === field || c.id === field; }));
                    if (col) {
                        col.visible = visible;
                    }
                }));
            }));
        }
        else {
            // 多表头
            /** @type {?} */
            var allCols_1 = flatten(this.columns);
            allCols_1.forEach((/**
             * @param {?} p
             * @return {?}
             */
            function (p) {
                if (p.origianlColSpan === undefined) {
                    p.origianlColSpan = p.colspan;
                }
            }));
            fields.forEach((/**
             * @param {?} field
             * @return {?}
             */
            function (field) {
                /** @type {?} */
                var _col = allCols_1.find((/**
                 * @param {?} col
                 * @return {?}
                 */
                function (col) { return col.field === field || col.id === field; }));
                if (_col) {
                    if (_col.visible === visible) {
                        return;
                    }
                    _col.visible = visible;
                    /** @type {?} */
                    var parents = DatagridColumnsHelper.getParentColumns(_col, allCols_1);
                    /** @type {?} */
                    var childs = DatagridColumnsHelper.getChildColumns(_col, allCols_1);
                    childs.forEach((/**
                     * @param {?} c
                     * @return {?}
                     */
                    function (c) {
                        c.visible = visible;
                    }));
                    if (visible && childs.length) {
                        _col.colspan = _col.origianlColSpan;
                    }
                    /** @type {?} */
                    var _colspan_1 = _col.colspan || 1;
                    parents.forEach((/**
                     * @param {?} p
                     * @return {?}
                     */
                    function (p) {
                        if (!visible) {
                            p.colspan = p.colspan - _colspan_1;
                        }
                        else {
                            /** @type {?} */
                            var _childs = allCols_1.filter((/**
                             * @param {?} n
                             * @return {?}
                             */
                            function (n) { return n.parentId === p.id && n.visible; }));
                            p.colspan = _childs.reduce((/**
                             * @param {?} r
                             * @param {?} c
                             * @return {?}
                             */
                            function (r, c) {
                                r = r + (c.colspan || 1);
                                return r;
                            }), 0);
                        }
                        p.visible = !!p.colspan;
                    }));
                }
            }));
        }
    };
    /**
     * @param {?} field
     * @return {?}
     */
    DatagridComponent.prototype.getColumn = /**
     * @param {?} field
     * @return {?}
     */
    function (field) {
        /** @type {?} */
        var allCols = flatten(this.columns);
        return allCols.find((/**
         * @param {?} n
         * @return {?}
         */
        function (n) { return n.field === field || n.id === field; }));
    };
    /**
     * @param {?} field
     * @return {?}
     */
    DatagridComponent.prototype.showColumn = /**
     * @param {?} field
     * @return {?}
     */
    function (field) {
        if (typeof field === 'string') {
            this.toggleVisibleColumn([field], true);
        }
        else {
            this.toggleVisibleColumn(field, true);
        }
        this.columnsChanged();
    };
    /**
     * @param {?} field
     * @return {?}
     */
    DatagridComponent.prototype.hideColumn = /**
     * @param {?} field
     * @return {?}
     */
    function (field) {
        if (typeof field === 'string') {
            this.toggleVisibleColumn([field], false);
        }
        else {
            this.toggleVisibleColumn(field, false);
        }
        this.columnsChanged();
    };
    /**
     * @param {?} field
     * @param {?} columnObject
     * @param {?=} detectChange
     * @return {?}
     */
    DatagridComponent.prototype.updateColumn = /**
     * @param {?} field
     * @param {?} columnObject
     * @param {?=} detectChange
     * @return {?}
     */
    function (field, columnObject, detectChange) {
        if (detectChange === void 0) { detectChange = true; }
        this.columns.forEach((/**
         * @param {?} cols
         * @return {?}
         */
        function (cols) {
            /** @type {?} */
            var column = cols.find((/**
             * @param {?} col
             * @return {?}
             */
            function (col) { return col.field === field; }));
            if (column) {
                column = Object.assign(column, columnObject);
            }
        }));
        if (detectChange) {
            this.columnsChanged();
        }
    };
    /**
     * @param {?} field
     * @param {?} formatter
     * @return {?}
     */
    DatagridComponent.prototype.setColumnFormatter = /**
     * @param {?} field
     * @param {?} formatter
     * @return {?}
     */
    function (field, formatter) {
        this.columns.forEach((/**
         * @param {?} cols
         * @return {?}
         */
        function (cols) {
            /** @type {?} */
            var column = cols.find((/**
             * @param {?} col
             * @return {?}
             */
            function (col) { return col.field === field; }));
            if (column) {
                column.formatter = formatter;
            }
        }));
        this.columnsChanged();
    };
    /**
     * @param {?} field
     * @param {?} formatterOptions
     * @return {?}
     */
    DatagridComponent.prototype.updateColumnFormatterOptions = /**
     * @param {?} field
     * @param {?} formatterOptions
     * @return {?}
     */
    function (field, formatterOptions) {
        this.columns.forEach((/**
         * @param {?} cols
         * @return {?}
         */
        function (cols) {
            /** @type {?} */
            var column = cols.find((/**
             * @param {?} col
             * @return {?}
             */
            function (col) { return col.field === field; }));
            if (column && column.formatter) {
                /** @type {?} */
                var colFormatter = (/** @type {?} */ (column.formatter));
                colFormatter.options = colFormatter.options || {};
                colFormatter.options = Object.assign(colFormatter.options, formatterOptions || {});
            }
        }));
        this.columnsChanged();
    };
    /**
     * @param {?} field
     * @param {?} title
     * @return {?}
     */
    DatagridComponent.prototype.setColumnTitle = /**
     * @param {?} field
     * @param {?} title
     * @return {?}
     */
    function (field, title) {
        this.columns.forEach((/**
         * @param {?} cols
         * @return {?}
         */
        function (cols) {
            /** @type {?} */
            var column = cols.find((/**
             * @param {?} col
             * @return {?}
             */
            function (col) { return col.field === field; }));
            if (column) {
                column.title = title;
            }
        }));
        this.columnsChanged();
    };
    /**
     * 排序
     * @param sortName 排序字段，如： 'name,age'
     * @param sortOrder 排序方式，如：'desc, asc'
     */
    /**
     * 排序
     * @param {?=} sortName 排序字段，如： 'name,age'
     * @param {?=} sortOrder 排序方式，如：'desc, asc'
     * @return {?}
     */
    DatagridComponent.prototype.sort = /**
     * 排序
     * @param {?=} sortName 排序字段，如： 'name,age'
     * @param {?=} sortOrder 排序方式，如：'desc, asc'
     * @return {?}
     */
    function (sortName, sortOrder) {
        if (sortName === null || sortName === '' || sortOrder === null || sortOrder === '') {
            this.clearSort();
        }
        else {
            if (sortName && sortOrder) {
                // this.updateSortInfo(sortName, sortOrder);
                this.sortName = sortName;
                this.sortOrder = sortOrder;
                this.dfs.setSortInfo(this.sortName, this.sortOrder);
            }
            if (!this.remoteSort) {
                this.dfs.clientSort();
            }
            this.onColumnSorted();
        }
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.clearSort = /**
     * @return {?}
     */
    function () {
        this.sortName = '';
        this.sortOrder = '';
        this.dfs.setSortInfo('', '');
        if (!this.remoteSort) {
            if (this.data && this.data.length) {
                this.dfs.clearSort();
            }
        }
        this.onColumnSorted();
    };
    /**
     * @return {?}
     */
    DatagridComponent.prototype.onColumnSorted = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var params = null;
        if (this.sortName && this.sortOrder) {
            /** @type {?} */
            var orders_1 = this.sortOrder.split(',');
            params = this.sortName.split(',').reduce((/**
             * @param {?} r
             * @param {?} n
             * @param {?} i
             * @return {?}
             */
            function (r, n, i) {
                r[n] = orders_1[i] || 'asc';
                return r;
            }), {});
        }
        if (!this.remoteSort) {
            this.dfs.clientSort();
        }
        this.columnSorted.emit(params);
    };
    /**
     * @param {?} newSortName
     * @param {?} newSortOrder
     * @return {?}
     */
    DatagridComponent.prototype.updateSortInfo = /**
     * @param {?} newSortName
     * @param {?} newSortOrder
     * @return {?}
     */
    function (newSortName, newSortOrder) {
        var _this = this;
        /** @type {?} */
        var sortName = this.sortName;
        /** @type {?} */
        var sortOrder = this.sortOrder;
        /** @type {?} */
        var sortFields = [];
        /** @type {?} */
        var sortOrders = [];
        if (sortName) {
            sortFields = sortName.split(',');
            sortOrders = sortOrder.split(',');
        }
        /** @type {?} */
        var _sortFields = newSortName.split(',');
        /** @type {?} */
        var _sortOrders = newSortOrder.split(',');
        _sortFields.forEach((/**
         * @param {?} nField
         * @param {?} nIndex
         * @return {?}
         */
        function (nField, nIndex) {
            /** @type {?} */
            var colOrder = _sortOrders[nIndex] || 'asc';
            /** @type {?} */
            var newOrder = colOrder;
            /** @type {?} */
            var i = sortFields.findIndex((/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return n === nField; }));
            if (i >= 0) {
                /** @type {?} */
                var _order = sortOrders[i] === 'asc' ? 'desc' : 'asc';
                newOrder = _order;
                if (_this.multiSort && newOrder === 'asc') {
                    newOrder = undefined;
                    sortFields.splice(i, 1);
                    sortOrders.splice(i, 1);
                }
                else {
                    sortOrders[i] = _order;
                }
            }
            else {
                if (_this.multiSort) {
                    sortFields.push(nField);
                    sortOrders.push(colOrder);
                }
                else {
                    sortFields = [nField];
                    sortOrders = [colOrder];
                }
            }
        }));
        this.sortName = sortFields.join(',');
        this.sortOrder = sortOrders.join(',');
    };
    /** 列设置 */
    /**
     * 列设置
     * @param {?} $event
     * @return {?}
     */
    DatagridComponent.prototype.showControlPanel = /**
     * 列设置
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        $event.stopPropagation();
        /** @type {?} */
        var self = this;
        if (this.useControlPanel && this.settingService) {
            if (!this.settingService.httpRestService) {
                /** @type {?} */
                var settingsHttp = this.inject.get(GRID_SETTINGS_HTTP, null);
                this.settingService.httpRestService = settingsHttp;
            }
            this.settingService.show(self);
        }
    };
    /**
     * @param {?=} flag
     * @return {?}
     */
    DatagridComponent.prototype.disableHeader = /**
     * @param {?=} flag
     * @return {?}
     */
    function (flag) {
        if (flag === void 0) { flag = true; }
        this.dgs.disableHeader.emit(flag);
    };
    /** 获取用户个性化设置 */
    /**
     * 获取用户个性化设置
     * @private
     * @param {?} settings
     * @return {?}
     */
    DatagridComponent.prototype.userProfileSetting = /**
     * 获取用户个性化设置
     * @private
     * @param {?} settings
     * @return {?}
     */
    function (settings) {
        var _this = this;
        var sortInfo = settings.sortInfo, viewColumns = settings.viewColumns, groupField = settings.groupField, columnFormat = settings.columnFormat;
        var sortName = sortInfo.sortName, sortOrder = sortInfo.sortOrder;
        if (sortInfo) {
            if (sortName && sortName.length) {
                this.sortName = sortName.join(',');
                if (sortOrder) {
                    this.sortOrder = sortOrder.join(',');
                }
            }
            this['__sortInfo'] = sortInfo;
        }
        if (viewColumns && viewColumns.length) {
            this.columns = this.columns.map((/**
             * @param {?} cols
             * @return {?}
             */
            function (cols) {
                _this.settingService.updateColumnFormat(cols, columnFormat, _this);
                return _this.settingService.newVisibleOrderColumns(cols, viewColumns, columnFormat);
            }));
            this.addControlCol();
            this.columns.forEach((/**
             * @param {?} cols
             * @return {?}
             */
            function (cols) {
                cols.forEach((/**
                 * @param {?} col
                 * @return {?}
                 */
                function (col) {
                    if (sortName && sortName.length) {
                        /** @type {?} */
                        var i = sortName.indexOf(col.field);
                        if (i > -1) {
                            col.order = sortOrder[i];
                        }
                    }
                }));
            }));
        }
        if (this.groupRows && groupField) {
            this.groupField = groupField;
        }
    };
    // 是否为当前活动的表格
    // 是否为当前活动的表格
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.isActived = 
    // 是否为当前活动的表格
    /**
     * @private
     * @return {?}
     */
    function () {
        return DomHandler.hasClass(this.dgContainer.nativeElement, this._active_datagrid_cls);
    };
    // 清理无效的DOM
    // 清理无效的DOM
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.cleanDom = 
    // 清理无效的DOM
    /**
     * @private
     * @return {?}
     */
    function () {
        // 清理 TOOL-TIP
        /** @type {?} */
        var tips = document.querySelectorAll('.datagrid-cell-tooltip');
        if (tips && tips.length) {
            tips.forEach((/**
             * @param {?} n
             * @return {?}
             */
            function (n) {
                n.remove();
            }));
        }
    };
    /**
     * @param {?} col
     * @param {?} rowData
     * @return {?}
     */
    DatagridComponent.prototype.cellIsReadOnly = /**
     * @param {?} col
     * @param {?} rowData
     * @return {?}
     */
    function (col, rowData) {
        /** @type {?} */
        var readOnly = false;
        if (this.disableRow) {
            readOnly = this.disableRow(rowData);
        }
        if (!readOnly) {
            if (col.readonly !== undefined) {
                if (typeof col.readonly === 'boolean') {
                    readOnly = col.readonly;
                }
                else if (typeof col.readonly === 'function') {
                    readOnly = col.readonly(rowData);
                }
            }
        }
        return readOnly;
    };
    /**
     * @private
     * @return {?}
     */
    DatagridComponent.prototype.groupFieldChanged = /**
     * @private
     * @return {?}
     */
    function () {
        this.columnsChanged();
        if (this.settingService) {
            this.settingService.saveUserConfig(this.id).subscribe();
        }
        this.groupFieldChange.emit({ newGroupField: this.groupField, grid: this });
    };
    /**
     * @param {?} field
     * @return {?}
     */
    DatagridComponent.prototype.removeGroupField = /**
     * @param {?} field
     * @return {?}
     */
    function (field) {
        /** @type {?} */
        var fields = this.groupField.split(',');
        /** @type {?} */
        var delIdx = fields.indexOf(field);
        if (delIdx > -1) {
            fields.splice(delIdx, 1).join(',');
        }
        this.groupField = fields.join(',');
        this.toggleVisibleColumn([field], true);
        this.groupFieldChanged();
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    DatagridComponent.prototype.clearAllGrouppingField = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        var _this = this;
        this.showLoading();
        setTimeout((/**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var fields = _this.groupField.split(',');
            _this.groupField = '';
            _this.toggleVisibleColumn(fields, true);
            _this.groupFieldChanged();
            _this.closeLoading();
        }));
    };
    /**
     * @param {?} groupFields
     * @return {?}
     */
    DatagridComponent.prototype.setGroupFields = /**
     * @param {?} groupFields
     * @return {?}
     */
    function (groupFields) {
        this.groupField = groupFields;
        this.columnsChanged();
    };
    /**
     * @param {?=} active
     * @return {?}
     */
    DatagridComponent.prototype.activeDataGrid = /**
     * @param {?=} active
     * @return {?}
     */
    function (active) {
        var _this = this;
        if (active === void 0) { active = true; }
        /** @type {?} */
        var grids = document.querySelectorAll('.f-datagrid.datagrid-active');
        if (grids.length) {
            grids.forEach((/**
             * @param {?} n
             * @return {?}
             */
            function (n) {
                _this.render2.removeClass(n, _this._active_datagrid_cls);
            }));
        }
        if (active) {
            this.render2.addClass(this.dgContainer.nativeElement, this._active_datagrid_cls);
        }
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    DatagridComponent.prototype.onDatagridContainerFocus = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        if (!this.disabled) {
            this.activeDataGrid();
        }
    };
    DatagridComponent.decorators = [
        { type: Component, args: [{
                    selector: 'farris-datagrid',
                    template: "<!--\r\n * @Author: \u75AF\u72C2\u79C0\u624D(Lucas Huang)\r\n * @Date: 2019-08-10 11:02:50\r\n * @LastEditors: \u75AF\u72C2\u79C0\u624D(Lucas Huang)\r\n * @LastEditTime: 2019-11-18 15:48:39\r\n * @QQ: 1055818239\r\n * @Version: v0.0.1\r\n -->\r\n\r\n<div #datagridContainer class=\"f-datagrid\" \r\n    [class.f-datagrid-rowhover]=\"rowHover\"\r\n    [class.f-datagrid-bordered]=\"showBorder\"\r\n    [class.f-datagrid-wrap]=\"!nowrap\"\r\n    [class.f-datagrid-strip]=\"striped\"\r\n    [class.f-datagrid-mergecell]=\"mergeCell\"\r\n    [class.f-datagrid-enable-highlight]=\"enableHighlightCell\"\r\n    [class.highlight-allowedit-cell]=\"enableEditCellStyle && editable\"\r\n    [class.scrollbar-allways-show]=\"scrollBarShowMode === 'allways'\"\r\n    [class.f-datagrid-sm]=\"sizeType === 'sm'\" [class.f-datagrid-lg]=\"sizeType === 'lg'\" [class.f-datagrid-xl]=\"sizeType === 'xl'\"\r\n    [ngStyle]=\"gridSize\" tabindex=\"0\" style=\"outline: 0;\" hidefocus=\"true\" [attr.id]=\"id\"\r\n    *ngIf=\"!useHtmlTable\" (focus)=\"onDatagridContainerFocus($event)\">\r\n    <div class=\"f-datagrid-column-drop-panel d-flex flex-row\"\r\n        [style.height.px]=\"rowGroupPanelHeight\"\r\n        [style.top.px]=\"showFilterBar ? (filterBarHeight): 0\"\r\n        [attr.placeholder]=\"groupField ? '': groupRowPanelPlaceholder\"\r\n        [style.pointer-events]=\"editable ? 'none': ''\"\r\n        *ngIf=\"showRowGroupPanel\">\r\n        <div class=\"row-group-fields flex-fill\" drop-column style=\"display: inline-block!important;\">\r\n            <div class=\"group-field smooth-dnd-draggable-wrapper\" *ngFor=\"let f of groupFields$ | async\">{{ dfs.getColumn(f)?.title }}\r\n                <span class=\"f-icon f-icon-x\" title=\"{{ 'datagrid.groupRow.removeColumn'| locale }}\" (click)=\"removeGroupField(f)\"></span>\r\n            </div>\r\n        </div>\r\n        <button class=\"f-datagrid-clear-group-field btn btn-light ml-auto\"\r\n        title=\"{{'datagrid.groupRow.clearTip' | locale}}\" (click)=\"clearAllGrouppingField($event)\" [style.display]=\"groupField ? '' : 'none'\">\r\n            <span class=\"f-icon f-icon-remove\"></span> {{'datagrid.groupRow.clear' | locale}}\r\n        </button>\r\n    </div>\r\n    \r\n    <filter-toolbar #filterText *ngIf=\"enableFilterRow && showFilterBar\"></filter-toolbar>\r\n    <smart-filter-toolbar #smartfiltertoolbar *ngIf=\"enableSmartFilter && showFilterBar\"\r\n    [height]=\"filterBarHeight\"\r\n    [filterData]=\"smartFilterResult?.controlData || []\" \r\n    (clearFilters)=\"onClearSmartFilters($event)\"\r\n    (removeFilter)=\"onRemoveSmartFilterItem($event)\"\r\n    [padding]=\"showBorder && filterBarHeight ? '3px': ''\"\r\n    (resize)=\"onFilterBarResize($event)\"\r\n    (filterChange)=\"onSmartFilterChange($event)\"></smart-filter-toolbar>\r\n\r\n    <datagrid-header class=\"d-flex flex-fill\" *ngIf=\"showHeader\" #header\r\n    [columns]=\"columns\" [columnsGroup]=\"colGroup\" [height]=\"realHeaderHeight\"\r\n    [style.height.px]=\"realHeaderHeight\" style=\"position: relative;width:100%;\" \r\n    [enableDragColumn]=\"enableDragColumn\" [wrapHeader]=\"headerWrap\"\r\n    [enableFilterRow]=\"enableFilterRow\" [scrollbarMode]=\"scrollBarShowMode\"></datagrid-header>\r\n\r\n\r\n    <datagrid-footer [height]=\"footerHeight\" [width]=\"footerWidth\" [columnsGroup]=\"colGroup\" [position]=\"'top'\"\r\n    [columns]=\"colGroup?.normalColumns\" [data]=\"footerData | async\" *ngIf=\"(footerPosition==='top' || footerPosition === 'both') && showFooter && ((ds && ds.rows && ds.rows.length) || (footerData | async).length)\"></datagrid-footer>\r\n\r\n    <datagrid-body [columnsGroup]=\"colGroup\" [data]=\"ds.rows | paginate: pagerOpts\" (dataChange)=\"setCurrentPagerData($event)\"\r\n        [startRowIndex]=\"ds.index\" [checkedRows]=\"checkedRows\" cell-tooltip [canvasWidth]=\"colGroup?.totalWidth\"\r\n        [topHideHeight]=\"ds.top\" [bottomHideHeight]=\"ds.bottom\" [footerHeight]=\"footerHeight\"\r\n        [scrollBarMode]=\"scrollBarShowMode\" [contextMenuItems]=\"contextMenus\" ></datagrid-body>\r\n\r\n    <datagrid-footer [height]=\"footerHeight\" [width]=\"footerWidth\" [columnsGroup]=\"colGroup\" [position]=\"'bottom'\"\r\n                [columns]=\"colGroup?.normalColumns\" [data]=\"footerData | async\" \r\n                *ngIf=\"(footerPosition==='bottom' || footerPosition === 'both') && showFooter && ((ds && ds.rows && ds.rows.length) || (footerData | async).length)\"></datagrid-footer>\r\n    \r\n    <datagrid-pager *ngIf=\"pagination\" #dgPager \r\n        [showPageList]=\"showPageList\"\r\n        [id]=\"pagerOpts.id\" [locked]=\"lockPagination\"\r\n        [showPageInfo]=\"showPageInfo\"\r\n        [viewMode]=\"pagerViewMode\"\r\n        [showPageNumber] = \"showPageNumber\"\r\n        [maxSize]=\"pagerLabelSize\"\r\n        [showSelectedList]=\"showSelectedList && multiSelect\"\r\n        [selectedData]=\"checkedRows\"\r\n        [showGotoInput]=\"showGotoInput\"\r\n        (pageChange)=\"onPageChange($event)\"\r\n        (pageSizeChange)=\"onPageSizeChange($event)\"\r\n        (removeSelectedItem)=\"onRemoveSelectedItem($event)\"\r\n        (clearSelectedItem)=\"onClearSelectedItem($event)\"\r\n        [listItemFormatter]=\"selectedItemFormatter\"\r\n        ></datagrid-pager>\r\n\r\n    <div class=\"f-datagrid-resize-bg\" #resizeProxyBg></div>\r\n    <div #resizeProxy class=\"f-datagrid-resize-proxy\" *ngIf=\"resizeColumn\"></div>\r\n    \r\n    <datagrid-loading *ngIf=\"loading\"></datagrid-loading>\r\n    <div style=\"position: absolute; left: -1000px; top: -1000px;visibility: hidden;\" #longTextArea></div>\r\n    <div class=\"f-datagrid-disabled\" style=\"position: absolute;\r\n        background: #fff;\r\n        height: 100%;\r\n        width: 100%;\r\n        z-index: 99;\r\n        opacity: .3;\" *ngIf=\"disabled\">\r\n    </div>\r\n</div>\r\n\r\n\r\n<div #datagridContainer\r\nclass=\"f-datagrid f-datagrid-htmltable\" [attr.id]=\"id\"\r\n[class.f-datagrid-rowhover]=\"rowHover\"\r\n[class.f-datagrid-bordered]=\"showBorder\"\r\n[class.f-datagrid-wrap]=\"!nowrap\"\r\n[class.f-datagrid-strip]=\"striped\" \r\n[class.f-datagrid-md]=\"sizeType === 'md'\"\r\n[class.f-datagrid-sm]=\"sizeType === 'sm'\" [class.f-datagrid-lg]=\"sizeType === 'lg'\" [class.f-datagrid-xl]=\"sizeType === 'xl'\"\r\n*ngIf=\"useHtmlTable\" style=\"border-right: 0px; border-bottom: 0px; overflow: auto\">\r\n\r\n    <auto-height [columnsGroup]=\"colGroup\" [columns]=\"columns\" [data]=\"ds.rows\"></auto-height>\r\n</div>\r\n",
                    encapsulation: ViewEncapsulation.None,
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    providers: [
                        DatagridFacadeService,
                        DatagridService,
                        DatagridSmartFilterService
                    ],
                    exportAs: 'datagrid'
                }] }
    ];
    /** @nocollapse */
    DatagridComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef },
        { type: ElementRef },
        { type: Injector },
        { type: NgZone },
        { type: DatagridFacadeService },
        { type: DatagridService },
        { type: ApplicationRef },
        { type: DomSanitizer },
        { type: Renderer2 }
    ]; };
    DatagridComponent.propDecorators = {
        pos: [{ type: HostBinding, args: ['style.position',] }],
        hostCls: [{ type: HostBinding, args: ['class.f-datagrid-full',] }],
        autoHeightCls: [{ type: HostBinding, args: ['class.f-datagrid-auto-height',] }],
        useThemes: [{ type: Input }],
        id: [{ type: Input }],
        useHtmlTable: [{ type: Input }],
        autoHeight: [{ type: Input }],
        showBorder: [{ type: Input }],
        striped: [{ type: Input }],
        width: [{ type: Input }],
        height: [{ type: Input }],
        showHeader: [{ type: Input }],
        headerHeight: [{ type: Input }],
        headerWrap: [{ type: Input }],
        showFooter: [{ type: Input }],
        footerHeight: [{ type: Input }],
        footerDataFrom: [{ type: Input }],
        footerTemplate: [{ type: Input }],
        footerPosition: [{ type: Input }],
        footerStyler: [{ type: Input }],
        rowHeight: [{ type: Input }],
        sizeType: [{ type: Input }],
        fit: [{ type: Input }],
        fitColumns: [{ type: Input }],
        autoFitColumns: [{ type: Input }],
        disabled: [{ type: Input }],
        scrollBarShowMode: [{ type: Input }],
        scrollBarOptions: [{ type: Input }],
        resizeColumn: [{ type: Input }],
        showLineNumber: [{ type: Input }],
        lineNumberTitle: [{ type: Input }],
        lineNumberWidth: [{ type: Input }],
        rowHover: [{ type: Input }],
        clickToEdit: [{ type: Input }],
        lockPagination: [{ type: Input }],
        pagination: [{ type: Input }],
        pagerViewMode: [{ type: Input }],
        pagerOnServer: [{ type: Input }],
        pageList: [{ type: Input }],
        pageIndex: [{ type: Input }],
        pageSize: [{ type: Input }],
        pagerHeight: [{ type: Input }],
        showPageList: [{ type: Input }],
        showPageInfo: [{ type: Input }],
        showPageNumber: [{ type: Input }],
        pagerLabelSize: [{ type: Input }],
        showGotoInput: [{ type: Input }],
        enableMorePageSelect: [{ type: Input }],
        showSelectedList: [{ type: Input }],
        selectedItemFormatter: [{ type: Input }],
        cellTipTimer: [{ type: Input }],
        controlPaginationState: [{ type: Input }],
        total: [{ type: Input }],
        enableSelectRow: [{ type: Input }],
        multiSelect: [{ type: Input }],
        showCheckbox: [{ type: Input }],
        showAllCheckbox: [{ type: Input }],
        onlySelectSelf: [{ type: Input }],
        checkOnSelect: [{ type: Input }],
        selectOnCheck: [{ type: Input }],
        selectionMode: [{ type: Input }],
        keepSelect: [{ type: Input }],
        emptyDataHeight: [{ type: Input }],
        emptyMessage: [{ type: Input }],
        emptyTemplate: [{ type: Input }],
        idField: [{ type: Input }],
        url: [{ type: Input }],
        data: [{ type: Input }],
        footerData: [{ type: Input }],
        endEditByInvalid: [{ type: Input }],
        columns: [{ type: Input }],
        fields: [{ type: Input }],
        nowrap: [{ type: Input }],
        virtualized: [{ type: Input }],
        virtualizedAsyncLoad: [{ type: Input }],
        rowStyler: [{ type: Input }],
        editMode: [{ type: Input }],
        editable: [{ type: Input }],
        enableEditCellStyle: [{ type: Input }],
        selectOnEditing: [{ type: Input }],
        editorHeight: [{ type: Input }],
        remoteSort: [{ type: Input }],
        sortName: [{ type: Input }],
        sortOrder: [{ type: Input }],
        multiSort: [{ type: Input }],
        hoverRowCls: [{ type: Input }],
        enableDragColumn: [{ type: Input }],
        rowGroupPanelHeight: [{ type: Input }],
        groupRows: [{ type: Input }],
        groupFooter: [{ type: Input }],
        groupFooterStyler: [{ type: Input }],
        groupSummaryPosition: [{ type: Input }],
        groupCellColSpan: [{ type: Input }],
        groupField: [{ type: Input }],
        showGroupColumn: [{ type: Input }],
        groupFormatter: [{ type: Input }],
        groupStyler: [{ type: Input }],
        showRowGroupPanel: [{ type: Input }],
        AutoColumnWidthUseDblclick: [{ type: Input }],
        disableRow: [{ type: Input }],
        useDefaultFilter: [{ type: Input }],
        enableSmartFilter: [{ type: Input }],
        enableFilterRow: [{ type: Input }],
        remoteFilter: [{ type: Input }],
        showFilterBar: [{ type: Input }],
        filterBarHeight: [{ type: Input }],
        filterRowHeight: [{ type: Input }],
        conditions: [{ type: Input }],
        selectValue: [{ type: Input }],
        checkValues: [{ type: Input }],
        selectValues: [{ type: Input }],
        mergeCell: [{ type: Input }],
        mergeFields: [{ type: Input }],
        enableClientSortForMergeCell: [{ type: Input }],
        useControlPanel: [{ type: Input }],
        enableSimpleMode: [{ type: Input }],
        controlPanelMode: [{ type: Input }],
        stopPropagation: [{ type: Input }],
        closeOtherGridEditor: [{ type: Input }],
        clearSelectionsWhenDataIsEmpty: [{ type: Input }],
        enableContextMenu: [{ type: Input }],
        contextMenus: [{ type: Input }],
        selectValueChange: [{ type: Output }],
        checkValuesChange: [{ type: Output }],
        selectValuesChange: [{ type: Output }],
        beforeEdit: [{ type: Input }],
        beginEdit: [{ type: Output }],
        afterEdit: [{ type: Input }],
        endEdit: [{ type: Output }],
        cancelEdited: [{ type: Output }],
        scrollY: [{ type: Output }],
        pageSizeChanged: [{ type: Output }],
        pageChanged: [{ type: Output }],
        loadSuccess: [{ type: Output }],
        filterChanged: [{ type: Output }],
        beforeSelect: [{ type: Input }],
        beforeUnselect: [{ type: Input }],
        beforeCheck: [{ type: Input }],
        beforeUncheck: [{ type: Input }],
        beforeSortColumn: [{ type: Input }],
        enableHighlightCell: [{ type: Input }],
        checkedRowsDataFromSource: [{ type: Input }],
        editcellWhenTabKeydwon: [{ type: Input }],
        beforeClickCell: [{ type: Output }],
        dblclickRow: [{ type: Output }],
        selectChanged: [{ type: Output }],
        unSelect: [{ type: Output }],
        selectAll: [{ type: Output }],
        unSelectAll: [{ type: Output }],
        scrollYLoad: [{ type: Output }],
        checked: [{ type: Output }],
        unChecked: [{ type: Output }],
        checkAll: [{ type: Output }],
        unCheckAll: [{ type: Output }],
        checkedChange: [{ type: Output }],
        columnSorted: [{ type: Output }],
        rowClick: [{ type: Output }],
        rowAppended: [{ type: Output }],
        rowDeleted: [{ type: Output }],
        rowUpdated: [{ type: Output }],
        dataChange: [{ type: Output }],
        lastCellEnterHandle: [{ type: Output }],
        groupFieldChange: [{ type: Output }],
        columnMoved: [{ type: Output }],
        cellClick: [{ type: Output }],
        dgColumns: [{ type: ContentChildren, args: [DatagridColumnDirective,] }],
        dgPager: [{ type: ViewChild, args: ['dgPager',] }],
        resizeProxy: [{ type: ViewChild, args: ['resizeProxy',] }],
        resizeProxyBg: [{ type: ViewChild, args: ['resizeProxyBg',] }],
        dgContainer: [{ type: ViewChild, args: ['datagridContainer',] }],
        longTextArea: [{ type: ViewChild, args: ['longTextArea',] }],
        smartFilterToolbar: [{ type: ViewChild, args: ['smartfiltertoolbar',] }],
        onClick: [{ type: HostListener, args: ['click', ['$event'],] }]
    };
    return DatagridComponent;
}());
export { DatagridComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype.auther;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype.version;
    /** @type {?} */
    DatagridComponent.prototype.__component_type__;
    /** @type {?} */
    DatagridComponent.prototype.pos;
    /** @type {?} */
    DatagridComponent.prototype.hostCls;
    /**
     * 使用主题
     * @type {?}
     */
    DatagridComponent.prototype.useThemes;
    /** @type {?} */
    DatagridComponent.prototype.id;
    /**
     * 自动高度 - 启用此属性后，就是一个普普通通的 table , 不能编辑，不能排序，不能分页，不能... 就是一凡胎
     * @type {?}
     */
    DatagridComponent.prototype.useHtmlTable;
    /**
     * 自动高度
     * @type {?}
     */
    DatagridComponent.prototype.autoHeight;
    /**
     * 显示边框
     * @type {?}
     */
    DatagridComponent.prototype.showBorder;
    /**
     * 启用斑马线
     * @type {?}
     */
    DatagridComponent.prototype.striped;
    /**
     * 宽度
     * @type {?}
     */
    DatagridComponent.prototype.width;
    /**
     * 高度
     * @type {?}
     */
    DatagridComponent.prototype.height;
    /**
     * 显示表头
     * @type {?}
     */
    DatagridComponent.prototype.showHeader;
    /**
     * 表头-单行高度
     * @type {?}
     */
    DatagridComponent.prototype.headerHeight;
    /**
     * 表头折行
     * @type {?}
     */
    DatagridComponent.prototype.headerWrap;
    /**
     * 显示页脚
     * @type {?}
     */
    DatagridComponent.prototype.showFooter;
    /**
     * 页脚默认行高
     * @type {?}
     */
    DatagridComponent.prototype.footerHeight;
    /**
     * 页脚数据来源
     * @type {?}
     */
    DatagridComponent.prototype.footerDataFrom;
    /**
     * 页脚合计行模板
     * @type {?}
     */
    DatagridComponent.prototype.footerTemplate;
    /**
     * 合计行显示位置，默认为底部
     * @type {?}
     */
    DatagridComponent.prototype.footerPosition;
    /**
     * 页脚行自定义样式
     * @type {?}
     */
    DatagridComponent.prototype.footerStyler;
    /**
     * 行高
     * @type {?}
     */
    DatagridComponent.prototype.rowHeight;
    /**
     * 设置grid 行高尺寸
     * sm: 小，md: 正常， lg: 大，xl: 超大
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._sizeType;
    /**
     * 填充容器
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._fit;
    /**
     * 如果为真，则自动展开/收缩列的大小以适合网格宽度并防止水平滚动。
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._fitColumns;
    /**
     * 根据grid的宽度自动调整列宽度
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._autoFitColumns;
    /**
     * 禁用
     * @type {?}
     */
    DatagridComponent.prototype.disabled;
    /**
     * 滚动条显示模式，默认为 auto
     * @type {?}
     */
    DatagridComponent.prototype.scrollBarShowMode;
    /** @type {?} */
    DatagridComponent.prototype.scrollBarOptions;
    /**
     * 可拖动列设置列宽
     * @type {?}
     */
    DatagridComponent.prototype.resizeColumn;
    /**
     * 显示行号
     * @type {?}
     */
    DatagridComponent.prototype.showLineNumber;
    /**
     * 行号表头字符
     * @type {?}
     */
    DatagridComponent.prototype.lineNumberTitle;
    /**
     * 行号宽度
     * @type {?}
     */
    DatagridComponent.prototype.lineNumberWidth;
    /**
     * 鼠标滑过效果开关，默认开启
     * @type {?}
     */
    DatagridComponent.prototype.rowHover;
    /**
     * 允许编辑时，单击进入编辑状态; false为双击进入编辑
     * @type {?}
     */
    DatagridComponent.prototype.clickToEdit;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._lockPagination;
    /**
     * 分页信息
     * @type {?}
     * @private
     */
    DatagridComponent.prototype.__pagination;
    /**
     * 分页条显示模式， default, simple
     * @type {?}
     */
    DatagridComponent.prototype.pagerViewMode;
    /**
     * 启用服务器端分页
     * @type {?}
     */
    DatagridComponent.prototype.pagerOnServer;
    /**
     * 每页记录数
     * @type {?}
     */
    DatagridComponent.prototype.pageList;
    /**
     * 当前页码
     * @type {?}
     */
    DatagridComponent.prototype.pageIndex;
    /**
     * 每页记录数
     * @type {?}
     */
    DatagridComponent.prototype.pageSize;
    /**
     * 分页区高度
     * @type {?}
     */
    DatagridComponent.prototype.pagerHeight;
    /**
     * 显示每页记录数
     * @type {?}
     */
    DatagridComponent.prototype.showPageList;
    /**
     * 显示分页信息
     * @type {?}
     */
    DatagridComponent.prototype.showPageInfo;
    /**
     * 显示页码
     * @type {?}
     */
    DatagridComponent.prototype.showPageNumber;
    /**
     * 显示页码最大数量
     * @type {?}
     */
    DatagridComponent.prototype.pagerLabelSize;
    /**
     * 显示转至指定页码输入框
     * @type {?}
     */
    DatagridComponent.prototype.showGotoInput;
    /**
     * 启用跨页多选
     * @type {?}
     */
    DatagridComponent.prototype.enableMorePageSelect;
    /**
     * 显示选中列表
     * @type {?}
     */
    DatagridComponent.prototype.showSelectedList;
    /**
     * 选中列表中，每条记录显示的内容
     * @type {?}
     */
    DatagridComponent.prototype.selectedItemFormatter;
    /**
     * 单元格信息提示延时，默认 1000ms
     * @type {?}
     */
    DatagridComponent.prototype.cellTipTimer;
    /**
     * grid 内部处理分页状态
     * @type {?}
     */
    DatagridComponent.prototype.controlPaginationState;
    /**
     * 总记录数
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._total;
    /**
     * 启用选中行
     * @type {?}
     */
    DatagridComponent.prototype.enableSelectRow;
    /**
     * 启用多选
     * @type {?}
     */
    DatagridComponent.prototype.multiSelect;
    /**
     * 启用多选时，是否显示checkbox
     * @type {?}
     */
    DatagridComponent.prototype.showCheckbox;
    /**
     * 显示全选checkbox
     * @type {?}
     */
    DatagridComponent.prototype.showAllCheckbox;
    /**
     * 当启用多选时，点击行选中，只允许且只有一行被选中。, 默认为 true
     * @type {?}
     */
    DatagridComponent.prototype.onlySelectSelf;
    /**
     * 启用多选且显示checkbox, 选中行同时钩选, 默认为 false
     * @type {?}
     */
    DatagridComponent.prototype.checkOnSelect;
    /**
     * 启用多选且显示checkbox, 钩选后选中行, 默认为 false
     * @type {?}
     */
    DatagridComponent.prototype.selectOnCheck;
    /**
     * 行选中模式，custom: 自定义， default: 默认 仿Windows资源管理器选中
     * 注意： 此属性仅多选，显示复选框有效
     * addTime: 2021-12-14 by LUCAS HUANG
     * @type {?}
     */
    DatagridComponent.prototype.selectionMode;
    /**
     * 单击行选中后，在次点击不会被取消选中状态;
     * @type {?}
     */
    DatagridComponent.prototype.keepSelect;
    /**
     * 数据为空时的高度
     * @type {?}
     */
    DatagridComponent.prototype.emptyDataHeight;
    /**
     * 空数据时，显示的提示文本
     * @type {?}
     */
    DatagridComponent.prototype.emptyMessage;
    /**
     * 无数据时的模板
     * @type {?}
     */
    DatagridComponent.prototype.emptyTemplate;
    /**
     * 主键字段
     * @type {?}
     */
    DatagridComponent.prototype.idField;
    /**
     * 请求数据源的URL
     * @type {?}
     */
    DatagridComponent.prototype.url;
    /**
     * 数据源
     * @type {?}
     */
    DatagridComponent.prototype.data;
    /**
     * 页脚数据
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._footerData;
    /**
     * 验证不通过时可以结束编辑
     * @type {?}
     */
    DatagridComponent.prototype.endEditByInvalid;
    /**
     * 列集合
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._columns;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._fields;
    /**
     * 数据折行，默认值：true,即在一行显示，不折行。
     * @type {?}
     */
    DatagridComponent.prototype.nowrap;
    /**
     * 虚拟加载
     * @type {?}
     */
    DatagridComponent.prototype.virtualized;
    /**
     * 是否启用异步加载数据
     * @type {?}
     */
    DatagridComponent.prototype.virtualizedAsyncLoad;
    /**
     * 行样式
     * @type {?}
     */
    DatagridComponent.prototype.rowStyler;
    /**
     * 编辑方式： row(整行编辑)、cell(单元格编辑)；默认为 row
     * @type {?}
     */
    DatagridComponent.prototype.editMode;
    /**
     * 编辑状态
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._editable;
    /**
     * 启用可编辑单元格样式。
     * @type {?}
     */
    DatagridComponent.prototype.enableEditCellStyle;
    /**
     * 进入编辑状态时选是否选中文本；默认为 false
     * 仅文本框支持此特性
     * @type {?}
     */
    DatagridComponent.prototype.selectOnEditing;
    /**
     * 编辑器高度
     * @type {?}
     */
    DatagridComponent.prototype.editorHeight;
    /**
     * 启用远端排序
     * @type {?}
     */
    DatagridComponent.prototype.remoteSort;
    /**
     * 排序字段
     * @type {?}
     */
    DatagridComponent.prototype.sortName;
    /**
     * 排序方式 asc | desc
     * @type {?}
     */
    DatagridComponent.prototype.sortOrder;
    /**
     * 允许多列排序
     * @type {?}
     */
    DatagridComponent.prototype.multiSort;
    /** @type {?} */
    DatagridComponent.prototype.hoverRowCls;
    /**
     * 允许拖拽列顺序
     * @type {?}
     */
    DatagridComponent.prototype.enableDragColumn;
    /**
     * 行分组面板高度，默认 50PX
     * @type {?}
     */
    DatagridComponent.prototype.rowGroupPanelHeight;
    /**
     * 启用分组行
     * @type {?}
     */
    DatagridComponent.prototype.groupRows;
    /**
     * 启用行分组合计行
     * @type {?}
     */
    DatagridComponent.prototype.groupFooter;
    /**
     * 分组合计行自定义样式：
     * 允许的值为
     * - { cls: 'cssclassname, ', style: { color: 'red', border: 1px solid } }
     * - (groupFooterRowData): { cls: 'cssclassname, ', style: { color: 'red', border: 1px solid } } => {}
     * @type {?}
     */
    DatagridComponent.prototype.groupFooterStyler;
    /**
     * 合计数据显示位置
     * inGroupRow: 与分组在同一行，分别相关合计字段对齐
     * groupFooterRow: 在分组数据最后增加一行
     * 默认为 groupFooterRow
     * @type {?}
     */
    DatagridComponent.prototype.groupSummaryPosition;
    /**
     * 分组信息合并列数
     * 默认为 1
     * @type {?}
     */
    DatagridComponent.prototype.groupCellColSpan;
    /**
     * 分组字段名称, 多字段分组以英文逗号分隔
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._groupField;
    /** @type {?} */
    DatagridComponent.prototype.groupFields$;
    /**
     * 显示分组列
     * @type {?}
     */
    DatagridComponent.prototype.showGroupColumn;
    /**
     * 分组格式化
     * @type {?}
     */
    DatagridComponent.prototype.groupFormatter;
    /**
     * 分组行样式
     * @type {?}
     */
    DatagridComponent.prototype.groupStyler;
    /**
     * 显示分组列面板。默认为 false
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._showRowGroupPanel;
    /**
     * 双击表头适应内容宽度
     * @type {?}
     */
    DatagridComponent.prototype.AutoColumnWidthUseDblclick;
    /**
     * 行钩选及选中禁用表达式
     * @type {?}
     */
    DatagridComponent.prototype.disableRow;
    /**
     * 使用内部过滤器; 默认为 false
     * @type {?}
     */
    DatagridComponent.prototype.useDefaultFilter;
    /**
     * 过滤图标与排序图标合并，此属性与 enableFilterRow 互斥
     * @type {?}
     */
    DatagridComponent.prototype.enableSmartFilter;
    /**
     * 显示过滤行
     * @type {?}
     */
    DatagridComponent.prototype.enableFilterRow;
    /**
     * 服务器端过滤
     * @type {?}
     */
    DatagridComponent.prototype.remoteFilter;
    /**
     * 启用过滤条件显示条
     * @type {?}
     */
    DatagridComponent.prototype.showFilterBar;
    /**
     * 过滤条件汇总条高度，默认 32px
     * @type {?}
     */
    DatagridComponent.prototype.filterBarHeight;
    /** @type {?} */
    DatagridComponent.prototype.filterRowHeight;
    /** @type {?} */
    DatagridComponent.prototype.conditions;
    /** @type {?} */
    DatagridComponent.prototype.selectValue;
    /** @type {?} */
    DatagridComponent.prototype.checkValues;
    /** @type {?} */
    DatagridComponent.prototype.selectValues;
    /**
     * 合并单元格；先支持纵向合并
     * @type {?}
     */
    DatagridComponent.prototype.mergeCell;
    /** @type {?} */
    DatagridComponent.prototype.mergeFields;
    /**
     * 合并单元格数据启用客户端排序
     * @type {?}
     */
    DatagridComponent.prototype.enableClientSortForMergeCell;
    /**
     * 使用高级控制面板
     * @type {?}
     */
    DatagridComponent.prototype.useControlPanel;
    /**
     * 启用简洁控制面板模式。默认为 false
     * @type {?}
     */
    DatagridComponent.prototype.enableSimpleMode;
    /**
     * 点击列设置图标，默认打开的控制面板
     * @type {?}
     */
    DatagridComponent.prototype.controlPanelMode;
    /**
     * 阻止click 事件冒泡
     * @type {?}
     */
    DatagridComponent.prototype.stopPropagation;
    /**
     * (202105 弃用)
     * 点击单元格进行编辑状态时，关闭其他Grid的编辑器。默认 false，
     * 多个列表存时，仅有一个列表中有编辑状态，其他列表结束编辑
     * @type {?}
     */
    DatagridComponent.prototype.closeOtherGridEditor;
    /**
     * 当数据源为空时，清空已选记录
     * @type {?}
     */
    DatagridComponent.prototype.clearSelectionsWhenDataIsEmpty;
    /**
     * 启用右键菜单，默认为 false
     * @type {?}
     */
    DatagridComponent.prototype.enableContextMenu;
    /**
     * 右键菜单数据
     * @type {?}
     */
    DatagridComponent.prototype.contextMenus;
    /** @type {?} */
    DatagridComponent.prototype.selectValueChange;
    /** @type {?} */
    DatagridComponent.prototype.checkValuesChange;
    /** @type {?} */
    DatagridComponent.prototype.selectValuesChange;
    /** @type {?} */
    DatagridComponent.prototype.beforeEdit;
    /** @type {?} */
    DatagridComponent.prototype.beginEdit;
    /** @type {?} */
    DatagridComponent.prototype.afterEdit;
    /** @type {?} */
    DatagridComponent.prototype.endEdit;
    /** @type {?} */
    DatagridComponent.prototype.cancelEdited;
    /** @type {?} */
    DatagridComponent.prototype.scrollY;
    /** @type {?} */
    DatagridComponent.prototype.pageSizeChanged;
    /** @type {?} */
    DatagridComponent.prototype.pageChanged;
    /** @type {?} */
    DatagridComponent.prototype.loadSuccess;
    /** @type {?} */
    DatagridComponent.prototype.filterChanged;
    /** @type {?} */
    DatagridComponent.prototype.beforeSelect;
    /** @type {?} */
    DatagridComponent.prototype.beforeUnselect;
    /** @type {?} */
    DatagridComponent.prototype.beforeCheck;
    /** @type {?} */
    DatagridComponent.prototype.beforeUncheck;
    /** @type {?} */
    DatagridComponent.prototype.beforeSortColumn;
    /**
     * 启用选中单元格高亮显示
     * @type {?}
     */
    DatagridComponent.prototype.enableHighlightCell;
    /**
     * 选中的数据始终从数据源中获取. 默认为 false
     * @type {?}
     */
    DatagridComponent.prototype.checkedRowsDataFromSource;
    /**
     * 当前单元格为只读时，使用tab 键跳到下个单元格时，是否允许进入编辑状态，默认为 false;
     * 默认情况下，当前单元格只读，按TAB跳到下个CELL 时，选中CELL ，回车进入编辑。
     * 开启后，下个单元格自动进入编辑状态。
     * @type {?}
     */
    DatagridComponent.prototype.editcellWhenTabKeydwon;
    /**
     * 单元格点击前事件
     * @type {?}
     */
    DatagridComponent.prototype.beforeClickCell;
    /** @type {?} */
    DatagridComponent.prototype.dblclickRow;
    /** @type {?} */
    DatagridComponent.prototype.selectChanged;
    /** @type {?} */
    DatagridComponent.prototype.unSelect;
    /** @type {?} */
    DatagridComponent.prototype.selectAll;
    /** @type {?} */
    DatagridComponent.prototype.unSelectAll;
    /**
     * 异步请求虚拟加载
     * @type {?}
     */
    DatagridComponent.prototype.scrollYLoad;
    /** @type {?} */
    DatagridComponent.prototype.checked;
    /** @type {?} */
    DatagridComponent.prototype.unChecked;
    /** @type {?} */
    DatagridComponent.prototype.checkAll;
    /** @type {?} */
    DatagridComponent.prototype.unCheckAll;
    /** @type {?} */
    DatagridComponent.prototype.checkedChange;
    /** @type {?} */
    DatagridComponent.prototype.columnSorted;
    /** @type {?} */
    DatagridComponent.prototype.rowClick;
    /** @type {?} */
    DatagridComponent.prototype.rowAppended;
    /** @type {?} */
    DatagridComponent.prototype.rowDeleted;
    /** @type {?} */
    DatagridComponent.prototype.rowUpdated;
    /** @type {?} */
    DatagridComponent.prototype.dataChange;
    /**
     * 最后一行的最后单元格回车处理事件
     * @type {?}
     */
    DatagridComponent.prototype.lastCellEnterHandle;
    /**
     * 分组字段变化后
     * @type {?}
     */
    DatagridComponent.prototype.groupFieldChange;
    /**
     * 拖动列改变列显示位置后触发
     * @type {?}
     */
    DatagridComponent.prototype.columnMoved;
    /**
     * 单元格点击事件
     * @type {?}
     */
    DatagridComponent.prototype.cellClick;
    /** @type {?} */
    DatagridComponent.prototype.dgColumns;
    /** @type {?} */
    DatagridComponent.prototype.dgPager;
    /** @type {?} */
    DatagridComponent.prototype.resizeProxy;
    /** @type {?} */
    DatagridComponent.prototype.resizeProxyBg;
    /** @type {?} */
    DatagridComponent.prototype.dgContainer;
    /** @type {?} */
    DatagridComponent.prototype.longTextArea;
    /** @type {?} */
    DatagridComponent.prototype.smartFilterToolbar;
    /** @type {?} */
    DatagridComponent.prototype.colGroup;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._loading;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._selectedRow;
    /** @type {?} */
    DatagridComponent.prototype.ds;
    /** @type {?} */
    DatagridComponent.prototype.pagerOpts;
    /** @type {?} */
    DatagridComponent.prototype.restService;
    /** @type {?} */
    DatagridComponent.prototype.editors;
    /** @type {?} */
    DatagridComponent.prototype.validators;
    /** @type {?} */
    DatagridComponent.prototype.currentCell;
    /** @type {?} */
    DatagridComponent.prototype.flatColumns;
    /** @type {?} */
    DatagridComponent.prototype.footerWidth;
    /** @type {?} */
    DatagridComponent.prototype.clickDelay;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype.resizeColumnInfo;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype.ro;
    /** @type {?} */
    DatagridComponent.prototype.subscriptions;
    /** @type {?} */
    DatagridComponent.prototype.realHeaderHeight;
    /** @type {?} */
    DatagridComponent.prototype.isSingleClick;
    /** @type {?} */
    DatagridComponent.prototype.docuemntCellClickEvents;
    /** @type {?} */
    DatagridComponent.prototype.documentCellClickHandler;
    /** @type {?} */
    DatagridComponent.prototype.documentCellKeydownEvents;
    /** @type {?} */
    DatagridComponent.prototype.documentCellKeydownHandler;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype.modalClickEvent;
    /** @type {?} */
    DatagridComponent.prototype.documentRowKeydownHandler;
    /** @type {?} */
    DatagridComponent.prototype.documentRowEditKeydownHanlder;
    /** @type {?} */
    DatagridComponent.prototype.documentClickEndRowEditHandler;
    /** @type {?} */
    DatagridComponent.prototype.pending;
    /** @type {?} */
    DatagridComponent.prototype.colFormatSer;
    /** @type {?} */
    DatagridComponent.prototype.scrollInstance;
    /** @type {?} */
    DatagridComponent.prototype.localeService;
    /** @type {?} */
    DatagridComponent.prototype.mergeCellInfo;
    /** @type {?} */
    DatagridComponent.prototype.ignoreTarget;
    /** @type {?} */
    DatagridComponent.prototype.clientFilterService;
    /** @type {?} */
    DatagridComponent.prototype.settingService;
    /** @type {?} */
    DatagridComponent.prototype.ControlPanelFeild;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._isResized;
    /** @type {?} */
    DatagridComponent.prototype.gridSize;
    /** @type {?} */
    DatagridComponent.prototype.clientFilterChanged;
    /** @type {?} */
    DatagridComponent.prototype.styleSheetId;
    /** @type {?} */
    DatagridComponent.prototype.groupRowPanelPlaceholder;
    /** @type {?} */
    DatagridComponent.prototype.commonUtils;
    /** @type {?} */
    DatagridComponent.prototype.smartFilterService;
    /** @type {?} */
    DatagridComponent.prototype.smartFilterResult;
    /** @type {?} */
    DatagridComponent.prototype.smartFilterBarHeight;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype.idService;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._active_datagrid_cls;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype._blured_datagrid_cls;
    /** @type {?} */
    DatagridComponent.prototype._custom_datagrid_cls;
    /** @type {?} */
    DatagridComponent.prototype.sms;
    /** @type {?} */
    DatagridComponent.prototype.focusRowIndex;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype.documentBodyMouseDown;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype.farrisInstances;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype.currentPagerData;
    /** @type {?} */
    DatagridComponent.prototype.trackByRows;
    /** @type {?} */
    DatagridComponent.prototype.onDocumentMouseDown;
    /** @type {?} */
    DatagridComponent.prototype.cd;
    /** @type {?} */
    DatagridComponent.prototype.el;
    /** @type {?} */
    DatagridComponent.prototype.inject;
    /** @type {?} */
    DatagridComponent.prototype.zone;
    /** @type {?} */
    DatagridComponent.prototype.dfs;
    /** @type {?} */
    DatagridComponent.prototype.dgs;
    /**
     * @type {?}
     * @private
     */
    DatagridComponent.prototype.app;
    /**
     * @type {?}
     * @protected
     */
    DatagridComponent.prototype.domSanitizer;
    /** @type {?} */
    DatagridComponent.prototype.render2;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWdyaWQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy91aS1kYXRhZ3JpZC8iLCJzb3VyY2VzIjpbImxpYi9kYXRhZ3JpZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFXQSxPQUFPLEVBQ0gsU0FBUyxFQUFVLEtBQUssRUFBRSxpQkFBaUIsRUFDM0MsZUFBZSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFDNUMsdUJBQXVCLEVBQUUsaUJBQWlCLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFDOUQsTUFBTSxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQWlCLGNBQWMsRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUM1RyxNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFekQsT0FBTyxjQUFjLE1BQU0sMEJBQTBCLENBQUM7QUFDdEQsT0FBTyxFQUFFLEVBQUUsRUFBa0MsZUFBZSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQzNFLE9BQU8sRUFBdUQsZ0JBQWdCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUM1RyxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUMzRSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxnREFBZ0QsQ0FBQztBQUV6RixPQUFPLEVBQWUsc0JBQXNCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUM5RSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFlBQVksRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLHFCQUFxQixFQUFFLGtCQUFrQixFQUFFLGdCQUFnQixFQUFFLFNBQVMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3ZLLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztB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Q0M7O0lBeHdDRywrQkFBNEI7O0lBQzVCLCtCQUFxQjs7SUFDckIsbUNBQXVCOztJQUFFLGlDQUFtQjs7SUFDNUMsZ0NBQWlDOztJQUNqQyxnQ0FBMkI7Ozs7O0lBQzNCLGdDQUEyQjs7Ozs7SUFDM0IseUNBQW9DOztJQUNwQyxvQ0FBeUIiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLypcclxuICogQEF1dGhvcjog55av54uC56eA5omNKEx1Y2FzIEh1YW5nKVxyXG4gKiBARGF0ZTogMjAxOS0wOC0wNiAwNzo0MzowN1xyXG4gKiBATGFzdEVkaXRvcnM6IOeWr+eLguengOaJjShMdWNhcyBIdWFuZylcclxuICogQExhc3RFZGl0VGltZTogMjAxOS0xMS0zMCAxNjo0Mjo1MVxyXG4gKiBAUVE6IDEwNTU4MTgyMzlcclxuICogQFZlcnNpb246IHYwLjguMFxyXG4gKiAtIDIwMjEvMDQvMDcg5aKe5YqgIGVuYWJsZUhpZ2hsaWdodENlbGwg5bGe5oCn77yM5pSv5oyB6YCJ5Lit5Y2V5YWD5qC86auY5LquXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICAgIENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgVmlld0VuY2Fwc3VsYXRpb24sXHJcbiAgICBDb250ZW50Q2hpbGRyZW4sIFF1ZXJ5TGlzdCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIFJlbmRlcmVyMiwgT25EZXN0cm95LCBPbkNoYW5nZXMsXHJcbiAgICBTaW1wbGVDaGFuZ2VzLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ2hhbmdlRGV0ZWN0b3JSZWYsIEluamVjdG9yLCBIb3N0QmluZGluZyxcclxuICAgIEFmdGVyQ29udGVudEluaXQsIE5nWm9uZSwgRWxlbWVudFJlZiwgVmlld0NoaWxkLCBBZnRlclZpZXdJbml0LCBBcHBsaWNhdGlvblJlZiwgVGVtcGxhdGVSZWYsIEhvc3RMaXN0ZW5lciwgRG9DaGVja1xyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcclxuaW1wb3J0IHsgRm9ybUdyb3VwLCBWYWxpZGF0b3JGbiB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IFJlc2l6ZU9ic2VydmVyIGZyb20gJ3Jlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbCc7XHJcbmltcG9ydCB7IG9mLCBTdWJzY3JpcHRpb24sIE9ic2VydmFibGUsIGZyb20sIEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBEYXRhQ29sdW1uLCBDdXN0b21TdHlsZSwgTW92ZURpcmVjdGlvbiwgQ29sdW1uR3JvdXAsIENvbHVtbkZpbHRlclR5cGUgfSBmcm9tICcuL3R5cGVzL2RhdGEtY29sdW1uJztcclxuaW1wb3J0IHsgRGF0YWdyaWRGYWNhZGVTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9kYXRhZ3JpZC1mYWNhZGUuc2VydmljZSc7XHJcbmltcG9ydCB7IERhdGFncmlkQ29sdW1uRGlyZWN0aXZlIH0gZnJvbSAnLi9jb21wb25lbnRzL2NvbHVtbnMvZGF0YWdyaWQtY29sdW1uLmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IENlbGxJbmZvLCBTZWxlY3RlZFJvdyB9IGZyb20gJy4vc2VydmljZXMvc3RhdGUnO1xyXG5pbXBvcnQgeyBSZXN0U2VydmljZSwgREFUQUdSSURfUkVTVF9TRVJWSUNFRSB9IGZyb20gJy4vc2VydmljZXMvcmVzdC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgRGF0YWdyaWRTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9kYXRhZ3JpZC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgR1JJRF9FRElUT1JTLCBDRUxMX1NFTEVDVEVEX0NMUywgR1JJRF9WQUxJREFUT1JTLCBTSVpFX1RZUEUsIEdSSURfU0VUVElOR1NfU0VSVklDRSwgR1JJRF9TRVRUSU5HU19IVFRQLCBDRUxMX0VESVRJTkdfQ0xTLCBUUl9QUkVGSVggfSBmcm9tICcuL3R5cGVzL2NvbnN0YW50JztcclxuaW1wb3J0IHsgRG9tSGFuZGxlciB9IGZyb20gJy4vc2VydmljZXMvZG9taGFuZGxlcic7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi91dGlscy91dGlscyc7XHJcbmltcG9ydCB7IENvbW1vblV0aWxzLCBGYXJyaXNDb21wb25lbnRJbnN0YW5jZVNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLWNvbW1vbic7XHJcbmltcG9ydCB7IENvbHVtbkZvcm1hdFNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLWNvbW1vbi9jb2x1bW4nO1xyXG5pbXBvcnQgeyBmbGF0dGVuLCBjbG9uZURlZXAgfSBmcm9tICdsb2Rhc2gtZXMnO1xyXG5pbXBvcnQgeyBTY3JvbGxiYXJEaXJlY3RpdmUgfSBmcm9tICcuL3Njcm9sbGJhci9zY3JvbGxiYXIuZGlyZWN0aXZlJztcclxuaW1wb3J0IHsgTG9jYWxlU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktbG9jYWxlJztcclxuaW1wb3J0IHsgQmVmb3JFdmVudFBhcmFtLCBSb3dFZGl0UGFyYW0gfSBmcm9tICcuL3R5cGVzL2V2ZW50LXBhcmFtcyc7XHJcbmltcG9ydCB7IERhdGFncmlkQ29sdW1uc0hlbHBlciB9IGZyb20gJy4vc2VydmljZXMvZGF0YWdyaWQtY29sdW1ucy5oZWxwZXInO1xyXG5pbXBvcnQgeyBEYXRhZ3JpZEZpbHRlclNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2RhdGFncmlkLWZpbHRlci5zZXJ2aWNlJztcclxuaW1wb3J0IHsgZGVib3VuY2VUaW1lIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xyXG5cclxuaW1wb3J0IHsgU21hcnRGaWx0ZXJUb29sYmFyQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2ZpbHRlci10b29sYmFyL3NtYXJ0LWZpbHRlci10b29sYmFyLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IERhdGFncmlkU21hcnRGaWx0ZXJTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9kYXRhZ3JpZC1zbWFydC1maWx0ZXIuc2VydmljZSc7XHJcbmltcG9ydCB7IElkU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktY29tbW9uJztcclxuaW1wb3J0IHsgU2VsZWN0aW9uTW9kZVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL3NlbGVjdGlvbi1tb2RlLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBDb250ZXh0TWVudUl0ZW0gfSBmcm9tICdAZmFycmlzL3VpLWNvbnRleHQtbWVudSc7XHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdmYXJyaXMtZGF0YWdyaWQnLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcuL2RhdGFncmlkLmNvbXBvbmVudC5odG1sJyxcclxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICAgIHByb3ZpZGVyczogW1xyXG4gICAgICAgIERhdGFncmlkRmFjYWRlU2VydmljZSxcclxuICAgICAgICBEYXRhZ3JpZFNlcnZpY2UsXHJcbiAgICAgICAgRGF0YWdyaWRTbWFydEZpbHRlclNlcnZpY2VcclxuICAgIF0sXHJcbiAgICBleHBvcnRBczogJ2RhdGFncmlkJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgRGF0YWdyaWRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSwgT25DaGFuZ2VzLCBBZnRlckNvbnRlbnRJbml0LCBBZnRlclZpZXdJbml0LCBEb0NoZWNrIHtcclxuICAgIHByaXZhdGUgYXV0aGVyID0gYEx1Y2FzIEh1YW5nIC0gUVE6MTA1NTgxODIzOWA7XHJcbiAgICBwcml2YXRlIHZlcnNpb24gPSAnMC44LngnO1xyXG4gICAgX19jb21wb25lbnRfdHlwZV9fID0gJ0RhdGFncmlkQ29tcG9uZW50JztcclxuXHJcbiAgICBASG9zdEJpbmRpbmcoJ3N0eWxlLnBvc2l0aW9uJykgcG9zID0gJ3JlbGF0aXZlJztcclxuICAgIEBIb3N0QmluZGluZygnY2xhc3MuZi1kYXRhZ3JpZC1mdWxsJykgaG9zdENscyA9IGZhbHNlO1xyXG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5mLWRhdGFncmlkLWF1dG8taGVpZ2h0JykgZ2V0IGF1dG9IZWlnaHRDbHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXV0b0hlaWdodDtcclxuICAgIH1cclxuICAgIC8qKiDkvb/nlKjkuLvpopggKi9cclxuICAgIEBJbnB1dCgpIHVzZVRoZW1lcyA9IHRydWU7XHJcbiAgICAvLyDnlKjkuo7lrZjlgqjnlKjmiLfkuKrmgKfljJborr7nva5cclxuICAgIEBJbnB1dCgpIGlkID0gJyc7XHJcbiAgICAvKiog6Ieq5Yqo6auY5bqmIC0g5ZCv55So5q2k5bGe5oCn5ZCO77yM5bCx5piv5LiA5Liq5pmu5pmu6YCa6YCa55qEIHRhYmxlICwg5LiN6IO957yW6L6R77yM5LiN6IO95o6S5bqP77yM5LiN6IO95YiG6aG177yM5LiN6IO9Li4uIOWwseaYr+S4gOWHoeiDjiAqL1xyXG4gICAgQElucHV0KCkgdXNlSHRtbFRhYmxlID0gZmFsc2U7XHJcbiAgICAvKiog6Ieq5Yqo6auY5bqmICovXHJcbiAgICBASW5wdXQoKSBhdXRvSGVpZ2h0ID0gZmFsc2U7XHJcbiAgICAvKiog5pi+56S66L655qGGICovXHJcbiAgICBASW5wdXQoKSBzaG93Qm9yZGVyID0gZmFsc2U7XHJcbiAgICAvKiog5ZCv55So5paR6ams57q/ICAqL1xyXG4gICAgQElucHV0KCkgc3RyaXBlZCA9IHRydWU7XHJcbiAgICAvKiog5a695bqmICovXHJcbiAgICBASW5wdXQoKSB3aWR0aCA9IDgwMDtcclxuICAgIC8qKiDpq5jluqYgKi9cclxuICAgIEBJbnB1dCgpIGhlaWdodCA9IDMwMDtcclxuXHJcbiAgICAvKiog5pi+56S66KGo5aS0ICovXHJcbiAgICBASW5wdXQoKSBzaG93SGVhZGVyID0gdHJ1ZTtcclxuICAgIC8qKiDooajlpLQt5Y2V6KGM6auY5bqmICovXHJcbiAgICBASW5wdXQoKSBoZWFkZXJIZWlnaHQgPSAzNTtcclxuICAgIC8qKiDooajlpLTmipjooYwgKi9cclxuICAgIEBJbnB1dCgpIGhlYWRlcldyYXAgPSBmYWxzZTtcclxuICAgIC8qKiDmmL7npLrpobXohJogKi9cclxuICAgIEBJbnB1dCgpIHNob3dGb290ZXIgPSBmYWxzZTtcclxuICAgIC8qKiDpobXohJrpu5jorqTooYzpq5ggKi9cclxuICAgIEBJbnB1dCgpIGZvb3RlckhlaWdodCA9IDI5O1xyXG4gICAgLyoqIOmhteiEmuaVsOaNruadpea6kCAqL1xyXG4gICAgQElucHV0KCkgZm9vdGVyRGF0YUZyb206ICdzZXJ2ZXInIHwgJ2NsaWVudCcgPSAnY2xpZW50JztcclxuICAgIC8qKiDpobXohJrlkIjorqHooYzmqKHmnb8gKi9cclxuICAgIEBJbnB1dCgpIGZvb3RlclRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gICAgLyoqIOWQiOiuoeihjOaYvuekuuS9jee9ru+8jOm7mOiupOS4uuW6lemDqCAqL1xyXG4gICAgQElucHV0KCkgZm9vdGVyUG9zaXRpb246ICd0b3AnIHwgJ2JvdHRvbScgfCAnYm90aCcgPSAnYm90dG9tJztcclxuICAgIC8qKiDpobXohJrooYzoh6rlrprkuYnmoLflvI8gKi9cclxuICAgIEBJbnB1dCgpIGZvb3RlclN0eWxlcjogKCkgPT4geyBjbHM/OiBzdHJpbmcsIHN0eWxlPzogYW55IH07XHJcbiAgICAvKiog6KGM6auYICovXHJcbiAgICBASW5wdXQoKSByb3dIZWlnaHQgPSAyOTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuvue9rmdyaWQg6KGM6auY5bC65a+4XHJcbiAgICAgKiBzbTog5bCP77yMbWQ6IOato+W4uO+8jCBsZzog5aSn77yMeGw6IOi2heWkp1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9zaXplVHlwZTogJ3NtJyB8ICdtZCcgfCAnbGcnIHwgJ3hsJyA9ICdzbSc7XHJcbiAgICBnZXQgc2l6ZVR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemVUeXBlO1xyXG4gICAgfVxyXG4gICAgQElucHV0KCkgc2V0IHNpemVUeXBlKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX3NpemVUeXBlID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDloavlhYXlrrnlmaggKi9cclxuICAgIHByaXZhdGUgX2ZpdCA9IGZhbHNlO1xyXG4gICAgQElucHV0KCkgZ2V0IGZpdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZml0O1xyXG4gICAgfVxyXG4gICAgc2V0IGZpdCh2YWw6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9maXQgPSB2YWw7XHJcbiAgICAgICAgdGhpcy5ob3N0Q2xzID0gdmFsO1xyXG4gICAgfVxyXG4gICAgLyoqIOWmguaenOS4uuecn++8jOWImeiHquWKqOWxleW8gC/mlLbnvKnliJfnmoTlpKflsI/ku6XpgILlkIjnvZHmoLzlrr3luqblubbpmLLmraLmsLTlubPmu5rliqjjgIIgKi9cclxuICAgIHByaXZhdGUgX2ZpdENvbHVtbnMgPSBmYWxzZTtcclxuICAgIEBJbnB1dCgpIGdldCBmaXRDb2x1bW5zKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9maXRDb2x1bW5zO1xyXG4gICAgfVxyXG4gICAgc2V0IGZpdENvbHVtbnModmFsOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fZml0Q29sdW1ucyA9IHZhbDtcclxuICAgICAgICB0aGlzLnNldEZpdENvbHVtbnModmFsKTtcclxuICAgIH1cclxuICAgIC8qKiDmoLnmja5ncmlk55qE5a695bqm6Ieq5Yqo6LCD5pW05YiX5a695bqmICovXHJcbiAgICBwcml2YXRlIF9hdXRvRml0Q29sdW1ucyA9IGZhbHNlO1xyXG4gICAgQElucHV0KCkgZ2V0IGF1dG9GaXRDb2x1bW5zKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hdXRvRml0Q29sdW1ucztcclxuICAgIH1cclxuICAgIHNldCBhdXRvRml0Q29sdW1ucyh2YWwpIHtcclxuICAgICAgICB0aGlzLl9hdXRvRml0Q29sdW1ucyA9IHZhbDtcclxuICAgICAgICB0aGlzLmRmcy51cGRhdGVQcm9wZXJ0eSgnYXV0b0ZpdENvbHVtbnMnLCB2YWwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDnpoHnlKggKi9cclxuICAgIEBJbnB1dCgpIGRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAvKipcclxuICAgICAqIOa7muWKqOadoeaYvuekuuaooeW8j++8jOm7mOiupOS4uiBhdXRvXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIHNjcm9sbEJhclNob3dNb2RlOiAnYXV0bycgfCAnYWxsd2F5cycgPSAnYXV0byc7XHJcbiAgICBASW5wdXQoKSBzY3JvbGxCYXJPcHRpb25zID0ge1xyXG4gICAgICAgIHdpZHRoOiAxOCxcclxuICAgICAgICBoZWlnaHQ6IDE4XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKiDlj6/mi5bliqjliJforr7nva7liJflrr0gKi9cclxuICAgIEBJbnB1dCgpIHJlc2l6ZUNvbHVtbiA9IHRydWU7XHJcbiAgICAvKiog5pi+56S66KGM5Y+3ICovXHJcbiAgICBASW5wdXQoKSBzaG93TGluZU51bWJlciA9IGZhbHNlO1xyXG4gICAgLyoqIOihjOWPt+ihqOWktOWtl+espiAqL1xyXG4gICAgQElucHV0KCkgbGluZU51bWJlclRpdGxlID0gJ+W6j+WPtyc7XHJcbiAgICAvKiog6KGM5Y+35a695bqmICovXHJcbiAgICBASW5wdXQoKSBsaW5lTnVtYmVyV2lkdGggPSAzNjtcclxuICAgIC8qKiDpvKDmoIfmu5Hov4fmlYjmnpzlvIDlhbPvvIzpu5jorqTlvIDlkK8gKi9cclxuICAgIEBJbnB1dCgpIHJvd0hvdmVyID0gdHJ1ZTtcclxuICAgIC8qKiDlhYHorrjnvJbovpHml7bvvIzljZXlh7vov5vlhaXnvJbovpHnirbmgIE7IGZhbHNl5Li65Y+M5Ye76L+b5YWl57yW6L6RICovXHJcbiAgICBASW5wdXQoKSBjbGlja1RvRWRpdCA9IHRydWU7XHJcblxyXG4gICAgcHJpdmF0ZSBfbG9ja1BhZ2luYXRpb24gPSBmYWxzZTtcclxuICAgIC8qKiDplIHlrprliIbpobXmnaHvvIzplIHlrprlkI7pobXnoIHngrnlh7vml6DmlYggKi9cclxuICAgIEBJbnB1dCgpIGdldCBsb2NrUGFnaW5hdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbG9ja1BhZ2luYXRpb247XHJcbiAgICB9XHJcbiAgICBzZXQgbG9ja1BhZ2luYXRpb24odmFsOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fbG9ja1BhZ2luYXRpb24gPSB2YWw7XHJcbiAgICAgICAgaWYgKHRoaXMuZGdQYWdlcikge1xyXG4gICAgICAgICAgICB0aGlzLmRnUGFnZXJbdmFsID8gJ2xvY2snIDogJ3VubG9jayddKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKiDliIbpobXkv6Hmga8gKi9cclxuICAgIHByaXZhdGUgX19wYWdpbmF0aW9uID0gdHJ1ZTtcclxuICAgIEBJbnB1dCgpIHNldCBwYWdpbmF0aW9uKHZhbCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9fcGFnaW5hdGlvbiAhPT0gdmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX19wYWdpbmF0aW9uID0gdmFsO1xyXG4gICAgICAgICAgICB0aGlzLmRmcy51cGRhdGVQcm9wZXJ0eSgncGFnaW5hdGlvbicsIHZhbCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGdzLnNob3dHcmlkSGVhZGVyLmVtaXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgcGFnaW5hdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fX3BhZ2luYXRpb247XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKiog5YiG6aG15p2h5pi+56S65qih5byP77yMIGRlZmF1bHQsIHNpbXBsZSAqL1xyXG4gICAgQElucHV0KCkgcGFnZXJWaWV3TW9kZSA9ICdkZWZhdWx0JztcclxuICAgIC8qKiDlkK/nlKjmnI3liqHlmajnq6/liIbpobUgKi9cclxuICAgIEBJbnB1dCgpIHBhZ2VyT25TZXJ2ZXIgPSB0cnVlO1xyXG4gICAgLyoqIOavj+mhteiusOW9leaVsCAqL1xyXG4gICAgQElucHV0KCkgcGFnZUxpc3QgPSBbMTAsIDIwLCAzMCwgNTAsIDEwMF07XHJcbiAgICAvKiog5b2T5YmN6aG156CBICovXHJcbiAgICBASW5wdXQoKSBwYWdlSW5kZXggPSAxO1xyXG4gICAgLyoqIOavj+mhteiusOW9leaVsCAqL1xyXG4gICAgQElucHV0KCkgcGFnZVNpemUgPSAyMDtcclxuICAgIC8qKiDliIbpobXljLrpq5jluqYgKi9cclxuICAgIEBJbnB1dCgpIHBhZ2VySGVpZ2h0ID0gNTY7XHJcbiAgICAvKiog5pi+56S65q+P6aG16K6w5b2V5pWwICovXHJcbiAgICBASW5wdXQoKSBzaG93UGFnZUxpc3QgPSBmYWxzZTtcclxuICAgIC8qKiDmmL7npLrliIbpobXkv6Hmga8gKi9cclxuICAgIEBJbnB1dCgpIHNob3dQYWdlSW5mbyA9IHRydWU7XHJcbiAgICAvKiog5pi+56S66aG156CBICovXHJcbiAgICBASW5wdXQoKSBzaG93UGFnZU51bWJlciA9IHRydWU7XHJcbiAgICAvKiog5pi+56S66aG156CB5pyA5aSn5pWw6YePICovXHJcbiAgICBASW5wdXQoKSBwYWdlckxhYmVsU2l6ZSA9IDc7XHJcbiAgICAvKiog5pi+56S66L2s6Iez5oyH5a6a6aG156CB6L6T5YWl5qGGICovXHJcbiAgICBASW5wdXQoKSBzaG93R290b0lucHV0ID0gZmFsc2U7XHJcbiAgICAvKiog5ZCv55So6Leo6aG15aSa6YCJICovXHJcbiAgICBASW5wdXQoKSBlbmFibGVNb3JlUGFnZVNlbGVjdCA9IGZhbHNlO1xyXG4gICAgLyoqIOaYvuekuumAieS4reWIl+ihqCAqL1xyXG4gICAgQElucHV0KCkgc2hvd1NlbGVjdGVkTGlzdCA9IGZhbHNlO1xyXG4gICAgLyoqIOmAieS4reWIl+ihqOS4re+8jOavj+adoeiusOW9leaYvuekuueahOWGheWuuSAqL1xyXG4gICAgQElucHV0KCkgc2VsZWN0ZWRJdGVtRm9ybWF0dGVyOiAoZGF0YSkgPT4gc3RyaW5nO1xyXG4gICAgLyoqIOWNleWFg+agvOS/oeaBr+aPkOekuuW7tuaXtu+8jOm7mOiupCAxMDAwbXMgKi9cclxuICAgIEBJbnB1dCgpIGNlbGxUaXBUaW1lciA9IDEwMDA7XHJcbiAgICAvKiogZ3JpZCDlhoXpg6jlpITnkIbliIbpobXnirbmgIEgKi9cclxuICAgIEBJbnB1dCgpIGNvbnRyb2xQYWdpbmF0aW9uU3RhdGUgPSB0cnVlO1xyXG4gICAgLyoqIOaAu+iusOW9leaVsCAqL1xyXG4gICAgcHJpdmF0ZSBfdG90YWwgPSAwO1xyXG4gICAgZ2V0IHRvdGFsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90b3RhbDtcclxuICAgIH1cclxuXHJcbiAgICBASW5wdXQoKSBzZXQgdG90YWwodmFsOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl90b3RhbCA9IHZhbDtcclxuICAgICAgICB0aGlzLnBhZ2VyT3B0cy50b3RhbEl0ZW1zID0gdmFsO1xyXG4gICAgICAgIGlmICghdGhpcy5wYWdpbmF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZXJPcHRzLml0ZW1zUGVyUGFnZSA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kZnMuc2V0VG90YWwodmFsKTtcclxuICAgIH1cclxuICAgIC8qKiDlkK/nlKjpgInkuK3ooYwgKi9cclxuICAgIEBJbnB1dCgpIGVuYWJsZVNlbGVjdFJvdyA9IHRydWU7XHJcbiAgICAvKiog5ZCv55So5aSa6YCJICovXHJcbiAgICBASW5wdXQoKSBtdWx0aVNlbGVjdCA9IGZhbHNlO1xyXG4gICAgLyoqIOWQr+eUqOWkmumAieaXtu+8jOaYr+WQpuaYvuekumNoZWNrYm94ICovXHJcbiAgICBASW5wdXQoKSBzaG93Q2hlY2tib3ggPSBmYWxzZTtcclxuICAgIC8qKiDmmL7npLrlhajpgIljaGVja2JveCAqL1xyXG4gICAgQElucHV0KCkgc2hvd0FsbENoZWNrYm94ID0gZmFsc2U7XHJcbiAgICAvKiog5b2T5ZCv55So5aSa6YCJ5pe277yM54K55Ye76KGM6YCJ5Lit77yM5Y+q5YWB6K645LiU5Y+q5pyJ5LiA6KGM6KKr6YCJ5Lit44CCLCDpu5jorqTkuLogdHJ1ZSAqL1xyXG4gICAgQElucHV0KCkgb25seVNlbGVjdFNlbGYgPSB0cnVlO1xyXG4gICAgLyoqIOWQr+eUqOWkmumAieS4lOaYvuekumNoZWNrYm94LCDpgInkuK3ooYzlkIzml7bpkqnpgIksIOm7mOiupOS4uiBmYWxzZSAqL1xyXG4gICAgQElucHV0KCkgY2hlY2tPblNlbGVjdCA9IGZhbHNlO1xyXG4gICAgLyoqIOWQr+eUqOWkmumAieS4lOaYvuekumNoZWNrYm94LCDpkqnpgInlkI7pgInkuK3ooYwsIOm7mOiupOS4uiBmYWxzZSAqL1xyXG4gICAgQElucHV0KCkgc2VsZWN0T25DaGVjayA9IGZhbHNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiDooYzpgInkuK3mqKHlvI/vvIxjdXN0b206IOiHquWumuS5ie+8jCBkZWZhdWx0OiDpu5jorqQg5Lu/V2luZG93c+i1hOa6kOeuoeeQhuWZqOmAieS4rVxyXG4gICAgICog5rOo5oSP77yaIOatpOWxnuaAp+S7heWkmumAie+8jOaYvuekuuWkjemAieahhuacieaViFxyXG4gICAgICogYWRkVGltZTogMjAyMS0xMi0xNCBieSBMVUNBUyBIVUFOR1xyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBzZWxlY3Rpb25Nb2RlOiAnY3VzdG9tJyB8ICdkZWZhdWx0JyA9ICdjdXN0b20nO1xyXG4gICAgLyoqXHJcbiAgICAgKiDljZXlh7vooYzpgInkuK3lkI7vvIzlnKjmrKHngrnlh7vkuI3kvJrooqvlj5bmtojpgInkuK3nirbmgIE7XHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGtlZXBTZWxlY3QgPSB0cnVlO1xyXG5cclxuICAgIC8qKiDmlbDmja7kuLrnqbrml7bnmoTpq5jluqYgKi9cclxuICAgIEBJbnB1dCgpIGVtcHR5RGF0YUhlaWdodCA9IDI0MDtcclxuICAgIC8qKiDnqbrmlbDmja7ml7bvvIzmmL7npLrnmoTmj5DnpLrmlofmnKwgKi9cclxuICAgIEBJbnB1dCgpIGVtcHR5TWVzc2FnZSA9ICfmmoLml6DmlbDmja4nO1xyXG4gICAgLyoqIOaXoOaVsOaNruaXtueahOaooeadvyAqL1xyXG4gICAgQElucHV0KCkgZW1wdHlUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PiA9IG51bGw7XHJcblxyXG4gICAgLyoqIOS4u+mUruWtl+autSAqL1xyXG4gICAgQElucHV0KCkgaWRGaWVsZCA9ICdpZCc7XHJcbiAgICAvKiog6K+35rGC5pWw5o2u5rqQ55qEVVJMICovXHJcbiAgICBASW5wdXQoKSB1cmw6IHN0cmluZztcclxuICAgIC8qKiDmlbDmja7mupAgKi9cclxuICAgIEBJbnB1dCgpIGRhdGE6IGFueVtdO1xyXG5cclxuICAgIC8qKiDpobXohJrmlbDmja4gKi9cclxuICAgIHByaXZhdGUgX2Zvb3RlckRhdGE6IE9ic2VydmFibGU8YW55W10+ID0gb2YoW10pO1xyXG4gICAgQElucHV0KCkgZ2V0IGZvb3RlckRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvb3RlckRhdGE7XHJcbiAgICB9XHJcbiAgICBzZXQgZm9vdGVyRGF0YShyb3dzKSB7XHJcbiAgICAgICAgaWYgKHJvd3MpIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocm93cykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Zvb3RlckRhdGEgPSBvZihyb3dzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Zvb3RlckRhdGEgPSByb3dzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyb3dzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Rm9vdGVySGVpZ2h0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKiDpqozor4HkuI3pgJrov4fml7blj6/ku6Xnu5PmnZ/nvJbovpEgKi9cclxuICAgIEBJbnB1dCgpIGVuZEVkaXRCeUludmFsaWQgPSB0cnVlO1xyXG5cclxuICAgIC8qKiDliJfpm4blkIggKi9cclxuICAgIHByaXZhdGUgX2NvbHVtbnMgPSBbXTtcclxuICAgIEBJbnB1dCgpXHJcbiAgICBnZXQgY29sdW1ucygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29sdW1ucztcclxuICAgIH1cclxuICAgIHNldCBjb2x1bW5zKHZhbHVlcykge1xyXG4gICAgICAgIHRoaXMuX2NvbHVtbnMgPSB0aGlzLmNvcnJlY3RDb2x1bW5zKHZhbHVlcyk7XHJcbiAgICAgICAgdGhpcy5kZnMudXBkYXRlUHJvcGVydHkoJ2NvbHVtbnMnLCB0aGlzLl9jb2x1bW5zKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9maWVsZHMgPSBbXTtcclxuICAgIGdldCBmaWVsZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpZWxkcztcclxuICAgIH1cclxuXHJcbiAgICBASW5wdXQoKSBzZXQgZmllbGRzKGNvbHMpIHtcclxuICAgICAgICB0aGlzLl9maWVsZHMgPSBjb2xzO1xyXG4gICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbHM7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbHVtbnNDaGFuZ2VkKGZhbHNlLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiog5pWw5o2u5oqY6KGM77yM6buY6K6k5YC877yadHJ1ZSzljbPlnKjkuIDooYzmmL7npLrvvIzkuI3mipjooYzjgIIgKi9cclxuICAgIEBJbnB1dCgpIG5vd3JhcCA9IHRydWU7XHJcbiAgICAvKiog6Jma5ouf5Yqg6L29ICovXHJcbiAgICBASW5wdXQoKSB2aXJ0dWFsaXplZCA9IGZhbHNlO1xyXG4gICAgLyoqIOaYr+WQpuWQr+eUqOW8guatpeWKoOi9veaVsOaNriAqL1xyXG4gICAgQElucHV0KCkgdmlydHVhbGl6ZWRBc3luY0xvYWQgPSBmYWxzZTtcclxuICAgIC8qKiDooYzmoLflvI8gKi9cclxuICAgIEBJbnB1dCgpIHJvd1N0eWxlcjogKHJvd0RhdGEsIHJvd0luZGV4PzogbnVtYmVyKSA9PiB7IGNscz86IHN0cmluZywgc3R5bGU/OiBhbnkgfTtcclxuICAgIC8qKiDnvJbovpHmlrnlvI/vvJogcm93KOaVtOihjOe8lui+kSnjgIFjZWxsKOWNleWFg+agvOe8lui+kSnvvJvpu5jorqTkuLogcm93ICovXHJcbiAgICBASW5wdXQoKSBlZGl0TW9kZTogJ3JvdycgfCAnY2VsbCcgPSAncm93JztcclxuICAgIC8qKiDnvJbovpHnirbmgIEgKi9cclxuICAgIHByaXZhdGUgX2VkaXRhYmxlID0gZmFsc2U7XHJcbiAgICBnZXQgZWRpdGFibGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRhYmxlO1xyXG4gICAgfVxyXG4gICAgQElucHV0KCkgc2V0IGVkaXRhYmxlKHYpIHtcclxuICAgICAgICBpZiAodGhpcy5fZWRpdGFibGUgIT09IHYpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWRpdGFibGUgPSB2O1xyXG4gICAgICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICAgICAgdGhpcy5kZ3MudXBkYXRlRW1wdHlTdHlsZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiDlkK/nlKjlj6/nvJbovpHljZXlhYPmoLzmoLflvI/jgIIgKi9cclxuICAgIEBJbnB1dCgpIGVuYWJsZUVkaXRDZWxsU3R5bGUgPSBmYWxzZTtcclxuXHJcbiAgICAvKiog6L+b5YWl57yW6L6R54q25oCB5pe26YCJ5piv5ZCm6YCJ5Lit5paH5pys77yb6buY6K6k5Li6IGZhbHNlXHJcbiAgICAgKiDku4XmlofmnKzmoYbmlK/mjIHmraTnibnmgKdcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgc2VsZWN0T25FZGl0aW5nID0gZmFsc2U7XHJcblxyXG4gICAgLyoqIOe8lui+keWZqOmrmOW6piAqL1xyXG4gICAgQElucHV0KCkgZWRpdG9ySGVpZ2h0ID0gMzA7XHJcbiAgICAvKiog5ZCv55So6L+c56uv5o6S5bqPICovXHJcbiAgICBASW5wdXQoKSByZW1vdGVTb3J0ID0gZmFsc2U7XHJcbiAgICAvKiog5o6S5bqP5a2X5q61ICovXHJcbiAgICBASW5wdXQoKSBzb3J0TmFtZTogc3RyaW5nO1xyXG4gICAgLyoqIOaOkuW6j+aWueW8jyBhc2MgfCBkZXNjICovXHJcbiAgICBASW5wdXQoKSBzb3J0T3JkZXI6IHN0cmluZztcclxuICAgIC8qKiDlhYHorrjlpJrliJfmjpLluo8gKi9cclxuICAgIEBJbnB1dCgpIG11bHRpU29ydDogYm9vbGVhbjtcclxuXHJcbiAgICBASW5wdXQoKSBob3ZlclJvd0NscyA9ICdmLWRhdGFncmlkLXJvdy1ob3Zlcic7XHJcblxyXG4gICAgLyoqIOWFgeiuuOaLluaLveWIl+mhuuW6jyAqL1xyXG4gICAgQElucHV0KCkgZW5hYmxlRHJhZ0NvbHVtbiA9IGZhbHNlO1xyXG5cclxuICAgIC8qKiDooYzliIbnu4TpnaLmnb/pq5jluqbvvIzpu5jorqQgNTBQWCAqL1xyXG4gICAgQElucHV0KCkgcm93R3JvdXBQYW5lbEhlaWdodCA9IDUwO1xyXG4gICAgLyoqIOWQr+eUqOWIhue7hOihjCAqL1xyXG4gICAgQElucHV0KCkgZ3JvdXBSb3dzID0gZmFsc2U7XHJcbiAgICAvKiog5ZCv55So6KGM5YiG57uE5ZCI6K6h6KGMICovXHJcbiAgICBASW5wdXQoKSBncm91cEZvb3RlciA9IGZhbHNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiDliIbnu4TlkIjorqHooYzoh6rlrprkuYnmoLflvI/vvJpcclxuICAgICAqIOWFgeiuuOeahOWAvOS4ulxyXG4gICAgICogLSB7IGNsczogJ2Nzc2NsYXNzbmFtZSwgJywgc3R5bGU6IHsgY29sb3I6ICdyZWQnLCBib3JkZXI6IDFweCBzb2xpZCB9IH1cclxuICAgICAqIC0gKGdyb3VwRm9vdGVyUm93RGF0YSk6IHsgY2xzOiAnY3NzY2xhc3NuYW1lLCAnLCBzdHlsZTogeyBjb2xvcjogJ3JlZCcsIGJvcmRlcjogMXB4IHNvbGlkIH0gfSA9PiB7fVxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBncm91cEZvb3RlclN0eWxlcjogYW55O1xyXG4gICAgLyoqIOWQiOiuoeaVsOaNruaYvuekuuS9jee9rlxyXG4gICAgICogaW5Hcm91cFJvdzog5LiO5YiG57uE5Zyo5ZCM5LiA6KGM77yM5YiG5Yir55u45YWz5ZCI6K6h5a2X5q615a+56b2QXHJcbiAgICAgKiBncm91cEZvb3RlclJvdzog5Zyo5YiG57uE5pWw5o2u5pyA5ZCO5aKe5Yqg5LiA6KGMXHJcbiAgICAgKiDpu5jorqTkuLogZ3JvdXBGb290ZXJSb3dcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgZ3JvdXBTdW1tYXJ5UG9zaXRpb246ICdpbkdyb3VwUm93JyB8ICdncm91cEZvb3RlclJvdycgPSAnZ3JvdXBGb290ZXJSb3cnO1xyXG4gICAgLyoqIOWIhue7hOS/oeaBr+WQiOW5tuWIl+aVsFxyXG4gICAgICog6buY6K6k5Li6IDFcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgZ3JvdXBDZWxsQ29sU3BhbiA9IDE7XHJcblxyXG4gICAgLyoqIOWIhue7hOWtl+auteWQjeensCwg5aSa5a2X5q615YiG57uE5Lul6Iux5paH6YCX5Y+35YiG6ZqUICovXHJcbiAgICBwcml2YXRlIF9ncm91cEZpZWxkID0gJyc7XHJcbiAgICBncm91cEZpZWxkcyQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KFtdKTtcclxuICAgIGdldCBncm91cEZpZWxkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ncm91cEZpZWxkO1xyXG4gICAgfVxyXG4gICAgQElucHV0KCkgc2V0IGdyb3VwRmllbGQodmFsKSB7XHJcbiAgICAgICAgdGhpcy5fZ3JvdXBGaWVsZCA9IHZhbCB8fCAnJztcclxuICAgICAgICBpZiAodGhpcy5ncm91cEZpZWxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBGaWVsZHMkLm5leHQodGhpcy5ncm91cEZpZWxkLnNwbGl0KCcsJykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBGaWVsZHMkLm5leHQoW10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRmcy51cGRhdGVQcm9wZXJ0eSgnZ3JvdXBGaWVsZCcsIHRoaXMuX2dyb3VwRmllbGQpO1xyXG4gICAgfVxyXG4gICAgLyoqIOaYvuekuuWIhue7hOWIlyAqL1xyXG4gICAgQElucHV0KCkgc2hvd0dyb3VwQ29sdW1uID0gdHJ1ZTtcclxuICAgIC8qKiDliIbnu4TmoLzlvI/ljJYgKi9cclxuICAgIEBJbnB1dCgpIGdyb3VwRm9ybWF0dGVyOiAoZ3JvdXBSb3c6IGFueSkgPT4gYW55O1xyXG4gICAgLyoqIOWIhue7hOihjOagt+W8jyAqL1xyXG4gICAgQElucHV0KCkgZ3JvdXBTdHlsZXI6IChncm91cFJvdzogYW55KSA9PiB7IGNscz86IHN0cmluZywgc3R5bGU/OiBhbnkgfTtcclxuXHJcbiAgICAvKiog5pi+56S65YiG57uE5YiX6Z2i5p2/44CC6buY6K6k5Li6IGZhbHNlICovXHJcbiAgICBwcml2YXRlIF9zaG93Um93R3JvdXBQYW5lbCA9IGZhbHNlO1xyXG4gICAgQElucHV0KCkgc2V0IHNob3dSb3dHcm91cFBhbmVsKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX3Nob3dSb3dHcm91cFBhbmVsID0gdmFsO1xyXG4gICAgfVxyXG4gICAgZ2V0IHNob3dSb3dHcm91cFBhbmVsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdyb3VwUm93cyAmJiB0aGlzLl9zaG93Um93R3JvdXBQYW5lbDtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5Y+M5Ye76KGo5aS06YCC5bqU5YaF5a655a695bqmICovXHJcbiAgICBASW5wdXQoKSBBdXRvQ29sdW1uV2lkdGhVc2VEYmxjbGljayA9IHRydWU7XHJcbiAgICAvKiog6KGM6ZKp6YCJ5Y+K6YCJ5Lit56aB55So6KGo6L6+5byPICovXHJcbiAgICBASW5wdXQoKSBkaXNhYmxlUm93OiAocm93LCBpbmRleD86IGFueSkgPT4gYm9vbGVhbjtcclxuICAgIC8qKiDkvb/nlKjlhoXpg6jov4fmu6Tlmag7IOm7mOiupOS4uiBmYWxzZSAqL1xyXG4gICAgQElucHV0KCkgdXNlRGVmYXVsdEZpbHRlciA9IGZhbHNlO1xyXG4gICAgLyoqIOi/h+a7pOWbvuagh+S4juaOkuW6j+Wbvuagh+WQiOW5tu+8jOatpOWxnuaAp+S4jiBlbmFibGVGaWx0ZXJSb3cg5LqS5palICovXHJcbiAgICBASW5wdXQoKSBlbmFibGVTbWFydEZpbHRlciA9IGZhbHNlO1xyXG4gICAgLyoqIOaYvuekuui/h+a7pOihjCAqL1xyXG4gICAgQElucHV0KCkgZW5hYmxlRmlsdGVyUm93ID0gZmFsc2U7XHJcbiAgICAvKiog5pyN5Yqh5Zmo56uv6L+H5rukICovXHJcbiAgICBASW5wdXQoKSByZW1vdGVGaWx0ZXIgPSBmYWxzZTtcclxuICAgIC8qKiDlkK/nlKjov4fmu6TmnaHku7bmmL7npLrmnaEgKi9cclxuICAgIEBJbnB1dCgpIHNob3dGaWx0ZXJCYXIgPSBmYWxzZTtcclxuICAgIC8qKiDov4fmu6TmnaHku7bmsYfmgLvmnaHpq5jluqbvvIzpu5jorqQgMzJweCAgKi9cclxuICAgIEBJbnB1dCgpIGZpbHRlckJhckhlaWdodCA9IDMyO1xyXG4gICAgQElucHV0KCkgZmlsdGVyUm93SGVpZ2h0ID0gNDA7XHJcbiAgICBASW5wdXQoKSBjb25kaXRpb25zOiBhbnkgPSB7fTtcclxuXHJcbiAgICBASW5wdXQoKSBzZWxlY3RWYWx1ZSA9IG51bGw7XHJcbiAgICBASW5wdXQoKSBjaGVja1ZhbHVlcyA9IFtdO1xyXG4gICAgQElucHV0KCkgc2VsZWN0VmFsdWVzID0gW107XHJcblxyXG4gICAgLyoqIOWQiOW5tuWNleWFg+agvO+8m+WFiOaUr+aMgee6teWQkeWQiOW5tiAqL1xyXG4gICAgQElucHV0KCkgbWVyZ2VDZWxsID0gZmFsc2U7XHJcbiAgICBASW5wdXQoKSBtZXJnZUZpZWxkcyA9IFtdO1xyXG4gICAgLyoqIOWQiOW5tuWNleWFg+agvOaVsOaNruWQr+eUqOWuouaIt+err+aOkuW6jyAqL1xyXG4gICAgQElucHV0KCkgZW5hYmxlQ2xpZW50U29ydEZvck1lcmdlQ2VsbCA9IGZhbHNlO1xyXG4gICAgLyoqIOS9v+eUqOmrmOe6p+aOp+WItumdouadvyAqL1xyXG4gICAgQElucHV0KCkgdXNlQ29udHJvbFBhbmVsID0gZmFsc2U7XHJcbiAgICAvKiog5ZCv55So566A5rSB5o6n5Yi26Z2i5p2/5qih5byP44CC6buY6K6k5Li6IGZhbHNlICovXHJcbiAgICBASW5wdXQoKSBlbmFibGVTaW1wbGVNb2RlID0gZmFsc2U7XHJcbiAgICAvKiog54K55Ye75YiX6K6+572u5Zu+5qCH77yM6buY6K6k5omT5byA55qE5o6n5Yi26Z2i5p2/ICovXHJcbiAgICBASW5wdXQoKSBjb250cm9sUGFuZWxNb2RlOiAnYWR2YW5jZWQnIHwgJ3NpbXBsZScgPSAnYWR2YW5jZWQnO1xyXG4gICAgLyoqIOmYu+atomNsaWNrIOS6i+S7tuWGkuazoSAqL1xyXG4gICAgQElucHV0KCkgc3RvcFByb3BhZ2F0aW9uID0gdHJ1ZTtcclxuICAgIC8qKlxyXG4gICAgICogKDIwMjEwNSDlvIPnlKgpXHJcbiAgICAgKiDngrnlh7vljZXlhYPmoLzov5vooYznvJbovpHnirbmgIHml7bvvIzlhbPpl63lhbbku5ZHcmlk55qE57yW6L6R5Zmo44CC6buY6K6kIGZhbHNl77yMXHJcbiAgICAgKiDlpJrkuKrliJfooajlrZjml7bvvIzku4XmnInkuIDkuKrliJfooajkuK3mnInnvJbovpHnirbmgIHvvIzlhbbku5bliJfooajnu5PmnZ/nvJbovpFcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgY2xvc2VPdGhlckdyaWRFZGl0b3IgPSBmYWxzZTtcclxuICAgIC8qKiDlvZPmlbDmja7mupDkuLrnqbrml7bvvIzmuIXnqbrlt7LpgInorrDlvZUgKi9cclxuICAgIEBJbnB1dCgpIGNsZWFyU2VsZWN0aW9uc1doZW5EYXRhSXNFbXB0eSA9IHRydWU7XHJcbiAgICAvKiog5ZCv55So5Y+z6ZSu6I+c5Y2V77yM6buY6K6k5Li6IGZhbHNlICovXHJcbiAgICBASW5wdXQoKSBlbmFibGVDb250ZXh0TWVudSA9IGZhbHNlO1xyXG4gICAgLyoqIOWPs+mUruiPnOWNleaVsOaNriAqL1xyXG4gICAgQElucHV0KCkgY29udGV4dE1lbnVzOiBDb250ZXh0TWVudUl0ZW1bXSA9IG51bGw7XHJcblxyXG4gICAgQE91dHB1dCgpIHNlbGVjdFZhbHVlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgQE91dHB1dCgpIGNoZWNrVmFsdWVzQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgQE91dHB1dCgpIHNlbGVjdFZhbHVlc0NoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgICBASW5wdXQoKSBiZWZvcmVFZGl0OiAocGFyYW06IFJvd0VkaXRQYXJhbSkgPT4gT2JzZXJ2YWJsZTxib29sZWFuPjtcclxuICAgIEBPdXRwdXQoKSBiZWdpbkVkaXQgPSBuZXcgRXZlbnRFbWl0dGVyPFJvd0VkaXRQYXJhbT4oKTtcclxuICAgIEBJbnB1dCgpIGFmdGVyRWRpdDogKHJvd0luZGV4OiBudW1iZXIsIHJvd0RhdGE6IGFueSwgY29sdW1uPzogRGF0YUNvbHVtbiwgZWRpdG9yPzogYW55KSA9PiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xyXG4gICAgQE91dHB1dCgpIGVuZEVkaXQgPSBuZXcgRXZlbnRFbWl0dGVyPHsgcm93SW5kZXg6IG51bWJlciwgcm93RGF0YTogYW55LCBjb2x1bW4/OiBEYXRhQ29sdW1uLCB2YWx1ZT86IGFueSB9PigpO1xyXG4gICAgQE91dHB1dCgpIGNhbmNlbEVkaXRlZCA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xyXG5cclxuICAgIEBPdXRwdXQoKSBzY3JvbGxZID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIEBPdXRwdXQoKSBwYWdlU2l6ZUNoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICBAT3V0cHV0KCkgcGFnZUNoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gICAgQE91dHB1dCgpIGxvYWRTdWNjZXNzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIEBPdXRwdXQoKSBmaWx0ZXJDaGFuZ2VkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIEBJbnB1dCgpIGJlZm9yZVNlbGVjdDogKHBhcmFtczogQmVmb3JFdmVudFBhcmFtKSA9PiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xyXG4gICAgQElucHV0KCkgYmVmb3JlVW5zZWxlY3Q6IChwYXJhbXM6IEJlZm9yRXZlbnRQYXJhbSkgPT4gT2JzZXJ2YWJsZTxib29sZWFuPjtcclxuICAgIEBJbnB1dCgpIGJlZm9yZUNoZWNrOiAocGFyYW1zOiBCZWZvckV2ZW50UGFyYW0pID0+IE9ic2VydmFibGU8Ym9vbGVhbj47XHJcbiAgICBASW5wdXQoKSBiZWZvcmVVbmNoZWNrOiAocGFyYW1zOiBCZWZvckV2ZW50UGFyYW0pID0+IE9ic2VydmFibGU8Ym9vbGVhbj47XHJcbiAgICBASW5wdXQoKSBiZWZvcmVTb3J0Q29sdW1uOiAoZmllbGQ6IHN0cmluZywgb3JkZXI6IHN0cmluZywgaW5zdGFuY2U6IERhdGFncmlkQ29tcG9uZW50KSA9PiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xyXG4gICAgLyoqIOWQr+eUqOmAieS4reWNleWFg+agvOmrmOS6ruaYvuekuiAqL1xyXG4gICAgQElucHV0KCkgZW5hYmxlSGlnaGxpZ2h0Q2VsbCA9IGZhbHNlO1xyXG4gICAgLyoqICDpgInkuK3nmoTmlbDmja7lp4vnu4jku47mlbDmja7mupDkuK3ojrflj5YuIOm7mOiupOS4uiBmYWxzZSAqL1xyXG4gICAgQElucHV0KCkgY2hlY2tlZFJvd3NEYXRhRnJvbVNvdXJjZSA9IGZhbHNlO1xyXG4gICAgLyoqIOW9k+WJjeWNleWFg+agvOS4uuWPquivu+aXtu+8jOS9v+eUqHRhYiDplK7ot7PliLDkuIvkuKrljZXlhYPmoLzml7bvvIzmmK/lkKblhYHorrjov5vlhaXnvJbovpHnirbmgIHvvIzpu5jorqTkuLogZmFsc2U7XHJcbiAgICAgKiDpu5jorqTmg4XlhrXkuIvvvIzlvZPliY3ljZXlhYPmoLzlj6ror7vvvIzmjIlUQULot7PliLDkuIvkuKpDRUxMIOaXtu+8jOmAieS4rUNFTEwg77yM5Zue6L2m6L+b5YWl57yW6L6R44CCXHJcbiAgICAgKiDlvIDlkK/lkI7vvIzkuIvkuKrljZXlhYPmoLzoh6rliqjov5vlhaXnvJbovpHnirbmgIHjgIJcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgZWRpdGNlbGxXaGVuVGFiS2V5ZHdvbiA9IGZhbHNlO1xyXG5cclxuICAgIC8qKiDljZXlhYPmoLzngrnlh7vliY3kuovku7YgKi9cclxuICAgIEBPdXRwdXQoKSBiZWZvcmVDbGlja0NlbGwgPSBuZXcgRXZlbnRFbWl0dGVyPFJvd0VkaXRQYXJhbT4oKTtcclxuXHJcbiAgICBAT3V0cHV0KCkgZGJsY2xpY2tSb3cgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICBAT3V0cHV0KCkgc2VsZWN0Q2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXI8U2VsZWN0ZWRSb3c+KCk7XHJcbiAgICBAT3V0cHV0KCkgdW5TZWxlY3QgPSBuZXcgRXZlbnRFbWl0dGVyPFNlbGVjdGVkUm93PigpO1xyXG4gICAgQE91dHB1dCgpIHNlbGVjdEFsbCA9IG5ldyBFdmVudEVtaXR0ZXI8U2VsZWN0ZWRSb3dbXT4oKTtcclxuICAgIEBPdXRwdXQoKSB1blNlbGVjdEFsbCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIC8qKiDlvILmraXor7fmsYLomZrmi5/liqDovb0gKi9cclxuICAgIEBPdXRwdXQoKSBzY3JvbGxZTG9hZCA9IG5ldyBFdmVudEVtaXR0ZXI8eyBwYWdlcjogbnVtYmVyLCBwYWdlU2l6ZTogbnVtYmVyIH0+KCk7XHJcblxyXG4gICAgQE91dHB1dCgpIGNoZWNrZWQgPSBuZXcgRXZlbnRFbWl0dGVyPFNlbGVjdGVkUm93PigpO1xyXG4gICAgQE91dHB1dCgpIHVuQ2hlY2tlZCA9IG5ldyBFdmVudEVtaXR0ZXI8U2VsZWN0ZWRSb3c+KCk7XHJcbiAgICBAT3V0cHV0KCkgY2hlY2tBbGwgPSBuZXcgRXZlbnRFbWl0dGVyPFNlbGVjdGVkUm93W10+KCk7XHJcbiAgICBAT3V0cHV0KCkgdW5DaGVja0FsbCA9IG5ldyBFdmVudEVtaXR0ZXI8U2VsZWN0ZWRSb3dbXT4oKTtcclxuICAgIEBPdXRwdXQoKSBjaGVja2VkQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxTZWxlY3RlZFJvd1tdPigpO1xyXG5cclxuICAgIEBPdXRwdXQoKSBjb2x1bW5Tb3J0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuXHJcbiAgICBAT3V0cHV0KCkgcm93Q2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICBAT3V0cHV0KCkgcm93QXBwZW5kZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICBAT3V0cHV0KCkgcm93RGVsZXRlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIEBPdXRwdXQoKSByb3dVcGRhdGVkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIEBPdXRwdXQoKSBkYXRhQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIC8qKiDmnIDlkI7kuIDooYznmoTmnIDlkI7ljZXlhYPmoLzlm57ovablpITnkIbkuovku7YgKi9cclxuICAgIEBPdXRwdXQoKSBsYXN0Q2VsbEVudGVySGFuZGxlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgIC8qKiDliIbnu4TlrZfmrrXlj5jljJblkI4gKi9cclxuICAgIEBPdXRwdXQoKSBncm91cEZpZWxkQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgLyoqIOaLluWKqOWIl+aUueWPmOWIl+aYvuekuuS9jee9ruWQjuinpuWPkSAqL1xyXG4gICAgQE91dHB1dCgpIGNvbHVtbk1vdmVkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgLyoqIOWNleWFg+agvOeCueWHu+S6i+S7tiAqL1xyXG4gICAgQE91dHB1dCgpIGNlbGxDbGljayA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgICBAQ29udGVudENoaWxkcmVuKERhdGFncmlkQ29sdW1uRGlyZWN0aXZlKSBkZ0NvbHVtbnM/OiBRdWVyeUxpc3Q8RGF0YWdyaWRDb2x1bW5EaXJlY3RpdmU+O1xyXG4gICAgQFZpZXdDaGlsZCgnZGdQYWdlcicpIGRnUGFnZXI6IGFueTtcclxuICAgIEBWaWV3Q2hpbGQoJ3Jlc2l6ZVByb3h5JykgcmVzaXplUHJveHk6IEVsZW1lbnRSZWY7XHJcbiAgICBAVmlld0NoaWxkKCdyZXNpemVQcm94eUJnJykgcmVzaXplUHJveHlCZzogRWxlbWVudFJlZjtcclxuICAgIEBWaWV3Q2hpbGQoJ2RhdGFncmlkQ29udGFpbmVyJykgZGdDb250YWluZXI6IEVsZW1lbnRSZWY7XHJcbiAgICBAVmlld0NoaWxkKCdsb25nVGV4dEFyZWEnKSBsb25nVGV4dEFyZWE6IEVsZW1lbnRSZWY7XHJcbiAgICBAVmlld0NoaWxkKCdzbWFydGZpbHRlcnRvb2xiYXInKSBzbWFydEZpbHRlclRvb2xiYXI6IFNtYXJ0RmlsdGVyVG9vbGJhckNvbXBvbmVudDtcclxuICAgIGNvbEdyb3VwOiBDb2x1bW5Hcm91cDtcclxuXHJcbiAgICBwcml2YXRlIF9sb2FkaW5nID0gZmFsc2U7XHJcbiAgICBnZXQgbG9hZGluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGluZztcclxuICAgIH1cclxuICAgIHNldCBsb2FkaW5nKHZhbDogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX2xvYWRpbmcgPSB2YWw7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNkWydkZXN0cm95ZWQnXSkge1xyXG4gICAgICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNlbGVjdGlvbnMoKTogU2VsZWN0ZWRSb3dbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGZzLmdldFNlbGVjdGlvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2hlY2tlZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tlZFJvd3M7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNoZWNrZWRSb3dzKCkge1xyXG4gICAgICAgIGNvbnN0IGNoa2VkcyA9IHRoaXMuZGZzLmdldENoZWNrZWRzKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlTW9yZVBhZ2VTZWxlY3QpIHtcclxuICAgICAgICAgICAgaWYgKGNoa2VkcyAmJiBjaGtlZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tlZFJvd3NEYXRhRnJvbVNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uY2hrZWRzXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIOS7juaVsOaNrua6kOS4reiOt+WPluacgOaWsOaVsOaNrlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoa2Vkcy5tYXAobiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZCA9IHRoaXMuZGZzLmZpbmRSb3cobi5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbi5kYXRhID0gZC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbjtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gdGhpcy5kYXRhLm1hcChuID0+IG5bdGhpcy5pZEZpZWxkXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tlZFJvd3NEYXRhRnJvbVNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGtlZHMuZmlsdGVyKG4gPT4gdGVtcC5pbmNsdWRlcyhuLmlkKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyDku47mlbDmja7mupDkuK3ojrflj5bmnIDmlrDmlbDmja5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjaGtlZHMuZmlsdGVyKG4gPT4gdGVtcC5pbmNsdWRlcyhuLmlkKSkubWFwKG4gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGQgPSB0aGlzLmRmcy5maW5kUm93KG4uaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG4uZGF0YSA9IGQuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG47XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGNoZWNrZWRSb3dzKHJvd3M6IGFueVtdKSB7XHJcbiAgICAgICAgaWYgKHJvd3MgJiYgcm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcm93cyA9IHJvd3MubWFwKHIgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHIuZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogclt0aGlzLmlkRmllbGRdLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHJcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kZnMudXBkYXRlUHJvcGVydHkoJ2NoZWNrZWRSb3dzJywgcm93cyB8fCBbXSk7XHJcbiAgICAgICAgdGhpcy5pbml0U2VsZWN0T3JDaGVja2VkKCk7XHJcbiAgICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9zZWxlY3RlZFJvdyA9IG51bGw7XHJcbiAgICBnZXQgc2VsZWN0ZWRSb3coKTogU2VsZWN0ZWRSb3cge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZFJvdztcclxuICAgIH1cclxuICAgIHNldCBzZWxlY3RlZFJvdyhyb3cpIHtcclxuICAgICAgICBpZiAocm93KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdFZhbHVlICE9IHJvdy5pZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRSb3cgPSByb3c7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFZhbHVlID0gcm93LmlkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RWYWx1ZUNoYW5nZS5lbWl0KHJvdy5pZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdENoYW5nZWQuZW1pdChyb3cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51blNlbGVjdC5lbWl0KHRoaXMuX3NlbGVjdGVkUm93KTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RWYWx1ZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0VmFsdWVDaGFuZ2UuZW1pdCgnJyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkUm93ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHMgPSB7XHJcbiAgICAgICAgaW5kZXg6IDAsXHJcbiAgICAgICAgcm93czogW10sXHJcbiAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgIGJvdHRvbTogMCxcclxuICAgICAgICBzY3JvbGxpbmc6IGZhbHNlIC8vIOaYr+WQpueUsea7muWKqOadoeinpuWPkVxyXG4gICAgfTtcclxuXHJcbiAgICBwYWdlck9wdHM6IGFueSA9IHt9O1xyXG4gICAgcmVzdFNlcnZpY2U6IFJlc3RTZXJ2aWNlO1xyXG4gICAgZWRpdG9yczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xyXG5cclxuICAgIHZhbGlkYXRvcnM6IHsgbmFtZTogc3RyaW5nLCB2YWx1ZTogVmFsaWRhdG9yRm4gfVtdID0gW107XHJcblxyXG4gICAgY3VycmVudENlbGw6IENlbGxJbmZvO1xyXG4gICAgZmxhdENvbHVtbnM6IERhdGFDb2x1bW5bXTtcclxuICAgIGZvb3RlcldpZHRoID0gMDtcclxuXHJcbiAgICBjbGlja0RlbGF5ID0gMTUwO1xyXG4gICAgcHJpdmF0ZSByZXNpemVDb2x1bW5JbmZvID0ge1xyXG4gICAgICAgIHByb3h5TGluZUVkZ2U6IDAsXHJcbiAgICAgICAgc3RhcnRXaWR0aDogMCxcclxuICAgICAgICBzdGFydFg6IDAsXHJcbiAgICAgICAgbGVmdDogMFxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIHJvOiBSZXNpemVPYnNlcnZlciB8IG51bGwgPSBudWxsO1xyXG4gICAgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcclxuICAgIHJlYWxIZWFkZXJIZWlnaHQgPSAwO1xyXG4gICAgaXNTaW5nbGVDbGljazogYm9vbGVhbjtcclxuXHJcbiAgICBkb2N1ZW1udENlbGxDbGlja0V2ZW50czogYW55O1xyXG4gICAgZG9jdW1lbnRDZWxsQ2xpY2tIYW5kbGVyOiBhbnk7XHJcbiAgICBkb2N1bWVudENlbGxLZXlkb3duRXZlbnRzOiBhbnk7XHJcbiAgICBkb2N1bWVudENlbGxLZXlkb3duSGFuZGxlcjogYW55O1xyXG5cclxuICAgIC8vIOW8ueeql+S4reS9v+eUqOaXtu+8jOeql+WPo+eCueWHu+S6i+S7tuWkhOeQhlxyXG4gICAgcHJpdmF0ZSBtb2RhbENsaWNrRXZlbnQgPSBudWxsO1xyXG5cclxuICAgIC8vIOihjOmAieS4remUruebmOS6i+S7tlxyXG4gICAgZG9jdW1lbnRSb3dLZXlkb3duSGFuZGxlcjogYW55O1xyXG4gICAgLy8g6KGM57yW6L6R5b+r5o236ZSuXHJcbiAgICBkb2N1bWVudFJvd0VkaXRLZXlkb3duSGFubGRlcjogYW55O1xyXG4gICAgLy8gZG9jdW1lbnQg5Y2V5Ye75pe257uT5p2f6KGM57yW6L6RXHJcbiAgICBkb2N1bWVudENsaWNrRW5kUm93RWRpdEhhbmRsZXI6IGFueTtcclxuXHJcbiAgICBwZW5kaW5nID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgY29sRm9ybWF0U2VyOiBDb2x1bW5Gb3JtYXRTZXJ2aWNlO1xyXG4gICAgc2Nyb2xsSW5zdGFuY2U6IFNjcm9sbGJhckRpcmVjdGl2ZSA9IG51bGw7XHJcbiAgICAvLyDmnKzlnLDljJbmnI3liqFcclxuICAgIGxvY2FsZVNlcnZpY2U6IExvY2FsZVNlcnZpY2U7XHJcbiAgICAvLyDlkIjlubbljZXlhYPovoXliqnkv6Hmga9cclxuICAgIG1lcmdlQ2VsbEluZm8gPSB7fTtcclxuICAgIGlnbm9yZVRhcmdldCA9IFsnSU5QVVQnLCAnU0VMRUNUJywgJ1RFWFRBUkVBJ107XHJcbiAgICBjbGllbnRGaWx0ZXJTZXJ2aWNlOiBEYXRhZ3JpZEZpbHRlclNlcnZpY2UgPSBudWxsO1xyXG5cclxuICAgIHNldHRpbmdTZXJ2aWNlOiBhbnk7IC8vIERhdGFncmlkU2V0dGluZ3NTZXJ2aWNlO1xyXG5cclxuICAgIC8qIOaOp+WItuWIl+Wtl+auteWQjeensDogX2RhdGFncmlkLXNldHRpbmctY29udHJvbF8gKi9cclxuICAgIENvbnRyb2xQYW5lbEZlaWxkID0gJ19kYXRhZ3JpZC1zZXR0aW5nLWNvbnRyb2xfJztcclxuXHJcbiAgICBwcml2YXRlIF9pc1Jlc2l6ZWQgPSBmYWxzZTtcclxuXHJcbiAgICBncmlkU2l6ZSA9IHsgd2lkdGg6IHRoaXMud2lkdGggKyAncHgnLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0ICsgJ3B4JyB9O1xyXG4gICAgLy8g5a6i5oi356uv6L+H5ruk5pe277yM5piv5ZCm6L+H5ruk6KGM5Y+R55Sf5Y+Y5YyWXHJcbiAgICBjbGllbnRGaWx0ZXJDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAvLyBzdHlsZSdzIElEXHJcbiAgICBzdHlsZVNoZWV0SWQgPSAnJztcclxuXHJcbiAgICBncm91cFJvd1BhbmVsUGxhY2Vob2xkZXIgPSAnJztcclxuICAgIGNvbW1vblV0aWxzOiBDb21tb25VdGlscyA9IG51bGw7XHJcbiAgICBzbWFydEZpbHRlclNlcnZpY2U6IERhdGFncmlkU21hcnRGaWx0ZXJTZXJ2aWNlID0gbnVsbDtcclxuICAgIHNtYXJ0RmlsdGVyUmVzdWx0ID0geyBjb250cm9sRGF0YTogW10sIGNvbmRpdGlvbnM6IFtdIH07XHJcbiAgICBzbWFydEZpbHRlckJhckhlaWdodCA9IDMyO1xyXG4gICAgcHJpdmF0ZSBpZFNlcnZpY2U6IElkU2VydmljZTtcclxuICAgIHByaXZhdGUgX2FjdGl2ZV9kYXRhZ3JpZF9jbHMgPSAnZGF0YWdyaWQtYWN0aXZlJztcclxuICAgIHByaXZhdGUgX2JsdXJlZF9kYXRhZ3JpZF9jbHMgPSAnZGF0YWdyaWQtYmx1cnJlZCc7XHJcblxyXG4gICAgLy8g6Ieq5a6a5LmJZ3JpZOagt+W8j++8jOWIl+ihqOWIneWni+WQju+8jOS8mua3u+WKoOS4gOS4quiHquWumuS5ieWQjeensOeahOagt+W8j1xyXG4gICAgX2N1c3RvbV9kYXRhZ3JpZF9jbHMgPSAnZGF0YWdyaWQnO1xyXG4gICAgLy8g5aSa6YCJ5Lu/IHdpbmRvd3Mg6YCJ5oup5qih5byPXHJcbiAgICBzbXM6IFNlbGVjdGlvbk1vZGVTZXJ2aWNlO1xyXG4gICAgLy8g54Sm54K56KGM57Si5byV77yM5q+P5qyh6KGM54K55Ye75ZCO5pu05pawXHJcbiAgICBmb2N1c1Jvd0luZGV4ID0gLTE7XHJcblxyXG4gICAgcHJpdmF0ZSBkb2N1bWVudEJvZHlNb3VzZURvd24gPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBmYXJyaXNJbnN0YW5jZXM6IEZhcnJpc0NvbXBvbmVudEluc3RhbmNlU2VydmljZSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGN1cnJlbnRQYWdlckRhdGEgPSBbXTtcclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcbiAgICAgICAgcHVibGljIGVsOiBFbGVtZW50UmVmLFxyXG4gICAgICAgIHB1YmxpYyBpbmplY3Q6IEluamVjdG9yLCBwdWJsaWMgem9uZTogTmdab25lLFxyXG4gICAgICAgIHB1YmxpYyBkZnM6IERhdGFncmlkRmFjYWRlU2VydmljZSxcclxuICAgICAgICBwdWJsaWMgZGdzOiBEYXRhZ3JpZFNlcnZpY2UsXHJcbiAgICAgICAgcHJpdmF0ZSBhcHA6IEFwcGxpY2F0aW9uUmVmLFxyXG4gICAgICAgIHByb3RlY3RlZCBkb21TYW5pdGl6ZXI6IERvbVNhbml0aXplcixcclxuICAgICAgICBwdWJsaWMgcmVuZGVyMjogUmVuZGVyZXIyKSB7XHJcblxyXG4gICAgICAgIHRoaXMuc3R5bGVTaGVldElkID0gJ0RBVEFHUklELScgKyBVdGlscy51dWlkKCk7XHJcblxyXG4gICAgICAgIHRoaXMubG9jYWxlU2VydmljZSA9IHRoaXMuaW5qZWN0LmdldChMb2NhbGVTZXJ2aWNlKTtcclxuICAgICAgICB0aGlzLnJlc3RTZXJ2aWNlID0gdGhpcy5pbmplY3QuZ2V0PFJlc3RTZXJ2aWNlPihEQVRBR1JJRF9SRVNUX1NFUlZJQ0VFLCBudWxsKTtcclxuICAgICAgICB0aGlzLmNvbEZvcm1hdFNlciA9IHRoaXMuaW5qZWN0LmdldChDb2x1bW5Gb3JtYXRTZXJ2aWNlKTtcclxuICAgICAgICB0aGlzLmNvbW1vblV0aWxzID0gdGhpcy5pbmplY3QuZ2V0KENvbW1vblV0aWxzLCBudWxsKTtcclxuICAgICAgICB0aGlzLmNsaWVudEZpbHRlclNlcnZpY2UgPSBuZXcgRGF0YWdyaWRGaWx0ZXJTZXJ2aWNlKGRmcywgdGhpcy5sb2NhbGVTZXJ2aWNlLCBpbmplY3QpO1xyXG4gICAgICAgIHRoaXMuZmFycmlzSW5zdGFuY2VzID0gdGhpcy5pbmplY3QuZ2V0KEZhcnJpc0NvbXBvbmVudEluc3RhbmNlU2VydmljZSwgbnVsbCk7XHJcblxyXG4gICAgICAgIHRoaXMuc21hcnRGaWx0ZXJTZXJ2aWNlID0gdGhpcy5pbmplY3QuZ2V0KERhdGFncmlkU21hcnRGaWx0ZXJTZXJ2aWNlLCBudWxsKTtcclxuICAgICAgICB0aGlzLmlkU2VydmljZSA9IHRoaXMuaW5qZWN0LmdldChJZFNlcnZpY2UsIG51bGwpO1xyXG4gICAgICAgIHRoaXMuZGZzLmxvY2FsSWQgPSB0aGlzLmxvY2FsZVNlcnZpY2UubG9jYWxlSWQ7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ1NlcnZpY2UgPSB0aGlzLmluamVjdC5nZXQoR1JJRF9TRVRUSU5HU19TRVJWSUNFLCBudWxsKTtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nU2VydmljZSkge1xyXG4gICAgICAgICAgICBjb25zdCBzZXR0aW5nc0h0dHAgPSB0aGlzLmluamVjdC5nZXQoR1JJRF9TRVRUSU5HU19IVFRQLCBudWxsKTtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5nU2VydmljZS5odHRwUmVzdFNlcnZpY2UgPSBzZXR0aW5nc0h0dHA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkYXRhU3Vic2NyaXB0aW9uID0gdGhpcy5kZnMuZGF0YSQuc3Vic2NyaWJlKChkYXRhU291cmNlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhbkRvbSgpO1xyXG4gICAgICAgICAgICBjb25zdCBkcyA9IHsgLi4uZGF0YVNvdXJjZSB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZGl0aW9ucyAmJiBPYmplY3Qua2V5cyh0aGlzLmNvbmRpdGlvbnMpLmxlbmd0aCAmJiAhdGhpcy5yZW1vdGVGaWx0ZXIgJiYgdGhpcy51c2VEZWZhdWx0RmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICBkcy5yb3dzID0gdGhpcy5jbGllbnRGaWx0ZXJTZXJ2aWNlLmV4ZWN1dGVGaWx0ZXIoZHMucm93cywgdGhpcy5jb25kaXRpb25zKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5kcyA9IGRzO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZHMucm93cyAmJiB0aGlzLmRzLnJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmRmcy5nZXREYXRhKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWVyZ2VDZWxsICYmIHRoaXMubWVyZ2VGaWVsZHMgJiYgdGhpcy5tZXJnZUZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lcmdlQ2VsbEluZm8gPSB0aGlzLmRncy5nZXRNZXJnZUNlbGxJbmZvMyh0aGlzLmRzLnJvd3MsIFsuLi50aGlzLm1lcmdlRmllbGRzXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQYWdlclRvdGFsKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRTdWNjZXNzLmVtaXQodGhpcy5kcy5yb3dzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xlYXJTZWxlY3Rpb25zV2hlbkRhdGFJc0VtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckFsbCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZHMuc2Nyb2xsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZvb3RlckRhdGEoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDmgKfog73kvJjljJZcclxuICAgICAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goZGF0YVN1YnNjcmlwdGlvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbHVtbkdyb3VwU3Vic2NyaXB0aW9uID0gdGhpcy5kZnMuY29sdW1uR3JvdXAkLnBpcGUoXHJcbiAgICAgICAgICAgIGRlYm91bmNlVGltZSg2MClcclxuICAgICAgICApLnN1YnNjcmliZShjZyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xHcm91cCA9IGNnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mb290ZXJXaWR0aCA9IGNnLnRvdGFsV2lkdGg7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChjb2x1bW5Hcm91cFN1YnNjcmlwdGlvbik7XHJcblxyXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxyXG4gICAgICAgICAgICB0aGlzLmRmcy5ncmlkU2l6ZSQuc3Vic2NyaWJlKChjZzogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2cgJiYgY2cuY29sdW1uc0dyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xHcm91cCA9IGNnLmNvbHVtbnNHcm91cDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRFZGl0b3JBbmRWYWxpZGF0b3IoKTtcclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudENlbGxTdWJzY3JpcHRpb24gPSB0aGlzLmRmcy5jdXJyZW50Q2VsbCQuc3Vic2NyaWJlKChjZWxsOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2VsbCA9IGNlbGw7XHJcbiAgICAgICAgICAgIGlmIChjZWxsICYmIGNlbGwuY2VsbFJlZikge1xyXG4gICAgICAgICAgICAgICAgY2VsbC5jZWxsUmVmLmlzRWRpdGluZyA9IGNlbGwuaXNFZGl0aW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudW5iaW5kTW92ZVNlbGVjdFJvd0V2ZW50KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmluZERvY3VtZW50RWRpdExpc3RlbmVyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmRmcy5zZWxlY3RSb3ckLnN1YnNjcmliZSgoc3I6IFNlbGVjdGVkUm93KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50Q2VsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kRG9jdW1lbnRNb3ZlU2VsZWN0Um93RXZlbnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93ID0gc3I7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnNlbGVjdENoYW5nZWQuZW1pdChzcik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKGN1cnJlbnRDZWxsU3Vic2NyaXB0aW9uKTtcclxuXHJcbiAgICAgICAgRGF0YWdyaWRDb2x1bW5zSGVscGVyLmdyaWRJbnN0YW5jZSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGNvbnN0IGZpbHRlckNoYW5nZWRTdWJzY3JpcHRpb24gPSB0aGlzLmRncy5vbkZpbHRlckNoYW5nZWQuc3Vic2NyaWJlKChjb25kaXRpb25zOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgLy8g5pu05paw57yT5a2Y6L+H5ruk5p2h5Lu2XHJcbiAgICAgICAgICAgIHRoaXMuY29uZGl0aW9ucyA9IGNvbmRpdGlvbnM7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpZW50RmlsdGVyQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyRGF0YShjb25kaXRpb25zKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChmaWx0ZXJDaGFuZ2VkU3Vic2NyaXB0aW9uKTtcclxuICAgICAgICAvLyB0aGlzLmluaXRQYWdpbmF0aW9uT3B0aW9ucygpO1xyXG5cclxuICAgICAgICBjb25zdCBmb290ZXJEYXRhU3Vic2NyaXB0aW9uID0gdGhpcy5kZ3MucmVmcmVzaEZvb3RlckRhdGEuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVGb290ZXJEYXRhKCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKGZvb3RlckRhdGFTdWJzY3JpcHRpb24pO1xyXG4gICAgICAgIHRoaXMuZGdzLmNvbW1vblV0aWxzID0gdGhpcy5jb21tb25VdGlscztcclxuXHJcbiAgICAgICAgdGhpcy5zbXMgPSBuZXcgU2VsZWN0aW9uTW9kZVNlcnZpY2UodGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGdzLmZvY3VzUm93Q2hhbmdlZC5zdWJzY3JpYmUoKGU6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mb2N1c1Jvd0luZGV4ID0gZS5yb3dJbmRleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEN1cnJlbnRQYWdlckRhdGEoJGRhdGEpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlckRhdGEgPSAkZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUZvb3RlckRhdGEoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hvd0Zvb3RlciAmJiB0aGlzLmZvb3RlckRhdGFGcm9tID09PSAnY2xpZW50Jykge1xyXG4gICAgICAgICAgICB0aGlzLmZvb3RlckRhdGEgPSBvZih0aGlzLmRmcy5nZXRGb290ZXJEYXRhKHRoaXMuZGF0YSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyNyZWdpb24gTmcgRXZlbnRcclxuXHJcbiAgICBuZ0RvQ2hlY2soKSB7XHJcbiAgICAgICAgLy8gaWYgKCF0aGlzLmNoZWNrVmFsdWVzKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuY2hlY2tWYWx1ZXMgPSBbXTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgbmdPbkluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja0ZpbHRlclN0eWxlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVzZVRoZW1lcykge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGVja1NpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGVja09wdGlvbnMoKTtcclxuICAgICAgICB0aGlzLmdyb3VwUm93UGFuZWxQbGFjZWhvbGRlciA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZSgnZGF0YWdyaWQuZ3JvdXBSb3cudGlwcycpO1xyXG4gICAgICAgIC8vIHRoaXMuX2ZsYXRDb2x1bW5zKCk7XHJcbiAgICAgICAgLy8gdGhpcy5zZXRIZWFkZXJIZWlnaHQoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc21hcnRGaWx0ZXJTZXJ2aWNlKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVTbWFydEZpbHRlciAmJiB0aGlzLnNob3dGaWx0ZXJCYXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNtYXJ0RmlsdGVyUmVzdWx0ICYmIHRoaXMuc21hcnRGaWx0ZXJSZXN1bHQuY29udHJvbERhdGEgJiYgdGhpcy5zbWFydEZpbHRlclJlc3VsdC5jb250cm9sRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckJhckhlaWdodCA9IHRoaXMuc21hcnRGaWx0ZXJCYXJIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQmFySGVpZ2h0ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zbWFydEZpbHRlclNlcnZpY2UuZmlsdGVyQ2hhbmdlZC5zdWJzY3JpYmUoKGU6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g5pu05paw57yT5a2Y6L+H5ruk5p2h5Lu2XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNtYXJ0RmlsdGVyVG9vbGJhcik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNtYXJ0RmlsdGVyUmVzdWx0ICYmICFlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeSh0aGlzLnNtYXJ0RmlsdGVyUmVzdWx0KSAhPT0gSlNPTi5zdHJpbmdpZnkoZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0RmlsdGVyUmVzdWx0ID0gZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaWVudEZpbHRlckNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyRGF0YShlLmNvbmRpdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zbWFydEZpbHRlclJlc3VsdCB8fCAodGhpcy5zbWFydEZpbHRlclJlc3VsdC5jb250cm9sRGF0YSAmJiAhdGhpcy5zbWFydEZpbHRlclJlc3VsdC5jb250cm9sRGF0YS5sZW5ndGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25GaWx0ZXJCYXJSZXNpemUoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmZpbHRlckJhckhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkZpbHRlckJhclJlc2l6ZSh0aGlzLnNtYXJ0RmlsdGVyQmFySGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgLy8g5Yib5bu66Ieq5a6a5LmJc3R5bGUg5a655ZmoXHJcbiAgICAgICAgdGhpcy5yZW5kZXIyLmFkZENsYXNzKHRoaXMuZGdDb250YWluZXIubmF0aXZlRWxlbWVudCwgdGhpcy5fY3VzdG9tX2RhdGFncmlkX2Nscyk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0SGVhZGVySGVpZ2h0KCk7XHJcbiAgICAgICAgdGhpcy5zZXRQYWdlckhlaWdodCgpO1xyXG4gICAgICAgIHRoaXMuaW5pdEJlZm9yZUV2ZW50cygpO1xyXG4gICAgICAgIGlmICh0aGlzLmZpdCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEdyaWROZXdTaXplV2hlbkZpdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbml0U3RhdGUoKTtcclxuICAgICAgICBpZiAodGhpcy5lbCAmJiB0aGlzLmZhcnJpc0luc3RhbmNlcykge1xyXG4gICAgICAgICAgICB0aGlzLmZhcnJpc0luc3RhbmNlcy5hZGQodGhpcy5lbC5uYXRpdmVFbGVtZW50LCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmRhdGEgfHwgIXRoaXMuZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5mZXRjaERhdGEoMSwgdGhpcy5wYWdlU2l6ZSkuc3Vic2NyaWJlKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXMudG90YWw7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5mb290ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvb3RlckRhdGEgPSByZXMuZm9vdGVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZERhdGEocmVzLml0ZW1zKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJvID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlWzBdLnRhcmdldCBhcyBhbnk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBfdyA9IGVbMF0uY29udGVudFJlY3Qud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoIV93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgX2ggPSBlWzBdLmNvbnRlbnRSZWN0LmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IF9mbG9vd1cgPSBNYXRoLmZsb29yKF93KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IF9yb3VuZFcgPSBNYXRoLmZsb29yKF93KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IF9mbG9vckggPSBNYXRoLmZsb29yKF9oKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IF9yb3VuZEggPSBNYXRoLnJvdW5kKF9oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMud2lkdGggPT09IF9mbG9vd1cgfHwgdGhpcy53aWR0aCA9PT0gX3JvdW5kVykgJiYgKHRoaXMuaGVpZ2h0ID09PSBfZmxvb3JIIHx8IHRoaXMuaGVpZ2h0ID09PSBfcm91bmRIKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGdzLnJlc3RvcmVTY3JvbGxiYXJQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUdyaWRTaXplKHRoaXMuZml0KTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yby5vYnNlcnZlKHRoaXMuZWwubmF0aXZlRWxlbWVudC5wYXJlbnRFbGVtZW50KTtcclxuXHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuZG9jdW1lbnRCb2R5TW91c2VEb3duKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmRvY3VtZW50Qm9keU1vdXNlRG93biA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBhbnk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ3RkLmYtZGF0YWdyaWQtY2VsbCcpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5kYXRlLW92ZXJsYXktY29udGFpbmVyJykgfHxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY2xvc2VzdCgnLnRpbWUtcGlja2VyLW92ZXJsYXknKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbG9zZXN0KCcubGFuZ3VhZ2UtdGV4dGJveC1wYW5lbCcpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5jb21ib1BhbmVsJykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uRG9jdW1lbnRNb3VzZURvd24oZSk7XHJcbiAgICAgICAgICAgIH0sIHRydWUpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2hvd0Zvb3Rlcikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5mb290ZXJUZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm9vdGVyRG9tID0gdGhpcy5lbC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mLWRhdGFncmlkLWZvb3RlcicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZvb3RlckRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9vdGVySGVpZ2h0ID0gdGhpcy5lbC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mLWRhdGFncmlkLWZvb3RlcicpLm9mZnNldEhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZml0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVsLm5hdGl2ZUVsZW1lbnQucGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbC5uYXRpdmVFbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlR3JpZFNpemUodGhpcy5maXQpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vIOajgOafpeaYr+WQpuWQr+eUqOS7v3dpbmRvd3PotYTmupDnrqHnkIblmajkuK3nmoTlpJrpgInmqKHlvI9cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlICYmIHRoaXMuc2VsZWN0aW9uTW9kZSA9PT0gJ2RlZmF1bHQnICYmIHRoaXMubXVsdGlTZWxlY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5zbXMuZW5hYmxlV2luZG93c1NlbGVjdGlvbk1vZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRnQ29sdW1ucyAmJiB0aGlzLmRnQ29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5kZ0NvbHVtbnMubWFwKGRnYyA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5kZ2MgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcclxuICAgICAgICBpZiAoY2hhbmdlcy5kYXRhICYmICFjaGFuZ2VzLmRhdGEuaXNGaXJzdENoYW5nZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLmxvYWREYXRhKGNoYW5nZXMuZGF0YS5jdXJyZW50VmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLmRncy5kYXRhU291cmNlQ2hhbmdlZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZXMuc2hvd0NoZWNrYm94ICE9PSB1bmRlZmluZWQgJiYgIWNoYW5nZXMuc2hvd0NoZWNrYm94LmlzRmlyc3RDaGFuZ2UoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRmcy5zaG93Q2hlY2tib3goY2hhbmdlcy5zaG93Q2hlY2tib3guY3VycmVudFZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VzLnNob3dMaW5lTnVtYmVyICE9PSB1bmRlZmluZWQgJiYgIWNoYW5nZXMuc2hvd0xpbmVOdW1iZXIuaXNGaXJzdENoYW5nZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLnNob3dMaW5lTnVtYmVyKGNoYW5nZXMuc2hvd0xpbmVOdW1iZXIuY3VycmVudFZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VzLm11bHRpU2VsZWN0ICE9PSB1bmRlZmluZWQgJiYgIWNoYW5nZXMubXVsdGlTZWxlY3QuaXNGaXJzdENoYW5nZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLnNldE11bHRpU2VsZWN0KGNoYW5nZXMubXVsdGlTZWxlY3QuY3VycmVudFZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VzLmNoZWNrT25TZWxlY3QgIT09IHVuZGVmaW5lZCAmJiAhY2hhbmdlcy5jaGVja09uU2VsZWN0LmlzRmlyc3RDaGFuZ2UoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRmcy5zZXRDaGVja09uU2VsZWN0KGNoYW5nZXMuY2hlY2tPblNlbGVjdC5jdXJyZW50VmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZXMuc2VsZWN0T25DaGVjayAhPT0gdW5kZWZpbmVkICYmICFjaGFuZ2VzLnNlbGVjdE9uQ2hlY2suaXNGaXJzdENoYW5nZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLnNldFNlbGVjdE9uQ2hlY2soY2hhbmdlcy5zZWxlY3RPbkNoZWNrLmN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5vbmx5U2VsZWN0U2VsZiAhPT0gdW5kZWZpbmVkICYmICFjaGFuZ2VzLm9ubHlTZWxlY3RTZWxmLmlzRmlyc3RDaGFuZ2UoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRmcy51cGRhdGVQcm9wZXJ0eSgnb25seVNlbGVjdFNlbGYnLCBjaGFuZ2VzLm9ubHlTZWxlY3RTZWxmLmN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5rZWVwU2VsZWN0ICE9PSB1bmRlZmluZWQgJiYgIWNoYW5nZXMua2VlcFNlbGVjdC5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kZnMudXBkYXRlUHJvcGVydHkoJ2tlZXBTZWxlY3QnLCBjaGFuZ2VzLmtlZXBTZWxlY3QuY3VycmVudFZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VzLmhlYWRlcldyYXAgIT09IHVuZGVmaW5lZCAmJiAhY2hhbmdlcy5oZWFkZXJXcmFwLmlzRmlyc3RDaGFuZ2UoKSkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0SGVhZGVySGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGZzLmNvbHVtblJlc2l6ZUVuZCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VzLm5vd3JhcCAhPT0gdW5kZWZpbmVkICYmICFjaGFuZ2VzLm5vd3JhcC5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja05vd3JhcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFJvd0hlaWdodChmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGdzLmNlbGxDb250ZW50V3JhcENoYW5nZWQuZW1pdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmRmcy51cGRhdGVQcm9wZXJ0eSgnbm93cmFwJywgY2hhbmdlcy5ub3dyYXAuY3VycmVudFZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VzLm11bHRpU29ydCAhPT0gdW5kZWZpbmVkICYmICFjaGFuZ2VzLm11bHRpU29ydC5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kZnMudXBkYXRlUHJvcGVydHkoJ211bHRpU29ydCcsIGNoYW5nZXMubXVsdGlTb3J0LmN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5lZGl0YWJsZSAhPT0gdW5kZWZpbmVkICYmICFjaGFuZ2VzLmVkaXRhYmxlLmlzRmlyc3RDaGFuZ2UoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRmcy51cGRhdGVQcm9wZXJ0eSgnZWRpdGFibGUnLCBjaGFuZ2VzLmVkaXRhYmxlLmN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICghY2hhbmdlcy5lZGl0YWJsZS5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5kQ2VsbEVkaXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmlzU2luZ2xlQ2xpY2sgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKHRoaXMuZWRpdGFibGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMua2VlcFNlbGVjdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5rZWVwU2VsZWN0ID0gdGhpcy5kZnMuX3N0YXRlLmtlZXBTZWxlY3Q7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5zaG93SGVhZGVyICE9PSB1bmRlZmluZWQgJiYgIWNoYW5nZXMuc2hvd0hlYWRlci5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kZnMudXBkYXRlUHJvcGVydHkoJ3Nob3dIZWFkZXInLCBjaGFuZ2VzLnNob3dIZWFkZXIuY3VycmVudFZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5oZWFkZXJIZWlnaHRDaGFuZ2UoKTtcclxuICAgICAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5zaG93RmlsdGVyQmFyICE9PSB1bmRlZmluZWQgJiYgIWNoYW5nZXMuc2hvd0ZpbHRlckJhci5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kZnMudXBkYXRlUHJvcGVydHkoJ3Nob3dGaWx0ZXJCYXInLCBjaGFuZ2VzLnNob3dGaWx0ZXJCYXIuY3VycmVudFZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5kZ3Muc2hvd0dyaWRIZWFkZXIuZW1pdCh0aGlzLnJlYWxIZWFkZXJIZWlnaHQpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLmRncy5zbWFydEZpbHRlckJhckV4cGFuZC5lbWl0KCk7XHJcbiAgICAgICAgICAgIGxldCBmaCA9IDA7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmRpdGlvbnMgJiYgdGhpcy5jb25kaXRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZmggPSAzMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm9uRmlsdGVyQmFyUmVzaXplKGZoKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5zaG93Rm9vdGVyICE9PSB1bmRlZmluZWQgJiYgIWNoYW5nZXMuc2hvd0Zvb3Rlci5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kZnMudXBkYXRlUHJvcGVydHkoJ3Nob3dGb290ZXInLCBjaGFuZ2VzLnNob3dGb290ZXIuY3VycmVudFZhbHVlKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlR3JpZFNpemUodGhpcy5maXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZXMucGFnZXJPblNlcnZlciAhPT0gdW5kZWZpbmVkICYmICFjaGFuZ2VzLnBhZ2VyT25TZXJ2ZXIuaXNGaXJzdENoYW5nZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLnVwZGF0ZVByb3BlcnR5KCdwYWdlck9uU2VydmVyJywgY2hhbmdlcy5wYWdlck9uU2VydmVyLmN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZXJPcHRzID0gT2JqZWN0LmFzc2lnbih0aGlzLnBhZ2VyT3B0cywge1xyXG4gICAgICAgICAgICAgICAgcmVtb3RlOiB0aGlzLnBhZ2VyT25TZXJ2ZXJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5wYWdlSW5kZXggIT09IHVuZGVmaW5lZCAmJiAhY2hhbmdlcy5wYWdlSW5kZXguaXNGaXJzdENoYW5nZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLnVwZGF0ZVByb3BlcnR5KCdwYWdlSW5kZXgnLCBjaGFuZ2VzLnBhZ2VJbmRleC5jdXJyZW50VmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2VyT3B0cyA9IE9iamVjdC5hc3NpZ24odGhpcy5wYWdlck9wdHMsIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiB0aGlzLnBhZ2VJbmRleFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VzLnBhZ2VTaXplICE9PSB1bmRlZmluZWQgJiYgIWNoYW5nZXMucGFnZVNpemUuaXNGaXJzdENoYW5nZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLnVwZGF0ZVByb3BlcnR5KCdwYWdlU2l6ZScsIGNoYW5nZXMucGFnZVNpemUuY3VycmVudFZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5wYWdlck9wdHMgPSBPYmplY3QuYXNzaWduKHRoaXMucGFnZXJPcHRzLCB7XHJcbiAgICAgICAgICAgICAgICBpdGVtc1BlclBhZ2U6IHRoaXMucGFnZVNpemVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5wYWdlTGlzdCAhPT0gdW5kZWZpbmVkICYmICFjaGFuZ2VzLnBhZ2VMaXN0LmlzRmlyc3RDaGFuZ2UoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRmcy51cGRhdGVQcm9wZXJ0eSgncGFnZUxpc3QnLCBjaGFuZ2VzLnBhZ2VMaXN0LmN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZXJPcHRzID0gT2JqZWN0LmFzc2lnbih0aGlzLnBhZ2VyT3B0cywge1xyXG4gICAgICAgICAgICAgICAgcGFnZUxpc3Q6IHRoaXMucGFnZUxpc3RcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5jb2x1bW5zICE9PSB1bmRlZmluZWQgJiYgIWNoYW5nZXMuY29sdW1ucy5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5jb2x1bW5zQ2hhbmdlZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZXMuc2l6ZVR5cGUgIT09IHVuZGVmaW5lZCAmJiAhY2hhbmdlcy5zaXplVHlwZS5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZVR5cGUgPSBjaGFuZ2VzLnNpemVUeXBlLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5zZXRSb3dIZWlnaHQodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLnVwZGF0ZVByb3BlcnR5KCdyb3dIZWlnaHQnLCB0aGlzLnJvd0hlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Rm9vdGVySGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB0aGlzLmRncy5vblJvd0hlaWdodENoYW5nZSh0aGlzLnJvd0hlaWdodCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5yb3dIZWlnaHQgJiYgIWNoYW5nZXMucm93SGVpZ2h0LmlzRmlyc3RDaGFuZ2UoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFJvd0hlaWdodChmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5zZWxlY3RWYWx1ZSAmJiAhY2hhbmdlcy5zZWxlY3RWYWx1ZS5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RSb3codGhpcy5zZWxlY3RWYWx1ZSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZXMuY2hlY2tWYWx1ZXMgJiYgIWNoYW5nZXMuY2hlY2tWYWx1ZXMuaXNGaXJzdENoYW5nZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrSWRzID0gdGhpcy5kZnMuZGlmZmVyZW5jZUJ5KGNoYW5nZXMuY2hlY2tWYWx1ZXMuY3VycmVudFZhbHVlIHx8IFtdLCBjaGFuZ2VzLmNoZWNrVmFsdWVzLnByZXZpb3VzVmFsdWUgfHwgW10sICh2KSA9PiB2KTtcclxuICAgICAgICAgICAgaWYgKGNoZWNrSWRzICYmIGNoZWNrSWRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja1Jvd3MoY2hlY2tJZHMsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgdW5jaGVja0lkcyA9IHRoaXMuZGZzLmRpZmZlcmVuY2VCeShjaGFuZ2VzLmNoZWNrVmFsdWVzLnByZXZpb3VzVmFsdWUgfHwgW10sIGNoYW5nZXMuY2hlY2tWYWx1ZXMuY3VycmVudFZhbHVlIHx8IFtdLCAodikgPT4gdik7XHJcbiAgICAgICAgICAgIGlmICh1bmNoZWNrSWRzICYmIHVuY2hlY2tJZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVuQ2hlY2tSb3dzKHVuY2hlY2tJZHMsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrVmFsdWVzID0gdGhpcy5jaGVja2Vkcy5tYXAociA9PiByLmlkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tWYWx1ZXNDaGFuZ2UuZW1pdCh0aGlzLmNoZWNrVmFsdWVzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZENoYW5nZS5lbWl0KHRoaXMuY2hlY2tlZHMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQWxsQ2hlY2tib3hTdGF0dXMoKTtcclxuICAgICAgICAgICAgfSwgMTApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZXMuc2hvd0dyb3VwQ29sdW1uICYmICFjaGFuZ2VzLnNob3dHcm91cENvbHVtbi5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVWaXNpYmxlQ29sdW1uKHRoaXMuZ3JvdXBGaWVsZC5zcGxpdCgnLCcpLCBjaGFuZ2VzLnNob3dHcm91cENvbHVtbi5jdXJyZW50VmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbHVtbnNDaGFuZ2VkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5hdXRvRml0Q29sdW1ucyAmJiAhY2hhbmdlcy5hdXRvRml0Q29sdW1ucy5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kZnMudXBkYXRlUHJvcGVydHkoJ2F1dG9GaXRDb2x1bW5zJywgY2hhbmdlcy5hdXRvRml0Q29sdW1ucy5jdXJyZW50VmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZXMuZ3JvdXBSb3dzICYmICFjaGFuZ2VzLmdyb3VwUm93cy5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kZnMudXBkYXRlUHJvcGVydHkoJ2dyb3VwUm93cycsIGNoYW5nZXMuZ3JvdXBSb3dzLmN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZXMubWVyZ2VDZWxsICYmICFjaGFuZ2VzLm1lcmdlQ2VsbC5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5tZXJnZUZpZWxkcyAmJiAhY2hhbmdlcy5tZXJnZUZpZWxkcy5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5lbmFibGVGaWx0ZXJSb3cgJiYgIWNoYW5nZXMuZW5hYmxlRmlsdGVyUm93LmlzRmlyc3RDaGFuZ2UoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRmcy51cGRhdGVQcm9wZXJ0eSgnZW5hYmxlRmlsdGVyUm93JywgY2hhbmdlcy5lbmFibGVGaWx0ZXJSb3cuY3VycmVudFZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0hlYWRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRIZWFkZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQmFySGVpZ2h0ID0gMzI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRncy50b2dnbGVGaWx0ZXJSb3cuZW1pdCh0aGlzLmVuYWJsZUZpbHRlclJvdyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRncy5zaG93R3JpZEhlYWRlci5lbWl0KHRoaXMucmVhbEhlYWRlckhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZXMuZW5hYmxlU21hcnRGaWx0ZXIgJiYgIWNoYW5nZXMuZW5hYmxlU21hcnRGaWx0ZXIuaXNGaXJzdENoYW5nZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLnVwZGF0ZVByb3BlcnR5KCdlbmFibGVTbWFydEZpbHRlcicsIGNoYW5nZXMuZW5hYmxlU21hcnRGaWx0ZXIuY3VycmVudFZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VzLmVuYWJsZURyYWdDb2x1bW4gJiYgIWNoYW5nZXMuZW5hYmxlRHJhZ0NvbHVtbi5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0RyYWdDb2x1bW5zKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5zaG93Um93R3JvdXBQYW5lbCAmJiAhY2hhbmdlcy5zaG93Um93R3JvdXBQYW5lbC5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kZ3Muc21hcnRGaWx0ZXJCYXJFeHBhbmQuZW1pdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmRncy5zaG93R3JpZEhlYWRlci5lbWl0KHRoaXMucmVhbEhlYWRlckhlaWdodCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5zZWxlY3Rpb25Nb2RlICYmICFjaGFuZ2VzLnNlbGVjdGlvbk1vZGUuaXNGaXJzdENoYW5nZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc21zLnRvZ2dsZU1vZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja0ZpbHRlclN0eWxlKCkge1xyXG4gICAgICAgIC8vIOi/h+a7pOihjOS4juaZuuiDvei/h+a7pCDlkIzml7blkK/nlKjml7bvvIzlsIbov4fmu6TooYznpoHnlKhcclxuICAgICAgICBpZiAodGhpcy5lbmFibGVGaWx0ZXJSb3cgJiYgdGhpcy5lbmFibGVTbWFydEZpbHRlcikge1xyXG4gICAgICAgICAgICB0aGlzLmVuYWJsZUZpbHRlclJvdyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9jaGVja1NpemUoKSB7XHJcbiAgICAgICAgY29uc3QgdGhlbWVzS2V5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dzcF9ydGZfdGhlbVNLZXknKTtcclxuICAgICAgICBsZXQgc3Q6IGFueSA9ICdzbSc7XHJcbiAgICAgICAgc3dpdGNoICh0aGVtZXNLZXkpIHtcclxuICAgICAgICAgICAgY2FzZSAnZGVmYXVsdCc6XHJcbiAgICAgICAgICAgICAgICBzdCA9ICdzbSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbG9vc2UnOlxyXG4gICAgICAgICAgICAgICAgc3QgPSAnbWQnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNpemVUeXBlID0gc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja0RyYWdDb2x1bW5zKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzTXVsdGlIZWFkZXIoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmVuYWJsZURyYWdDb2x1bW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tPcHRpb25zKCkge1xyXG5cclxuICAgICAgICB0aGlzLmdyaWRTaXplID0geyB3aWR0aDogdGhpcy53aWR0aCArICdweCcsIGhlaWdodDogdGhpcy5oZWlnaHQgKyAncHgnIH07XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pZCkge1xyXG4gICAgICAgICAgICB0aGlzLmlkID0gJ0ZhcnJpc0RhdGFHcmlkJyArIFV0aWxzLnV1aWQoKS5yZXBsYWNlKC8tL2csICcnKS5zdWJzdHIoMCwgMTApO1xyXG4gICAgICAgICAgICBpZiAodGhpcy51c2VDb250cm9sUGFuZWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXNlQ29udHJvbFBhbmVsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+WQr+eUqOWIl+mFjee9ruWxnuaAp++8jOacquiuvue9rklE77yM5q2k5Yqf6IO95bCG56aB55So44CCJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fY3VzdG9tX2RhdGFncmlkX2NscyA9IHRoaXMuaWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zdHlsZVNoZWV0SWQgPSB0aGlzLmlkICsgJ18nICsgVXRpbHMudXVpZCgpLnJlcGxhY2UoLy0vZywgJycpLnN1YnN0cigwLCAxMCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2N1c3RvbV9kYXRhZ3JpZF9jbHMgPSB0aGlzLnN0eWxlU2hlZXRJZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ1NlcnZpY2UgJiYgdGhpcy51c2VDb250cm9sUGFuZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5nU2VydmljZS5yZWdpc3RlckdyaWRJbnN0YW5jZSh0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZGdzLmNyZWF0ZVN0eWxlRWxlbWVudCh0aGlzLnN0eWxlU2hlZXRJZCk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pZEZpZWxkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIERhdGFncmlkXFwncyBpZEZpZWxkIGNhblxcJ3QgYmUgTnVsbC4gJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hlY2tOb3dyYXAoKTtcclxuICAgICAgICB0aGlzLmNoZWNrU29ydEluZm8oKTtcclxuICAgICAgICB0aGlzLmNoZWNrTWVyZ2VDZWxsKCk7XHJcbiAgICAgICAgdGhpcy5zZXRDaGVja2JveEJlaGF2aW9yKCk7XHJcbiAgICAgICAgdGhpcy5pbml0UGFnaW5hdGlvbk9wdGlvbnMoKTtcclxuICAgICAgICBpZiAoIXRoaXMuY29sdW1ucykge1xyXG4gICAgICAgICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLmZpZWxkcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2hlY2tHcm91cEhlYWRlckNvbHVtbnMoKTtcclxuXHJcbiAgICAgICAgLy8gVEZTOiAzNTY5NTZcclxuICAgICAgICB0aGlzLmNoZWNrR3JvdXBSb3dTZXR0aW5nKCk7XHJcbiAgICAgICAgdGhpcy5jaGVja0NvbHVtbnNUeXBlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2hlY2tEcmFnQ29sdW1ucygpO1xyXG5cclxuICAgICAgICBjb25zdCBfZGVmYXVsdFNldHRpbmcgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZsYXRDb2x1bW5zKCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuc2V0SGVhZGVySGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Um93SGVpZ2h0KCk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuZGZzLnNldGluaXRpYWxPcHRpb25zKHtcclxuICAgICAgICAgICAgY29sdW1uczogdGhpcy5jb2x1bW5zLFxyXG4gICAgICAgICAgICBncm91cEZpZWxkOiB0aGlzLmdyb3VwRmllbGQsXHJcbiAgICAgICAgICAgIHNvcnROYW1lOiB0aGlzLnNvcnROYW1lLFxyXG4gICAgICAgICAgICBzb3J0T3JkZXI6IHRoaXMuc29ydE9yZGVyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIOWKoOi9veeUqOaIt+S4quaAp+WMluiuvue9riAtLeOAiyDliJfmmL7npLrkuI7liJfmjpLluo9cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nU2VydmljZSAmJiB0aGlzLnVzZUNvbnRyb2xQYW5lbCkge1xyXG4gICAgICAgICAgICBjb25zdCBzZXR0aW5ncyQgPSB0aGlzLnNldHRpbmdTZXJ2aWNlLmdldFNldHRpbmdzKHRoaXMuaWQpO1xyXG4gICAgICAgICAgICBpZiAoIXNldHRpbmdzJCkge1xyXG4gICAgICAgICAgICAgICAgX2RlZmF1bHRTZXR0aW5nKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0dGluZ3MkLnN1YnNjcmliZSgoc2V0cykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNldHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXJQcm9maWxlU2V0dGluZyhzZXRzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFJvd0hlaWdodChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZnMudXBkYXRlUHJvcGVydHkoJ2RhdGEnLCB0aGlzLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uc0NoYW5nZWQodGhpcy5ncm91cFJvd3MgJiYgKHRoaXMuZGF0YSAmJiAhIXRoaXMuZGF0YS5sZW5ndGgpKTtcclxuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgX2RlZmF1bHRTZXR0aW5nKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIF9kZWZhdWx0U2V0dGluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcmVmcmVzaFNlbGVjdGVkRGF0YSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFJvdyAmJiB0aGlzLnNlbGVjdGVkUm93LmlkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmQgPSB0aGlzLmRhdGEuZmluZChkID0+IGRbdGhpcy5pZEZpZWxkXSA9PT0gdGhpcy5zZWxlY3RlZFJvdy5pZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93LmRhdGEgPSByZDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3cgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG5nT25EZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVzKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnJvKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm8uZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnRSb3dLZXlkb3duSGFuZGxlcikge1xyXG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50Um93S2V5ZG93bkhhbmRsZXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudENlbGwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2xpZW50RmlsdGVyU2VydmljZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYW5Eb20oKTtcclxuXHJcbiAgICAgICAgLy8g56e76Zmk5Yqo5oCB55qEc3R5bGVcclxuICAgICAgICB0aGlzLmRncy5yZW1vdmVTdHlsZVNoZWV0KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdTZXJ2aWNlICYmIHRoaXMuc2V0dGluZ1NlcnZpY2UuZGVzdHJveSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdTZXJ2aWNlLmRlc3Ryb3kodGhpcy5pZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zbXMpIHtcclxuICAgICAgICAgICAgdGhpcy5zbXMucmVtb3ZlRXZlbnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsnJGV2ZW50J10pXHJcbiAgICBvbkNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hvd1NlbGVjdGVkTGlzdCAmJiB0aGlzLmRnUGFnZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5kZ1BhZ2VyLmNsb3NlU2VsZWN0ZWRMaXN0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wZW5kaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBhbnk7XHJcbiAgICAgICAgaWYgKHRhcmdldC5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJyB8fCB0YXJnZXQubm9kZU5hbWUgPT09ICdJTlBVVCcpIHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENlbGwgJiYgdGhpcy5jdXJyZW50Q2VsbC5lZGl0b3IgJiYgdGhpcy5jdXJyZW50Q2VsbC5lZGl0b3IuX2VkaXRvckNsaWNrRXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW5kQ2VsbEVkaXQoZXZlbnQpO1xyXG4gICAgICAgIHRoaXMuZGZzLmNhbmNlbFNlbGVjdENlbGwoKTtcclxuICAgICAgICBpZiAodGhpcy5zdG9wUHJvcGFnYXRpb24pIHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0UGFnaW5hdGlvbk9wdGlvbnMoKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlck9wdHMgPSB7XHJcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkID8gdGhpcy5pZCArICctcGFnZXJfJyArIFV0aWxzLnV1aWQoKSA6ICdmYXJyaXMtZGF0YWdyaWQtcGFnZXJfJyArIFV0aWxzLnV1aWQoKSxcclxuICAgICAgICAgICAgaXRlbXNQZXJQYWdlOiB0aGlzLnBhZ2luYXRpb24gPyB0aGlzLnBhZ2VTaXplIDogdGhpcy50b3RhbCxcclxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IHRoaXMucGFnZUluZGV4LFxyXG4gICAgICAgICAgICB0b3RhbEl0ZW1zOiB0aGlzLnRvdGFsLFxyXG4gICAgICAgICAgICBwYWdlTGlzdDogdGhpcy5wYWdlTGlzdCxcclxuICAgICAgICAgICAgcmVtb3RlOiB0aGlzLnBhZ2VyT25TZXJ2ZXJcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlUGFnZXJPcHRpb25zKCkge1xyXG4gICAgICAgIHRoaXMucGFnZXJPcHRzID0gT2JqZWN0LmFzc2lnbih0aGlzLnBhZ2VyT3B0cywge1xyXG4gICAgICAgICAgICBpdGVtc1BlclBhZ2U6IHRoaXMucGFnZVNpemUsXHJcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiB0aGlzLnBhZ2VJbmRleCxcclxuICAgICAgICAgICAgdG90YWxJdGVtczogdGhpcy50b3RhbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0UGFnZXJUb3RhbCgpIHtcclxuICAgICAgICBjb25zdCBfdG90YWwgPSB0aGlzLmRhdGEubGVuZ3RoO1xyXG4gICAgICAgIGlmICh0aGlzLnBhZ2luYXRpb24gJiYgdGhpcy50b3RhbCA9PT0gMCAmJiB0aGlzLnZpcnR1YWxpemVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZXJPcHRzLnRvdGFsSXRlbXMgPSBfdG90YWw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhZ2luYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZXJPcHRzLml0ZW1zUGVyUGFnZSA9IF90b3RhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldEZvb3RlckhlaWdodCgpIHtcclxuICAgICAgICBpZiAodGhpcy5zaG93Rm9vdGVyICYmICF0aGlzLmZvb3RlclRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvb3RlckRhdGEuc3Vic2NyaWJlKHJvd3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mb290ZXJIZWlnaHQgPSByb3dzLmxlbmd0aCAqIHRoaXMucm93SGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjdXN0b21TdHlsZUtleSgpIHtcclxuICAgICAgICByZXR1cm4gYC4ke3RoaXMuX2N1c3RvbV9kYXRhZ3JpZF9jbHN9YDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldFJvd0hlaWdodCh1c2VTaXplVHlwZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgX3Jvd0hlaWdodCA9IFNJWkVfVFlQRVt0aGlzLl9zaXplVHlwZV0ucm93O1xyXG4gICAgICAgIGNvbnN0IF9yaCA9IDI5O1xyXG4gICAgICAgIGlmICh1c2VTaXplVHlwZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJvd0hlaWdodCA9IF9yb3dIZWlnaHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yb3dIZWlnaHQgPSBfcm93SGVpZ2h0ID4gdGhpcy5yb3dIZWlnaHQgPyBfcm93SGVpZ2h0IDogdGhpcy5yb3dIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBrZXkxID0gYCR7dGhpcy5jdXN0b21TdHlsZUtleSgpfS5mLWRhdGFncmlkLWJvZHktcm93LCAke3RoaXMuY3VzdG9tU3R5bGVLZXkoKX0gLmYtZGF0YWdyaWQtY2VsbGA7XHJcbiAgICAgICAgY29uc3Qga2V5MiA9IGAke3RoaXMuY3VzdG9tU3R5bGVLZXkoKX0gLmYtZGF0YWdyaWQtY2VsbC1jb250ZW50YDtcclxuXHJcbiAgICAgICAgdGhpcy5kZ3MucmVtb3ZlQ3NzUnVsZShrZXkxKTtcclxuICAgICAgICB0aGlzLmRncy5yZW1vdmVDc3NSdWxlKGtleTIpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5yb3dIZWlnaHQgIT09IF9yaCAmJiB0aGlzLm5vd3JhcCkge1xyXG4gICAgICAgICAgICBjb25zdCByb3dIZWlnaHRDU1MgPSBbXHJcbiAgICAgICAgICAgICAgICBgJHtrZXkxfSB7IGhlaWdodDogJHt0aGlzLnJvd0hlaWdodH1weCB9YCxcclxuICAgICAgICAgICAgICAgIGAke2tleTJ9IHsgaGVpZ2h0OiAke3RoaXMucm93SGVpZ2h0fXB4OyBsaW5lLWhlaWdodDogJHt0aGlzLnJvd0hlaWdodH1weCB9YFxyXG4gICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZ3MuYXBwZW5kQ3NzUnVsZXMocm93SGVpZ2h0Q1NTKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFNlbGVjdE9yQ2hlY2tlZCgpIHtcclxuICAgICAgICBjb25zdCBfZGF0YSA9IHRoaXMuZGZzLmdldEN1cnJlbnRQYWdlRGF0YSgpO1xyXG4gICAgICAgIGlmICghdGhpcy5lbmFibGVNb3JlUGFnZVNlbGVjdCAmJiB0aGlzLm11bHRpU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuY2xlYXJBbGwoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZHMgJiYgdGhpcy5jaGVja2Vkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZHMuZm9yRWFjaChyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIV9kYXRhLmZpbmQobiA9PiBuW3RoaXMuaWRGaWVsZF0gPT0gci5pZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bkNoZWNrUm93KHIuaWQsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJDaGVja2VkcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RWYWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoX2RhdGEuZmluZChuID0+IG5bdGhpcy5pZEZpZWxkXSA9PSB0aGlzLnNlbGVjdFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RSb3codGhpcy5zZWxlY3RWYWx1ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoU2VsZWN0ZWREYXRhKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm11bHRpU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVmFsdWVzICYmIHRoaXMuY2hlY2tWYWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGtpZHMgPSB0aGlzLmNoZWNrZWRzLm1hcChyID0+IHIuaWQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlmZklkcyA9IHRoaXMuZGZzLmRpZmZlcmVuY2UoY2hraWRzLCB0aGlzLmNoZWNrVmFsdWVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlmZklkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrUm93cyhkaWZmSWRzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tWYWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tWYWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGVja1ZhbHVlcyA9IHRoaXMuY2hlY2tlZHMubWFwKHIgPT4gci5pZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzUmVzaXplZCB8fCB0aGlzLnZpcnR1YWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrVmFsdWVzQ2hhbmdlLmVtaXQodGhpcy5jaGVja1ZhbHVlcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRDaGFuZ2UuZW1pdCh0aGlzLmNoZWNrZWRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFsbENoZWNrYm94U3RhdHVzKF9kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVBbGxDaGVja2JveFN0YXR1cyhfZGF0YT86IGFueSkge1xyXG4gICAgICAgIGlmICghX2RhdGEpIHtcclxuICAgICAgICAgICAgX2RhdGEgPSB0aGlzLmRmcy5nZXRDdXJyZW50UGFnZURhdGEoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjaGVja0FsbFN0YXR1cyA9IDA7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hvd0FsbENoZWNrYm94KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFsbERhdGFJRHMgPSBfZGF0YS5tYXAociA9PiByW3RoaXMuaWRGaWVsZF0pO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdDaGVja1ZhbHVlcyA9IGFsbERhdGFJRHMuZmlsdGVyKG4gPT4gdGhpcy5jaGVja1ZhbHVlcy5pbmNsdWRlcyhuKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobmV3Q2hlY2tWYWx1ZXMgJiYgbmV3Q2hlY2tWYWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1NhbWUgPSAhdGhpcy5kZnMuZGlmZmVyZW5jZShhbGxEYXRhSURzLCB0aGlzLmNoZWNrVmFsdWVzKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tWYWx1ZXMgfHwgIXRoaXMuY2hlY2tWYWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5rKh5pyJ6YCJ5Lit55qE5pWw5o2uXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tBbGxTdGF0dXMgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTYW1lKSB7IC8vIHRoaXMuY2hlY2tWYWx1ZXMubGVuZ3RoID09PSB0aGlzLmRhdGEubGVuZ3RoIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5YWo6YOo6YCJ5LitXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tBbGxTdGF0dXMgPSAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaXNTYW1lKSB7IC8vIHRoaXMuY2hlY2tWYWx1ZXMubGVuZ3RoICE9PSB0aGlzLmRhdGEubGVuZ3RoICYmXHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5pyJ6YCJ5Lit55qE5pWw5o2u77yM5L2G5LiN5piv5YWo6YOo6YCJ5LitXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tBbGxTdGF0dXMgPSAyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmRncy5jaGFuZ2VDaGVja0FsbFN0YXR1cy5lbWl0KGNoZWNrQWxsU3RhdHVzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDlvZPljZXpgInlubbmmL7npLrlpI3pgInmoYbml7bvvIzpu5jorqTlsIYgY2hlY2tPblNlbGVjdCwgc2VsZWN0T25DaGVjayDorr7nva7kuLogdHJ1ZTtcclxuICAgIHByaXZhdGUgc2V0Q2hlY2tib3hCZWhhdmlvcigpIHtcclxuICAgICAgICBpZiAoIXRoaXMubXVsdGlTZWxlY3QgJiYgdGhpcy5zaG93Q2hlY2tib3gpIHtcclxuICAgICAgICAgICAgLy8gVEZTOiAzODA4OTlcclxuICAgICAgICAgICAgLy8gdGhpcy5jaGVja09uU2VsZWN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gdGhpcy5zZWxlY3RPbkNoZWNrID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfZmxhdENvbHVtbnMoKSB7XHJcbiAgICAgICAgdGhpcy5mbGF0Q29sdW1ucyA9IGZsYXR0ZW48RGF0YUNvbHVtbj4odGhpcy5jb2x1bW5zKS5maWx0ZXIoKGNvbDogRGF0YUNvbHVtbikgPT4gIWNvbC5jb2xzcGFuICYmIHRoaXMuY29sdW1uSXNWaXNpYmxlKGNvbCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbHVtbklzVmlzaWJsZShjb2w6IERhdGFDb2x1bW4pIHtcclxuICAgICAgICByZXR1cm4gRGF0YWdyaWRDb2x1bW5zSGVscGVyLmNvbHVtbklzVmlzaWJsZShjb2wsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOa3u+WKoOWIl+iuvue9rlxyXG4gICAgcHJpdmF0ZSBhZGRDb250cm9sQ29sKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnVzZUNvbnRyb2xQYW5lbCkge1xyXG4gICAgICAgICAgICBjb25zdCBjb250cm9sQ29sID0gdGhpcy5jb2x1bW5zWzBdLmZpbmQobiA9PiBuLmZpZWxkID09PSB0aGlzLkNvbnRyb2xQYW5lbEZlaWxkKTtcclxuICAgICAgICAgICAgaWYgKCFjb250cm9sQ29sKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjcCA9IHsgZmllbGQ6IHRoaXMuQ29udHJvbFBhbmVsRmVpbGQsIHdpZHRoOiAyNCwgcm93c3BhbjogdGhpcy5jb2x1bW5zLmxlbmd0aCwgZml4ZWQ6ICdyaWdodCcsIHZpc2libGU6IHRydWUgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAyMDIxLTA1LTI0IOWQr+eUqOi/h+a7pOihjOWQjuWHuumUmVxyXG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuZW5hYmxlRmlsdGVyUm93KSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY3Aucm93c3BhbiArPSAxO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uc1swXS5wdXNoKGNwKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xDb2wudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja0dyb3VwSGVhZGVyQ29sdW1ucygpIHtcclxuICAgICAgICBpZiAodGhpcy5pc011bHRpSGVhZGVyKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgYWxsQ29scyA9IGZsYXR0ZW48RGF0YUNvbHVtbj4odGhpcy5jb2x1bW5zKTtcclxuICAgICAgICAgICAgRGF0YWdyaWRDb2x1bW5zSGVscGVyLmNoZWNrR3JvdXBIZWFkZXJDb2x1bW5WaXNpYmxlKGFsbENvbHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDmo4Dmn6XliJfpm4blkIg6IFtdIC0+IFtbXV1cclxuXHJcbiAgICBwcml2YXRlIGNvcnJlY3RDb2x1bW5zKHZhbHVlcykge1xyXG4gICAgICAgIGlmICh2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZXNbMF0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbdmFsdWVzXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzIHx8IFtdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrQ29sdW1uc1R5cGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29sdW1ucyAmJiB0aGlzLmNvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmNvbHVtbnNbMF0pKSB7XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmNvbHVtbnMgPSBbIHRoaXMuY29sdW1ucyBdO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFkZENvbnRyb2xDb2woKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucy5mb3JFYWNoKChjb2xzLCBjb2x1bW5zSW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbHMuZm9yRWFjaCgoY29sOiBEYXRhQ29sdW1uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29sLmZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbC5maWVsZCA9IGBmYXJyaXMtZGF0YWdyaWQtY29sdW1uXyR7Y29sdW1uc0luZGV4fV8ke2luZGV4fWA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbC52YWxpZ24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sLnZhbGlnbiA9ICdtaWRkbGUnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbC53aWR0aCA9PT0gdW5kZWZpbmVkIHx8IGNvbC53aWR0aCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2wud2lkdGggPSAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb2wud2lkdGggPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wud2lkdGggPSBwYXJzZUludChjb2wud2lkdGgsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8g6K6w5b2V5Y6f5aeL5a695bqmXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb2wub3JpZ2luYWxXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2wub3JpZ2luYWxXaWR0aCA9IGNvbC53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2wuZm9ybWF0dGVyICYmIHR5cGVvZiBjb2wuZm9ybWF0dGVyICE9PSAnZnVuY3Rpb24nICYmIE9iamVjdC5rZXlzKGNvbC5mb3JtYXR0ZXIpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2wuZm9ybWF0dGVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zaG93R3JvdXBDb2x1bW4gJiYgdGhpcy5ncm91cFJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVWaXNpYmxlQ29sdW1uKHRoaXMuZ3JvdXBGaWVsZC5zcGxpdCgnLCcpLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOi/h+a7pOihjOajgOafpVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2wuZmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29sLmZpbHRlciA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sLmZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sLmZpbHRlciA9IHRoaXMuY2xpZW50RmlsdGVyU2VydmljZS5jcmVhdGVDb2x1bW5GaWx0ZXJPcHRpb25zKGNvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbC5maWx0ZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29sLmZpbHRlci5vcHRpb25zIHx8ICFPYmplY3Qua2V5cyhjb2wuZmlsdGVyLm9wdGlvbnMpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY29sLmZpbHRlci50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29sdW1uRmlsdGVyVHlwZS5lbnVtOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sLmZpbHRlci5vcHRpb25zID0gY29sLmZvcm1hdHRlclsnb3B0aW9ucyddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29sdW1uRmlsdGVyVHlwZS5kYXRlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sLmZpbHRlci5vcHRpb25zID0geyBkYXRlRm9ybWF0OiAneXl5eS1NTS1kZCcsIHJldHVybkZvcm1hdDogJ3l5eXktTU0tZGQnIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2x1bW5GaWx0ZXJUeXBlLmRhdGV0aW1lOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sLmZpbHRlci5vcHRpb25zID0geyBkYXRlRm9ybWF0OiAneXl5eS1NTS1kZCBISDptbTpzcycsIHJldHVybkZvcm1hdDogJ3l5eXktTU0tZGQgSEg6bW06c3MnIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyDlhbzlrrkgaGlkZGVuIDIwMjEtMDUtMzFcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sWydoaWRkZW4nXSAhPT0gdW5kZWZpbmVkICYmIGNvbC52aXNpYmxlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb2xbJ2hpZGRlbiddID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbC52aXNpYmxlID0gIWNvbFsnaGlkZGVuJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbFsnaGlkZGVuJ10gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wudmlzaWJsZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IGNvbFsnaGlkZGVuJ10uYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tHcm91cFJvd1NldHRpbmcoKSB7XHJcbiAgICAgICAgLy8g5aaC5p6c5ZCv55So5YiG57uE6KGM77yM5L2G5pyq6K6+572u5YiG57uE5a2X5q615pe277yM5bCG5YWz6Zet5YiG57uE6KGM5Yqf6IO9XHJcbiAgICAgICAgLy8gaWYgKHRoaXMuZ3JvdXBSb3dzKSB7XHJcbiAgICAgICAgLy8gICAgIGlmICghdGhpcy5ncm91cEZpZWxkKSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmdyb3VwUm93cyA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tNZXJnZUNlbGwoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWVyZ2VDZWxsKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5tZXJnZUZpZWxkcyB8fCAhdGhpcy5tZXJnZUZpZWxkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWVyZ2VDZWxsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpcnR1YWxpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpcnR1YWxpemVkQXN5bmNMb2FkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja1NvcnRJbmZvKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNvcnROYW1lKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zb3J0T3JkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ydE9yZGVyID0gdGhpcy5zb3J0TmFtZS5zcGxpdCgnLCcpLm1hcCgoKSA9PiAnYXNjJykuam9pbignLCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tOb3dyYXAoKSB7XHJcbiAgICAgICAgLy8g5ZCv55So5oqY6KGM5ZCO77yM6Jma5ouf5Yqg6L2954m55oCn5aSx5pWIXHJcbiAgICAgICAgaWYgKCF0aGlzLm5vd3JhcCkge1xyXG4gICAgICAgICAgICB0aGlzLnZpcnR1YWxpemVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldEhlYWRlckhlaWdodCgpIHtcclxuICAgICAgICB0aGlzLnJlYWxIZWFkZXJIZWlnaHQgPSAwO1xyXG4gICAgICAgIGlmICh0aGlzLnNob3dIZWFkZXIpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmhlYWRlcldyYXApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVhbEhlYWRlckhlaWdodCA9IHRoaXMuY29sdW1ucy5sZW5ndGggKiB0aGlzLmhlYWRlckhlaWdodDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyaWRIZWFkZXJFbCA9IHRoaXMuZWwubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZi1kYXRhZ3JpZC1oZWFkZXInKTtcclxuICAgICAgICAgICAgICAgIGlmIChncmlkSGVhZGVyRWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCB0YWJsZXMgPSBncmlkSGVhZGVyRWwucXVlcnlTZWxlY3RvckFsbCgndGFibGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cnMgPSBncmlkSGVhZGVyRWwucXVlcnlTZWxlY3RvckFsbCgndGFibGUgdHI6bm90KC5mLWRhdGFncmlkLWZpbHRlci1yb3cpJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJzLmZvckVhY2gobiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG4uc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBcnJheS5mcm9tKG4uY2hpbGRyZW4pLmZvckVhY2goKGE6IGFueSkgPT4gYS5zdHlsZS5oZWlnaHQgPSAnYXV0bycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoID0gTWF0aC5tYXgoLi4uQXJyYXkuZnJvbSh0cnMpLm1hcCgobjogYW55KSA9PiBuLmNsaWVudEhlaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhbEhlYWRlckhlaWdodCA9IGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUZpbHRlclJvdykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFsSGVhZGVySGVpZ2h0ICs9IHRoaXMuZmlsdGVyUm93SGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlYWxIZWFkZXJIZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5YiX6ZuG5ZCI5Y+Y5YyWXHJcbiAgICBjb2x1bW5zQ2hhbmdlZChyZWxvYWREYXRhID0gdHJ1ZSwgdXNlQ29sdW1uU2V0dGluZ1dpZHRoID0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IF91c2VDb2x1bW5TZXR0aW5nV2lkdGggPSB1c2VDb2x1bW5TZXR0aW5nV2lkdGggPT09IG51bGwgPyB0aGlzLmZpdENvbHVtbnMgOiB1c2VDb2x1bW5TZXR0aW5nV2lkdGg7XHJcbiAgICAgICAgdGhpcy5jaGVja0NvbHVtbnNUeXBlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2ZsYXRDb2x1bW5zKCk7XHJcbiAgICAgICAgdGhpcy5oZWFkZXJIZWlnaHRDaGFuZ2UoKTtcclxuICAgICAgICB0aGlzLmRmcy51cGRhdGVQcm9wZXJ0eSgnZmxhdENvbHVtbnMnLCB0aGlzLmZsYXRDb2x1bW5zKTtcclxuICAgICAgICB0aGlzLmRmcy51cGRhdGVDb2x1bW5zKHRoaXMuY29sdW1ucywgX3VzZUNvbHVtblNldHRpbmdXaWR0aCwgdHJ1ZSk7XHJcbiAgICAgICAgLy8gdGhpcy5jb2xHcm91cCA9IHRoaXMuZGZzLmdldFN0YXRlKCkuY29sdW1uc0dyb3VwO1xyXG4gICAgICAgIC8vIOWKqOaAgeWIl+WQiOiuoeihjFxyXG4gICAgICAgIHRoaXMudXBkYXRlRm9vdGVyRGF0YSgpO1xyXG4gICAgICAgIGlmIChyZWxvYWREYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRncy5jb2x1bW5zQ2hhbmdlZC5lbWl0KHsgc2Nyb2xsVG9MZWZ0OiByZWxvYWREYXRhIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOWIl+WktOWPmOWMllxyXG4gICAgcHJpdmF0ZSBoZWFkZXJIZWlnaHRDaGFuZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRIZWFkZXJIZWlnaHQoKTtcclxuICAgICAgICB0aGlzLmRncy5zaG93R3JpZEhlYWRlci5lbWl0KHRoaXMucmVhbEhlYWRlckhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOWIpOaWreaYr+WQpuWcqOW8ueWHuueahOeql+WPo+S4re+8m+i/lOWbnnVuZGVmaW5kIOivtOaYjuayoeacieWcqOW8ueWHuueahOeql+WPo++8jOWQpuWImeinhuS4uuW9k+WJjeWIl+ihqOWcqOW8ueWHuueql+WPo+S9v+eUqCAqL1xyXG4gICAgaW5EaWFsb2coKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWwubmF0aXZlRWxlbWVudC5jbG9zZXN0KCcubW9kYWwtYm9keScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgIC8vI3JlZ2lvbiBJbml0XHJcbiAgICAvKiog5Yid5aeL57yW6L6R5Zmo5LiO6aqM6K+B5ZmoICovXHJcbiAgICBwcml2YXRlIGluaXRFZGl0b3JBbmRWYWxpZGF0b3IoKSB7XHJcbiAgICAgICAgY29uc3QgRWRpdG9ycyA9IHRoaXMuaW5qZWN0LmdldDxhbnlbXT4oR1JJRF9FRElUT1JTLCBbXSk7XHJcblxyXG4gICAgICAgIGlmIChFZGl0b3JzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBFZGl0b3JzLmZvckVhY2goZWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3JzW2VkLm5hbWVdID0gZWQudmFsdWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBfdmFsaWRhdG9ycyA9IHRoaXMuaW5qZWN0LmdldDxhbnlbXT4oR1JJRF9WQUxJREFUT1JTLCBbXSk7XHJcbiAgICAgICAgaWYgKF92YWxpZGF0b3JzICYmIF92YWxpZGF0b3JzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBfdmFsaWRhdG9ycy5mb3JFYWNoKHZyID0+IHtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMudmFsaWRhdG9yc1t2ci5uYW1lXSA9IHZyLnZhbHVlO1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgdGhpcy52YWxpZGF0b3JzID0gX3ZhbGlkYXRvcnM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFBhZ2VySGVpZ2h0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy51c2VIdG1sVGFibGUpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhZ2luYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZXJIZWlnaHQgPSAwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlckhlaWdodCA9IHRoaXMuZGdQYWdlciAmJiB0aGlzLmRnUGFnZXIub3V0ZXJIZWlnaHQgfHwgNDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0U3RhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhIHx8IFtdO1xyXG4gICAgICAgIHRoaXMuZGZzLmluaXRTdGF0ZSh7IC4uLnRoaXMsIGZpdENvbHVtbnM6IHRoaXMuZml0Q29sdW1ucywgZml0OiB0aGlzLmZpdCwgZ3JvdXBGaWVsZDogdGhpcy5fZ3JvdXBGaWVsZCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldEZpdENvbHVtbnMoZml0Q29sdW1ucyA9IHRydWUpIHtcclxuICAgICAgICBpZiAodGhpcy5jb2x1bW5zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLmZpdENvbHVtbnMoZml0Q29sdW1ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0R3JpZE5ld1NpemVXaGVuRml0KCkge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZWwubmF0aXZlRWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgY21wUmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLmdldEVsZW1lbnRQYWRkaW5nKHBhcmVudCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvcmRlciA9IHRoaXMuZ2V0RWxlbWVudEJvcmRlcldpZHRoKHBhcmVudCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5mbG9vcihjbXBSZWN0LndpZHRoIC0gYm9yZGVyLmxlZnQgLSBib3JkZXIucmlnaHQgLSBwYWRkaW5nLmxlZnQgLSBwYWRkaW5nLnJpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLmZsb29yKGNtcFJlY3QuaGVpZ2h0IC0gYm9yZGVyLnRvcCAtIGJvcmRlci5ib3R0b20gLSBwYWRkaW5nLnRvcCAtIHBhZGRpbmcuYm90dG9tKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5kZnMuZ2V0U3RhdGUoKS5oZWlnaHQgfHwgMzAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMud2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmRmcy5nZXRTdGF0ZSgpLndpZHRoIHx8IDgwMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2FsY3VsYXRlR3JpZFNpemUoZml0ID0gdHJ1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnVzZUh0bWxUYWJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmaXQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRHcmlkTmV3U2l6ZVdoZW5GaXQoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggJiYgdGhpcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzUmVzaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdyaWRTaXplID0geyB3aWR0aDogdGhpcy53aWR0aCArICdweCcsIGhlaWdodDogdGhpcy5oZWlnaHQgKyAncHgnIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRmcy5yZXNpemUoeyB3aWR0aDogdGhpcy53aWR0aCwgaGVpZ2h0OiB0aGlzLmhlaWdodCB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzUmVzaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdEJlZm9yZUV2ZW50cygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYmVmb3JlU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmVmb3JlU2VsZWN0ID0gKCkgPT4gb2YodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5iZWZvcmVVbnNlbGVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLmJlZm9yZVVuc2VsZWN0ID0gKCkgPT4gb2YodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuYmVmb3JlQ2hlY2spIHtcclxuICAgICAgICAgICAgdGhpcy5iZWZvcmVDaGVjayA9ICgpID0+IG9mKHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmJlZm9yZVVuY2hlY2spIHtcclxuICAgICAgICAgICAgdGhpcy5iZWZvcmVVbmNoZWNrID0gKCkgPT4gb2YodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuYmVmb3JlU29ydENvbHVtbikge1xyXG4gICAgICAgICAgICB0aGlzLmJlZm9yZVNvcnRDb2x1bW4gPSAoKSA9PiBvZih0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5iZWZvcmVFZGl0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmVmb3JlRWRpdCA9ICgpID0+IG9mKHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmFmdGVyRWRpdCkge1xyXG4gICAgICAgICAgICB0aGlzLmFmdGVyRWRpdCA9ICgpID0+IG9mKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0cmFja0J5Um93cyA9IChpbmRleDogbnVtYmVyLCByb3c6IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChyb3cpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvd1t0aGlzLmlkRmllbGRdIHx8IGluZGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIOW/q+aNt+mUrlxyXG5cclxuICAgIHByaXZhdGUgdW5iaW5kTW92ZVNlbGVjdFJvd0V2ZW50KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRvY3VtZW50Um93S2V5ZG93bkhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5kb2N1bWVudFJvd0tleWRvd25IYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRSb3dLZXlkb3duSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGJpbmREb2N1bWVudE1vdmVTZWxlY3RSb3dFdmVudCgpIHtcclxuICAgICAgICB0aGlzLnVuYmluZE1vdmVTZWxlY3RSb3dFdmVudCgpO1xyXG4gICAgICAgIHRoaXMudW5iaW5kRG9jdW1lbnRFZGl0TGlzdGVuZXIoKTtcclxuICAgICAgICB0aGlzLmRvY3VtZW50Um93S2V5ZG93bkhhbmRsZXIgPSB0aGlzLnJlbmRlcjIubGlzdGVuKGRvY3VtZW50LCAna2V5ZG93bicsIChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGhhcyBsb2FkaW5nXHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmYXJyaXMtbG9hZGluZycpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldE5hbWUgPSAoZS50YXJnZXQgYXMgYW55KS5ub2RlTmFtZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlnbm9yZVRhcmdldC5pbmRleE9mKHRhcmdldE5hbWUpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDQwIHx8IGUua2V5Q29kZSA9PT0gMzgpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDA6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3ROZXh0Um93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM4OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0UHJldlJvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBiaW5kRWRpdExpc3RlbmVySW5Nb2RhbCgpIHtcclxuICAgICAgICAvLyDlvLnnqpfkuK3kuovku7blpITnkIZcclxuICAgICAgICBpZiAoVXRpbHMuaGFzRGlhbG9nT3BlbigpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsRWxlbWVudCA9IHRoaXMuaW5EaWFsb2coKTtcclxuICAgICAgICAgICAgaWYgKG1vZGFsRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgX2Ztb2RhbCA9IG1vZGFsRWxlbWVudC5jbG9zZXN0KCcuZmFycmlzLW1vZGFsJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoX2Ztb2RhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kYWxDbGlja0V2ZW50ID0gdGhpcy5yZW5kZXIyLmxpc3RlbihfZm1vZGFsLCAnY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kRWRpdGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDZWxsID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkRvY3VtZW50TW91c2VEb3duID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKCFldmVudC50YXJnZXQuY2xvc2VzdCgnLmYtZGF0YWdyaWQnKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZURhdGFHcmlkKGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmICh0aGlzLmVkaXRNb2RlID09PSAncm93Jykge1xyXG4gICAgICAgIC8vICAgICB0aGlzLmVuZEVkaXRpbmcoKTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDZWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChVdGlscy5oYXNEaWFsb2dPcGVuKCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGxnID0gdGhpcy5pbkRpYWxvZygpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRhcmdldEluRGlhbG9nID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5tb2RhbC1ib2R5Jyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kbGcgJiYgY3VycmVudFRhcmdldEluRGlhbG9nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGxnICE9IGN1cnJlbnRUYXJnZXRJbkRpYWxvZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDZWxsLmlzRWRpdGluZykge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5kZnMuZW5kRWRpdENlbGwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENlbGwuY2VsbEVsZW1lbnQuY2xvc2VFZGl0KCkuc3Vic2NyaWJlKGYgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDZWxsICYmIHRoaXMuY3VycmVudENlbGwuY2VsbEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERvbUhhbmRsZXIucmVtb3ZlQ2xhc3ModGhpcy5jdXJyZW50Q2VsbC5jZWxsRWxlbWVudCwgQ0VMTF9TRUxFQ1RFRF9DTFMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyh0aGlzLmN1cnJlbnRDZWxsLmNlbGxFbGVtZW50LCBDRUxMX0VESVRJTkdfQ0xTKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRmcy5jYW5jZWxTZWxlY3RDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudW5iaW5kRG9jdW1lbnRFZGl0TGlzdGVuZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2VsbCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYmluZERvY3VtZW50RWRpdExpc3RlbmVyKCkge1xyXG4gICAgICAgIHRoaXMudW5iaW5kRG9jdW1lbnRFZGl0TGlzdGVuZXIoKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmRvY3VtZW50Q2VsbENsaWNrSGFuZGxlcikge1xyXG4gICAgICAgICAgICB0aGlzLmJpbmRFZGl0TGlzdGVuZXJJbk1vZGFsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRDZWxsQ2xpY2tIYW5kbGVyID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudENlbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoVXRpbHMuaGFzRGlhbG9nT3BlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGxnID0gdGhpcy5pbkRpYWxvZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGFyZ2V0SW5EaWFsb2cgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLm1vZGFsLWJvZHknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGxnICYmIGN1cnJlbnRUYXJnZXRJbkRpYWxvZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGxnICE9IGN1cnJlbnRUYXJnZXRJbkRpYWxvZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBEb21IYW5kbGVyLnJlbW92ZUNsYXNzKHRoaXMuY3VycmVudENlbGwuY2VsbEVsZW1lbnQsIENFTExfU0VMRUNURURfQ0xTKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuY3VycmVudENlbGwuaXNFZGl0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vIHRoaXMuZGZzLmVuZEVkaXRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuY3VycmVudENlbGwuY2VsbEVsZW1lbnQuY2xvc2VFZGl0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZGZzLmNhbmNlbFNlbGVjdENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnVuYmluZERvY3VtZW50RWRpdExpc3RlbmVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDZWxsLmlzRWRpdGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmRmcy5lbmRFZGl0Q2VsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDZWxsLmNlbGxFbGVtZW50LmNsb3NlRWRpdCgpLnN1YnNjcmliZShmID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyh0aGlzLmN1cnJlbnRDZWxsLmNlbGxFbGVtZW50LCBDRUxMX1NFTEVDVEVEX0NMUyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyh0aGlzLmN1cnJlbnRDZWxsLmNlbGxFbGVtZW50LCBDRUxMX0VESVRJTkdfQ0xTKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRmcy5jYW5jZWxTZWxlY3RDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bmJpbmREb2N1bWVudEVkaXRMaXN0ZW5lcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENlbGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuZG9jdWVtbnRDZWxsQ2xpY2tFdmVudHMgPSB0aGlzLnJlbmRlcjIubGlzdGVuKGRvY3VtZW50LCAnY2xpY2snLCB0aGlzLmRvY3VtZW50Q2VsbENsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZG9jdW1lbnRDZWxsS2V5ZG93bkhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5kb2N1bWVudENlbGxLZXlkb3duSGFuZGxlciA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uS2V5RG93bkV2ZW50KGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRDZWxsS2V5ZG93bkV2ZW50cyA9IHRoaXMucmVuZGVyMi5saXN0ZW4oZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5kb2N1bWVudENlbGxLZXlkb3duSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdW5iaW5kRG9jdW1lbnRFZGl0TGlzdGVuZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnRDZWxsQ2xpY2tIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9jdWVtbnRDZWxsQ2xpY2tFdmVudHMoKTtcclxuICAgICAgICAgICAgdGhpcy5kb2N1bWVudENlbGxDbGlja0hhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnRDZWxsS2V5ZG93bkhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5kb2N1bWVudENlbGxLZXlkb3duRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRDZWxsS2V5ZG93bkhhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMubW9kYWxDbGlja0V2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kYWxDbGlja0V2ZW50KCk7XHJcbiAgICAgICAgICAgIHRoaXMubW9kYWxDbGlja0V2ZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbktleURvd25FdmVudChlOiBhbnkpIHtcclxuICAgICAgICAvLyBpZiAoZS5jdHJsS2V5IHx8IGUuc2hpZnRLZXkgfHwgIXRoaXMuZWRpdGFibGUpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy8gaWYgKCFlLnRhcmdldC5jbG9zZXN0KCcuZi1kYXRhZ3JpZCcpKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybjtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIGNvbnN0IGtleUNvZGUgPSBlLmtleUNvZGU7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDZWxsICYmICF0aGlzLmN1cnJlbnRDZWxsLmlzRWRpdGluZykge1xyXG4gICAgICAgICAgICBpZiAoWzEzLCA0MCwgMzcsIDM4LCAzOSwgOV0uaW5kZXhPZihrZXlDb2RlKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDMyOiAvLyDnqbrmoLxcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2VsbCAmJiB0aGlzLmN1cnJlbnRDZWxsLmNvbHVtbi5vblNwYWNlSGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDZWxsLmNvbHVtbi5vblNwYWNlSGFuZGxlcih7IGdyaWQ6IHRoaXMsIGNlbGw6IHRoaXMuY3VycmVudENlbGwsIGV2ZW50OiBlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMTM6IC8vIEVudGVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudENlbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm4gPSB0aGlzLmN1cnJlbnRDZWxsLmNlbGxFbGVtZW50WydlZGl0Q2VsbCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMuY3VycmVudENlbGwuY2VsbEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudENlbGwuY29sdW1uLm9uRW50ZXJIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDZWxsLmNvbHVtbi5vbkVudGVySGFuZGxlcih7IGdyaWQ6IHRoaXMsIGNlbGw6IHRoaXMuY3VycmVudENlbGwsIGV2ZW50OiBlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0MDogLy8g4oaTXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3ROZXh0Q2VsbCgnZG93bicsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzODogLy8g4oaRXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3ROZXh0Q2VsbCgndXAnLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzk6IC8vIOKGklxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0TmV4dENlbGwoJ3JpZ2h0JywgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM3OiAvLyDihpBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdE5leHRDZWxsKCdsZWZ0JywgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDk6IC8vIFRhYlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0TmV4dENlbGwoJ2xlZnQnLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdE5leHRDZWxsKCdyaWdodCcsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSB1bnN1YnNjcmliZXMoKSB7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goc3MgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc3MpIHtcclxuICAgICAgICAgICAgICAgIHNzLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICAgICAgICBzcyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW107XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRvY3VlbW50Q2VsbENsaWNrRXZlbnRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9jdWVtbnRDZWxsQ2xpY2tFdmVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIEVkaXRpbmdcclxuXHJcbiAgICBpc1Jvd0VkaXRpbmcoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkUm93IHx8IHRoaXMuc2VsZWN0ZWRSb3cuaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lZGl0TW9kZSA9PT0gJ3JvdycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkUm93LmVkaXRvcnMgJiYgdGhpcy5zZWxlY3RlZFJvdy5lZGl0b3JzLmxlbmd0aDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpc0NlbGxFZGl0aW5nKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDZWxsICYmIHRoaXMuZWRpdE1vZGUgPT09ICdjZWxsJykge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudENlbGwuZWRpdG9yICYmICF0aGlzLmN1cnJlbnRDZWxsLmNvbHVtbi5lZGl0b3JUZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2VsbC5pc0VkaXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50Q2VsbC5pc0VkaXRpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpc0VkaXRpbmcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZWRpdE1vZGUgPT09ICdyb3cnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzUm93RWRpdGluZygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzQ2VsbEVkaXRpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZW5kRWRpdGluZygpIHtcclxuICAgICAgICBpZiAodGhpcy5lZGl0TW9kZSA9PT0gJ3JvdycpIHtcclxuICAgICAgICAgICAgdGhpcy5lbmRSb3dFZGl0KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVkaXRNb2RlID09PSAnY2VsbCcpIHtcclxuICAgICAgICAgICAgdGhpcy5lbmRDZWxsRWRpdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRFZGl0b3JzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkUm93LmVkaXRvcnM7XHJcbiAgICB9XHJcblxyXG4gICAgZWRpdENlbGwocm93SWQ6IGFueSwgZmllbGQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlRGF0YUdyaWQoKTtcclxuXHJcbiAgICAgICAgY29uc3Qgcm93SW5kZXggPSB0aGlzLmRmcy5maW5kUm93SW5kZXgocm93SWQpO1xyXG4gICAgICAgIGlmIChyb3dJbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kQ2VsbEVkaXQoKTtcclxuICAgICAgICAgICAgY29uc3QgdHJJZCA9IFRSX1BSRUZJWCArIHJvd0lkO1xyXG4gICAgICAgICAgICBjb25zdCB0ckRvbSA9IHRoaXMuZWwubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHRySWQpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHRkRG9tID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKHRyRG9tKSB7XHJcbiAgICAgICAgICAgICAgICB0ZERvbSA9IHRyRG9tLnF1ZXJ5U2VsZWN0b3IoYFtmaWVsZD1cIiR7ZmllbGR9XCJdYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY29sID0gdGhpcy5nZXRDb2x1bW4oZmllbGQpO1xyXG4gICAgICAgICAgICBpZiAoIXRkRG9tICYmIGNvbC5maXhlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbC5maXhlZCA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJEb21MID0gdGhpcy5lbC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgdHJJZCArICdfZml4ZWRsZWZ0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGREb20gPSB0ckRvbUwgJiYgdHJEb21MLnF1ZXJ5U2VsZWN0b3IoYFtmaWVsZD1cIiR7ZmllbGR9XCJdYCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbC5maXhlZCA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyRG9tUiA9IHRoaXMuZWwubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHRySWQgKyAnX2ZpeGVkcmlnaHQnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZERvbSA9IHRyRG9tUiAmJiB0ckRvbVIucXVlcnlTZWxlY3RvcihgW2ZpZWxkPVwiJHtmaWVsZH1cIl1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRkRG9tICYmIHRkRG9tWydlZGl0Q2VsbCddKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDZWxsID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRkRG9tLmVkaXRDZWxsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZW5kQ2VsbEVkaXQoZXZlbnQ/OiBhbnkpIHtcclxuICAgICAgICAvLyBkb2N1bWVudC5ib2R5LmNsaWNrKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENlbGwpIHtcclxuICAgICAgICAgICAgRG9tSGFuZGxlci5yZW1vdmVDbGFzcyh0aGlzLmN1cnJlbnRDZWxsLmNlbGxFbGVtZW50LCBDRUxMX1NFTEVDVEVEX0NMUyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDZWxsLmlzRWRpdGluZykge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5kZnMuZW5kRWRpdENlbGwoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDZWxsLmNlbGxFZGl0b3JSZWYpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDZWxsLmNlbGxFZGl0b3JSZWYuaGlkZUNvdmVyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcEVkaXQgPSB0aGlzLmN1cnJlbnRDZWxsLmNlbGxFbGVtZW50LmNsb3NlRWRpdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0b3BFZGl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcEVkaXQuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZWRpdFJvdyhyb3dJZD86IGFueSkge1xyXG4gICAgICAgIGlmICghdGhpcy5lZGl0YWJsZSB8fCB0aGlzLmVkaXRNb2RlICE9PSAncm93JykgeyByZXR1cm4gZmFsc2U7IH1cclxuXHJcbiAgICAgICAgaWYgKHJvd0lkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0Um93KHJvd0lkKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRSb3cgfHwgdGhpcy5zZWxlY3RlZFJvdy5pbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQbGVhc2Ugc2VsZWN0IGEgcm93LicpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB7IGluZGV4OiByb3dJbmRleCwgZGF0YTogcm93RGF0YSB9ID0geyAuLi50aGlzLnNlbGVjdGVkUm93IH07XHJcblxyXG4gICAgICAgIGNvbnN0IGJlZm9yZUVkaXRFdmVudCA9IHRoaXMuYmVmb3JlRWRpdCh7IHJvd0luZGV4LCByb3dEYXRhLCBncmlkSW5zdGFuY2U6IHRoaXMgfSk7XHJcbiAgICAgICAgaWYgKCFiZWZvcmVFZGl0RXZlbnQgfHwgIWJlZm9yZUVkaXRFdmVudC5zdWJzY3JpYmUpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdwbGVhc2UgcmV0dXJuIGFuIE9ic2VydmFibGUgVHlwZS4nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdHJJZCA9IFRSX1BSRUZJWCArIHJvd0lkO1xyXG4gICAgICAgIGNvbnN0IHRyRG9tID0gdGhpcy5lbC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgdHJJZCk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZFJvdy5kcikge1xyXG4gICAgICAgICAgICB0ckRvbS5jbGljaygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYmVmb3JlRWRpdEV2ZW50LnN1YnNjcmliZSgoZmxhZzogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZmxhZykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRSb3cuZHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjZWxscyA9IHRoaXMuc2VsZWN0ZWRSb3cuZHIuY2VsbHMudG9BcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2VsbHMgfHwgIWNlbGxzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbC5jb2x1bW4uZWRpdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmlzRWRpdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93LmRyLmNkLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWRpdG9ycyA9IGNlbGxzLm1hcChjZWxsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZWxsLmNlbGxFZGl0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2VsbC5jZWxsRWRpdG9yLmNvbXBvbmVudFJlZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmlsdGVyKGVkaXRvciA9PiBlZGl0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93LmVkaXRvcnMgPSBlZGl0b3JzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRvcnMgJiYgZWRpdG9ycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0b3JzWzBdLmluc3RhbmNlLmlucHV0RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcnNbMF0uaW5zdGFuY2UuaW5wdXRFbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOe7keWumumUruebmOS6i+S7tlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmRSb3dFZGl0b3JLZXlkb3duRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNkWydkZXN0cm95ZWQnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZWdpbkVkaXQuZW1pdCh7IHJvd0luZGV4LCByb3dEYXRhLCBncmlkSW5zdGFuY2U6IHRoaXMsIGVkaXRvcjogZWRpdG9ycyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBlbmRSb3dFZGl0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1Jvd0VkaXRpbmcoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBjYW5FbmQ6IHRydWUgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZFJvdyB8fCB0aGlzLnNlbGVjdGVkUm93LmluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BsZWFzZSBzZWxlY3QgYSByb3cuJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBpbmRleDogcm93SW5kZXgsIGRhdGE6IHJvd0RhdGEsIGRyIH0gPSB7IC4uLnRoaXMuc2VsZWN0ZWRSb3cgfTtcclxuICAgICAgICBjb25zdCB7IGVkaXRvcjogY3VycmVudEVkaXRvciwgY29sdW1uIH0gPSB7IC4uLnRoaXMuY3VycmVudENlbGwgfTtcclxuICAgICAgICAvLyBibHVyXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGljaygpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wZW5kaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGNhbkVuZDogZmFsc2UgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJvd0Zvcm0gPSBkci5mb3JtIGFzIEZvcm1Hcm91cDtcclxuICAgICAgICByb3dGb3JtLm1hcmtBc1RvdWNoZWQoKTtcclxuICAgICAgICBpZiAocm93Rm9ybS5pbnZhbGlkICYmICF0aGlzLmVuZEVkaXRCeUludmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgY2FuRW5kOiBmYWxzZSB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gYWZ0ZXJFZGl0IOimgeS8oOmAkuebuOWFs+WPguaVsO+8jOWcqOe8lui+keeKtuaAgeaXtu+8jOenu+WKqOa7muWKqOadoeS8muWHuuS6i1xyXG4gICAgICAgIGNvbnN0IGFmdGVyRWRpdEV2ZW50ID0gdGhpcy5hZnRlckVkaXQocm93SW5kZXgsIHJvd0RhdGEsIGNvbHVtbiwgY3VycmVudEVkaXRvcik7XHJcbiAgICAgICAgaWYgKCFhZnRlckVkaXRFdmVudCB8fCAhYWZ0ZXJFZGl0RXZlbnQuc3Vic2NyaWJlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybigncGxlYXNlIHJldHVybiBhbiBPYnNlcnZhYmxlIFR5cGUuJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGNhbkVuZDogZmFsc2UgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFmdGVyRWRpdEV2ZW50LnN1YnNjcmliZSgoZmxhZzogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZmxhZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUFsbENlbGxFZGl0b3IoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFJvdy5kci5mb3JtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvdy5kci5yb3dEYXRhID0gT2JqZWN0LmFzc2lnbih0aGlzLnNlbGVjdGVkUm93LmRyLnJvd0RhdGEsIHRoaXMuc2VsZWN0ZWRSb3cuZHIuZm9ybS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZnMudXBkYXRlUm93KHRoaXMuc2VsZWN0ZWRSb3cuaWQsIHRoaXMuc2VsZWN0ZWRSb3cuZHIucm93RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHZhbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRFZGl0b3IgJiYgY3VycmVudEVkaXRvci5mb3JtQ29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IGN1cnJlbnRFZGl0b3IuZm9ybUNvbnRyb2wudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmRFZGl0LmVtaXQoeyByb3dJbmRleCwgcm93RGF0YSwgY29sdW1uLCB2YWx1ZTogdmFsIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGdzLnJlZnJlc2hGb290ZXJEYXRhLmVtaXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbmNlbEVkaXQocm93SWQ6IGFueSwgZW1pdCA9IHRydWUpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRWRpdGluZygpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2xvc2VBbGxDZWxsRWRpdG9yKCk7XHJcbiAgICAgICAgaWYgKHJvd0lkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLnJlamVjdENoYW5nZXMocm93SWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgaWYgKGVtaXQpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW5jZWxFZGl0ZWQuZW1pdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjbG9zZUFsbENlbGxFZGl0b3IoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRSb3cgJiYgdGhpcy5zZWxlY3RlZFJvdy5kcikge1xyXG4gICAgICAgICAgICBjb25zdCBjZWxscyA9IHRoaXMuc2VsZWN0ZWRSb3cuZHIuY2VsbHM7XHJcbiAgICAgICAgICAgIGlmIChjZWxscykge1xyXG4gICAgICAgICAgICAgICAgY2VsbHMuZm9yRWFjaChjZWxsID0+IGNlbGwuaXNFZGl0aW5nID0gZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudENlbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDZWxsLmlzRWRpdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3cuZWRpdG9ycyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDlj5bmtojplK7nm5jkuovku7ZcclxuICAgICAgICB0aGlzLnVuYmluZFJvd0VkaXRvcktleWRvd25FdmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcm93RWRpdFRhYktleWR3b25FdmVudChlOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBrZXlDb2RlID0gZS53aGljaCB8fCBlLmtleUNvZGU7XHJcblxyXG4gICAgICAgIGlmIChrZXlDb2RlID09PSA5KSB7ICAvLyB0YWJcclxuICAgICAgICAgICAgY29uc3QgdGQgPSBlLnRhcmdldC5jbG9zZXN0KCd0ZCcpO1xyXG4gICAgICAgICAgICBjb25zdCB0ciA9IGUudGFyZ2V0LmNsb3Nlc3QoJ3RyJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHRUZCA9IHRkLm5leHRFbGVtZW50U2libGluZztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGhhc05vRWRpdG9yID0gKF90ZDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIV90ZC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpICYmICFfdGQucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKSAmJiAhX3RkLnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZWRpdE5leHRSb3cgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VHIgPSB0ci5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dFRyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRyLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFJvd2lkID0gbmV4dFRyLmdldEF0dHJpYnV0ZSgnaWQnKS5yZXBsYWNlKFRSX1BSRUZJWCwgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Um93aWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0Um93KG5leHRSb3dpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKG5leHRUZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGhhc05vRWRpdG9yKG5leHRUZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZHMgPSB0ci5xdWVyeVNlbGVjdG9yQWxsKCd0ZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZElkeCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHRkcy5mb3JFYWNoKCh0LCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSBuZXh0VGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkSWR4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXh0VHJFZGl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGRJZHggPCB0ZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IF9udGQgPSB0ZHNbdGRJZHhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzTm9FZGl0b3IoX250ZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkSWR4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VHJFZGl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUckVkaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE5leHRSb3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0TmV4dFJvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYmluZFJvd0VkaXRvcktleWRvd25FdmVudCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZG9jdW1lbnRSb3dFZGl0S2V5ZG93bkhhbmxkZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5kb2N1bWVudFJvd0VkaXRLZXlkb3duSGFubGRlciA9IHRoaXMucmVuZGVyMi5saXN0ZW4oZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5yb3dFZGl0VGFiS2V5ZHdvbkV2ZW50LmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRvY3VtZW50Q2xpY2tFbmRSb3dFZGl0SGFuZGxlciA9IHRoaXMucmVuZGVyMi5saXN0ZW4oZG9jdW1lbnQsICdjbGljaycsIChlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChVdGlscy5oYXNEaWFsb2dPcGVuKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNSb3dFZGl0aW5nKCkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmVuZFJvd0VkaXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdW5iaW5kUm93RWRpdG9yS2V5ZG93bkV2ZW50KCkge1xyXG4gICAgICAgIC8vIOWPlua2iOmUruebmOS6i+S7tlxyXG4gICAgICAgIGlmICh0aGlzLmRvY3VtZW50Um93RWRpdEtleWRvd25IYW5sZGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRSb3dFZGl0S2V5ZG93bkhhbmxkZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5kb2N1bWVudFJvd0VkaXRLZXlkb3duSGFubGRlciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5kb2N1bWVudENsaWNrRW5kUm93RWRpdEhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5kb2N1bWVudENsaWNrRW5kUm93RWRpdEhhbmRsZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5kb2N1bWVudENsaWNrRW5kUm93RWRpdEhhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24gTG9hZCBEYXRhXHJcblxyXG5cclxuICAgIHByaXZhdGUgX2NsaWVudEZpbHRlcihjb25kaXRpb25zOiBhbnksIGV4Y3V0ZUxvY2FsZUZpbHRlciA9IGZhbHNlKSB7XHJcbiAgICAgICAgLy8g5a6i5oi356uv6L+H5rukXHJcbiAgICAgICAgaWYgKGV4Y3V0ZUxvY2FsZUZpbHRlcikge1xyXG4gICAgICAgICAgICBjb25zdCBhbGxDbGllbnREYXRhID0gdGhpcy5kZnMuZ2V0RGF0YSh0cnVlKTtcclxuICAgICAgICAgICAgaWYgKGNvbmRpdGlvbnMgJiYgT2JqZWN0LmtleXMoY29uZGl0aW9ucykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBfZGF0YSA9IHRoaXMuY2xpZW50RmlsdGVyU2VydmljZS5leGVjdXRlRmlsdGVyKGFsbENsaWVudERhdGEsIGNvbmRpdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZnMubG9hZEZpbHRlckRhdGEoX2RhdGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkRGF0YShhbGxDbGllbnREYXRhLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy52aXJ0dWFsaXplZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvVG9wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmZpbHRlckNoYW5nZWQuZW1pdChjb25kaXRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNtYXJ0RmlsdGVyRGF0YShjb25kaXRpb25zOiBhbnkpIHtcclxuICAgICAgICBpZiAodGhpcy5yZW1vdGVGaWx0ZXIpIHsgLy8g5pyN5Yqh5Zmo56uv6L+H5rukXHJcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eUZpbHRlcnMgPSB0aGlzLmNsaWVudEZpbHRlclNlcnZpY2UuY29udmVydFNtYXJ0RmlsdGVyMkVudGl0eUZpbHRlcihjb25kaXRpb25zKTtcclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJDaGFuZ2VkLmVtaXQoZW50aXR5RmlsdGVycyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8g5a6i5oi356uv6L+H5rukXHJcbiAgICAgICAgICAgIHRoaXMuX2NsaWVudEZpbHRlcihjb25kaXRpb25zLCB0aGlzLnVzZURlZmF1bHRGaWx0ZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gc21hcnQgZml0bGVyIOa4heepuuafpeivouadoeS7tlxyXG4gICAgb25DbGVhclNtYXJ0RmlsdGVycygkZXZlbnQpIHtcclxuICAgICAgICB0aGlzLnNtYXJ0RmlsdGVyUmVzdWx0ID0geyBjb25kaXRpb25zOiBbXSwgY29udHJvbERhdGE6IFtdIH07XHJcbiAgICAgICAgdGhpcy5jb25kaXRpb25zID0gW107XHJcbiAgICAgICAgdGhpcy5zbWFydEZpbHRlckRhdGEoW10pO1xyXG4gICAgICAgIHRoaXMuc21hcnRGaWx0ZXJTZXJ2aWNlLmNsZWFyQWxsKCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25GaWx0ZXJCYXJSZXNpemUoMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25SZW1vdmVTbWFydEZpbHRlckl0ZW0oJGV2ZW50KSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJGV2ZW50KTtcclxuICAgICAgICBpZiAoJGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGUgPSB7IC4uLiRldmVudCB9O1xyXG4gICAgICAgICAgICBlWydsYWJlbENvZGUnXSA9ICRldmVudC5maWVsZENvZGU7XHJcbiAgICAgICAgICAgIHRoaXMuc21hcnRGaWx0ZXJTZXJ2aWNlLnJlbW92ZUNvbmRpdGlvbihlLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25GaWx0ZXJCYXJSZXNpemUoJGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJCYXJIZWlnaHQgPSAkZXZlbnQ7XHJcblxyXG4gICAgICAgIGNvbnN0IHNtYXJ0RmlsdGVyRWwgPSB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignLmYtZGF0YWdyaWQtY29sdW1uLWRyb3AtcGFuZWwnKTtcclxuICAgICAgICBpZiAoc21hcnRGaWx0ZXJFbCAmJiAhJGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHNtYXJ0RmlsdGVyRWwuc3R5bGUudG9wID0gJzBweCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGdzLnNob3dHcmlkSGVhZGVyLmVtaXQodGhpcy5yZWFsSGVhZGVySGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmRncy5zbWFydEZpbHRlckJhckV4cGFuZC5lbWl0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25TbWFydEZpbHRlckNoYW5nZSgkZXZlbnQpIHtcclxuICAgICAgICBjb25zdCB7IGNvbmRpdGlvbnMsIGZpbHRlckl0ZW0gfSA9ICRldmVudDtcclxuXHJcbiAgICAgICAgdGhpcy5zbWFydEZpbHRlclNlcnZpY2UuZmlsdGVyQ29uZGl0aW9uQ2hhbmdlZCh7IGNvbmRpdGlvbnMsIGNvbnRyb2xEYXRhOiBmaWx0ZXJJdGVtIH0pO1xyXG5cclxuICAgICAgICAvLyB0aGlzLnNtYXJ0RmlsdGVyRGF0YShjb25kaXRpb25zKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNtYXJ0RmlsdGVyUmVzdWx0LCBmaWx0ZXJJdGVtKTtcclxuICAgICAgICB0aGlzLmRncy5zbWFydEZpbHRlckRhdGFDaGFuZ2UuZW1pdChmaWx0ZXJJdGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBmaWx0ZXJEYXRhKGNvbmRpdGlvbnM/OiBhbnkpIHtcclxuICAgICAgICBpZiAoIWNvbmRpdGlvbnMpIHtcclxuICAgICAgICAgICAgY29uZGl0aW9ucyA9IHRoaXMuY29uZGl0aW9ucztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmRpdGlvbnMgPSBjb25kaXRpb25zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGxUb1RvcCgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5lbmFibGVTbWFydEZpbHRlcikge1xyXG4gICAgICAgICAgICB0aGlzLnNtYXJ0RmlsdGVyRGF0YShjb25kaXRpb25zKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucmVtb3RlRmlsdGVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eUZpbHRlcnMgPSB0aGlzLmNsaWVudEZpbHRlclNlcnZpY2UuY29udmVydDJGaWx0ZXJBcnJheShjb25kaXRpb25zKTtcclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJDaGFuZ2VkLmVtaXQoZW50aXR5RmlsdGVycyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8g5a6i5oi356uv6L+H5rukXHJcbiAgICAgICAgICAgIHRoaXMuX2NsaWVudEZpbHRlcihjb25kaXRpb25zLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiog5riF56m66L+H5ruk5p2h5Lu2ICovXHJcbiAgICBjbGVhckNvbmRpdGlvbigpIHtcclxuICAgICAgICB0aGlzLmRncy5vbkNsZWFyRmlsdGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZERhdGEoZGF0YT86IGFueSwga2VlcFNvcnRTdGF0ZSA9IGZhbHNlLCBrZWVwU2Nyb2xsUG9zaXRpb24gPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9hZGluZykge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlTG9hZGluZyghdGhpcy5wYWdpbmF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGF0YSA9IGRhdGEgfHwgW107XHJcblxyXG4gICAgICAgIGlmIChrZWVwU2Nyb2xsUG9zaXRpb24gJiYgdGhpcy5zY3JvbGxJbnN0YW5jZSAmJiB0aGlzLnNjcm9sbEluc3RhbmNlLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxzdCA9IHRoaXMuc2Nyb2xsSW5zdGFuY2UuaW5zdGFuY2UubGFzdFNjcm9sbFRvcDtcclxuICAgICAgICAgICAgY29uc3QgbHNsID0gdGhpcy5zY3JvbGxJbnN0YW5jZS5pbnN0YW5jZS5sYXN0U2Nyb2xsTGVmdDtcclxuICAgICAgICAgICAgdGhpcy5kZnMudXBkYXRlUHJvcGVydHkoJ3Njcm9sbEluZm8nLCB7IHk6IGxzdCwgeDogbHNsIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLnVwZGF0ZVByb3BlcnR5KCdzY3JvbGxJbmZvJywgeyB5OiAwLCB4OiAwIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGFnaW5hdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmRmcy5zZXRQYWdpbmF0aW9uKHRoaXMucGFnZUluZGV4LCB0aGlzLnBhZ2VTaXplLCB0aGlzLnRvdGFsKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQYWdlck9wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g6YeN5paw5Yqg6L295pWw5o2u5pe277yM56e76Zmk5omA5pyJ57yW6L6R5YiXXHJcbiAgICAgICAgLy8gdGhpcy5jbG9zZUFsbENlbGxFZGl0b3IoKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICBpZiAoa2VlcFNvcnRTdGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yZW1vdGVTb3J0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRmcy5sb2FkRGF0YShkYXRhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGZzLmxvYWREYXRhKGRhdGEsIHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kZnMubG9hZERhdGEoZGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFBhZ2VySGVpZ2h0KCk7XHJcbiAgICAgICAgdGhpcy5kZ3MuZGF0YVNvdXJjZUNoYW5nZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2FkVmlydHVhbERhdGEoZGF0YTogYW55KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ3JvdXBSb3dzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignaWYgeW91IHVzaW5nIEdST1VQUk9XUywgcGxlYXNlIHNldCBbdmlydHVhbGl6ZWRdPVwiZmFsc2VcIiBbdmlydHVhbGl6ZWRBc3luY0xvYWRdPVwiZmFsc2VcIicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnZpcnR1YWxpemVkQXN5bmNMb2FkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGdzLm9uTG9hZFZpcnR1YWxEYXRhKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmZXRjaERhdGEocGFnZUluZGV4LCBwYWdlU2l6ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnJlc3RTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0geyBwYWdlSW5kZXgsIHBhZ2VTaXplIH07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvcnROYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXNbJ3NvcnROYW1lJ10gPSB0aGlzLnNvcnROYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvcnRPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zWydzb3J0T3JkZXInXSA9IHRoaXMuc29ydE9yZGVyO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXN0U2VydmljZS5nZXREYXRhKHRoaXMudXJsLCBwYXJhbXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2YodW5kZWZpbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoKCkge1xyXG4gICAgICAgIHRoaXMuZGZzLnJlZnJlc2goKTtcclxuICAgIH1cclxuXHJcbiAgICByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5mZXRjaERhdGEoMSwgdGhpcy5wYWdlU2l6ZSkuc3Vic2NyaWJlKHJlcyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZUluZGV4ID0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXMudG90YWw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWREYXRhKHJlcy5pdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog6I635Y+W5b2T5YmN6aG15pWw5o2uICovXHJcbiAgICBnZXRSb3dzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdyb3VwUm93cyB8fCB0aGlzLnZpcnR1YWxpemVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VyT25TZXJ2ZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRzLnJvd3M7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50UGFnZXJEYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFnZXJPblNlcnZlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRQYWdlckRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIFBhZ2luYXRpb25cclxuXHJcbiAgICBzZXRQYWdlSW5kZXgocGFnZUluZGV4OiBudW1iZXIsIGRldGVjdENoYW5nZXMgPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlSW5kZXggPSBwYWdlSW5kZXg7XHJcbiAgICAgICAgdGhpcy5wYWdlck9wdHMuY3VycmVudFBhZ2UgPSBwYWdlSW5kZXg7XHJcblxyXG4gICAgICAgIGlmIChkZXRlY3RDaGFuZ2VzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDmm7TmlrDmr4/pobVcclxuICAgIHNldFBhZ2VMaXN0KHBhZ2VMaXN0OiBudW1iZXJbXSwgZGV0ZWN0Q2hhbmdlcyA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLnBhZ2VMaXN0ID0gcGFnZUxpc3Q7XHJcbiAgICAgICAgdGhpcy5wYWdlck9wdHMucGFnZUxpc3QgPSBwYWdlTGlzdDtcclxuICAgICAgICBpZiAoZGV0ZWN0Q2hhbmdlcykge1xyXG4gICAgICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25QYWdlQ2hhbmdlKHBhZ2VJbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9ja1BhZ2luYXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbFBhZ2luYXRpb25TdGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFBhZ2VJbmRleChwYWdlSW5kZXgsIGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB0aGlzLmZldGNoRGF0YShwYWdlSW5kZXgsIHRoaXMucGFnZVNpemUpLnN1YnNjcmliZShyZXMgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWREYXRhKHJlcy5pdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmZvY3VzUm93SW5kZXggPSAtMTtcclxuICAgICAgICB0aGlzLnNjcm9sbFRvVG9wKCk7XHJcbiAgICAgICAgdGhpcy5wYWdlQ2hhbmdlZC5lbWl0KHsgcGFnZUluZGV4LCBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvblBhZ2VTaXplQ2hhbmdlKHBhZ2VTaXplOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5sb2NrUGFnaW5hdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZm9jdXNSb3dJbmRleCA9IC0xO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsVG9Ub3AoKTtcclxuICAgICAgICB0aGlzLnBhZ2VTaXplID0gcGFnZVNpemU7XHJcbiAgICAgICAgdGhpcy5wYWdlck9wdHMuaXRlbXNQZXJQYWdlID0gcGFnZVNpemU7XHJcblxyXG4gICAgICAgIHRoaXMuZmV0Y2hEYXRhKDEsIHBhZ2VTaXplKS5zdWJzY3JpYmUocmVzID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkRGF0YShyZXMuaXRlbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wYWdlU2l6ZUNoYW5nZWQuZW1pdCh7IHBhZ2VTaXplLCBwYWdlSW5kZXg6IHRoaXMucGFnZUluZGV4IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVtb3ZlU2VsZWN0ZWRJdGVtKGlkOiBhbnkpIHtcclxuICAgICAgICBpZiAodGhpcy5kZnMuZmluZFJvd0luZGV4KGlkKSA+IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5DaGVja1JvdyhpZCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5DaGVja1JvdyhpZCwgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrVmFsdWVzID0gdGhpcy5jaGVja2Vkcy5tYXAociA9PiByLmlkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25DbGVhclNlbGVjdGVkSXRlbSgkZXZlbnQpIHtcclxuICAgICAgICAvLyB0aGlzLmNsZWFyQWxsKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0T25DaGVjaykge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdFZhbHVlID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2xlYXJDaGVja2Vkcyh0cnVlKTtcclxuICAgIH1cclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgIC8vI3JlZ2lvbiBMb2FkaW5nXHJcbiAgICBzaG93TG9hZGluZygpIHtcclxuICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlTG9hZGluZyhkZXRlY3RDaGFuZ2VzID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChkZXRlY3RDaGFuZ2VzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgIC8vI3JlZ2lvbiBEb21cclxuXHJcbiAgICBwcml2YXRlIHJlcGxhY2VQWDJFbXB0eShzdHJOdW06IHN0cmluZykge1xyXG4gICAgICAgIGlmIChzdHJOdW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5wYXJzZUludChzdHJOdW0ucmVwbGFjZSgncHgnLCAnJyksIDEwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyQ3VzdG9tQ2xzKGNsczogYW55LCBkb206IGFueSkge1xyXG4gICAgICAgIGlmIChjbHMpIHtcclxuICAgICAgICAgICAgaWYgKGNsc1swXSA9PT0gJyEnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBfY2xzID0gY2xzLnNsaWNlKDEpLnNwbGl0KCcgJykuZmlsdGVyKGMgPT4gYyk7XHJcbiAgICAgICAgICAgICAgICBfY2xzLmZvckVhY2goYyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIyLnJlbW92ZUNsYXNzKGRvbSwgYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjbHMuc3BsaXQoJyAnKS5maWx0ZXIoYyA9PiBjKS5mb3JFYWNoKGMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyMi5hZGRDbGFzcyhkb20sIGMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckN1c3RvbVN0eWxlKGNzOiBDdXN0b21TdHlsZSwgZG9tOiBhbnksIGNzc1J1bGVUZXh0ID0gbnVsbCkge1xyXG4gICAgICAgIGlmICghY3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY3MuY2xzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ3VzdG9tQ2xzKGNzLmNscywgZG9tKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjcy5zdHlsZSkge1xyXG4gICAgICAgICAgICBpZiAoIWNzc1J1bGVUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBjc3NSdWxlVGV4dCA9IGAke3RoaXMuY3VzdG9tU3R5bGVLZXkoKX0gIyR7ZG9tLmlkfSAke0pTT04uc3RyaW5naWZ5KGNzLnN0eWxlKX1gO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRncy5hcHBlbmRDc3NSdWxlcyhbY3NzUnVsZVRleHRdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsOiBFbGVtZW50UmVmKSB7XHJcbiAgICAgICAgcmV0dXJuIGVsLm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RWxlbWVudFBhZGRpbmcoZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b3A6IHRoaXMucmVwbGFjZVBYMkVtcHR5KHN0eWxlLnBhZGRpbmdUb3ApLFxyXG4gICAgICAgICAgICBsZWZ0OiB0aGlzLnJlcGxhY2VQWDJFbXB0eShzdHlsZS5wYWRkaW5nTGVmdCksXHJcbiAgICAgICAgICAgIGJvdHRvbTogdGhpcy5yZXBsYWNlUFgyRW1wdHkoc3R5bGUucGFkZGluZ0JvdHRvbSksXHJcbiAgICAgICAgICAgIHJpZ2h0OiB0aGlzLnJlcGxhY2VQWDJFbXB0eShzdHlsZS5wYWRkaW5nUmlnaHQpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFbGVtZW50Qm9yZGVyV2lkdGgoZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b3A6IHRoaXMucmVwbGFjZVBYMkVtcHR5KHN0eWxlLmJvcmRlclRvcFdpZHRoKSxcclxuICAgICAgICAgICAgYm90dG9tOiB0aGlzLnJlcGxhY2VQWDJFbXB0eShzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCksXHJcbiAgICAgICAgICAgIHJpZ2h0OiB0aGlzLnJlcGxhY2VQWDJFbXB0eShzdHlsZS5ib3JkZXJSaWdodFdpZHRoKSxcclxuICAgICAgICAgICAgbGVmdDogdGhpcy5yZXBsYWNlUFgyRW1wdHkoc3R5bGUuYm9yZGVyTGVmdFdpZHRoKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZm9ybWF0RGF0YShmaWVsZDogYW55LCBkYXRhOiBhbnksIGZvcm1hdHRlcjogYW55KSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldEZpZWxkVmFsdWUoZmllbGQsIGRhdGEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbEZvcm1hdFNlci5mb3JtYXQodmFsdWUsIGRhdGEsIGZvcm1hdHRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RmllbGRWYWx1ZShmaWVsZCwgcm93RGF0YSkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5nZXRWYWx1ZShmaWVsZCwgcm93RGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIFNlbGVjdFxyXG4gICAgcHJpdmF0ZSBjYW5PcGVyYXRlQ2hlY2tib3goKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlTZWxlY3QgJiYgdGhpcy5zaG93Q2hlY2tib3g7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBwcml2YXRlIGZpbmROZXh0Q2VsbChmaWVsZDogc3RyaW5nLCBkaXI6IE1vdmVEaXJlY3Rpb24pIHtcclxuICAgICAgICBsZXQgdGQgPSBudWxsO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDZWxsICYmIHRoaXMuY3VycmVudENlbGwuY2VsbEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgZml4ZWQgPSB0aGlzLmRmcy5nZXRDb2x1bW4oZmllbGQpLmZpeGVkIHx8ICcnO1xyXG4gICAgICAgICAgICBsZXQgY2VsbEluZGV4ID0gdGhpcy5kZnMuZ2V0Q29sdW1uSW5kZXgoZmllbGQsIGZpeGVkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmaXhlZCA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93Q2hlY2tib3gpIHtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsSW5kZXggKz0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93TGluZU51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGxJbmRleCArPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjdXJyQ2VsbEVsID0gdGhpcy5jdXJyZW50Q2VsbC5jZWxsRWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKGRpciA9PT0gJ3VwJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlRyID0gdGhpcy5kZ3MuZmluZE5leHRUcihjdXJyQ2VsbEVsLnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZywgJ3VwJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldlRyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQgPSBwcmV2VHIuY2hpbGRyZW5bY2VsbEluZGV4XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkaXIgPT09ICdkb3duJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRyID0gdGhpcy5kZ3MuZmluZE5leHRUcihjdXJyQ2VsbEVsLnBhcmVudEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLCAnZG93bicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRUcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRkID0gbmV4dFRyLmNoaWxkcmVuW2NlbGxJbmRleF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHRkID0gY3VyckNlbGxFbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpciA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgdGQgPSBjdXJyQ2VsbEVsLm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0TmV4dENlbGwoZGlyOiBNb3ZlRGlyZWN0aW9uLCBldmVudDogRXZlbnQpIHtcclxuICAgICAgICBjb25zdCBuZXh0VGQgPSB0aGlzLmZpbmROZXh0Q2VsbCh0aGlzLmN1cnJlbnRDZWxsLmZpZWxkLCBkaXIpO1xyXG5cclxuICAgICAgICBpZiAoZGlyID09PSAndXAnICYmICFuZXh0VGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5leHRUZCkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRbJ2NvZGUnXSA9PT0gJ1RhYicgJiYgdGhpcy5lZGl0YWJsZSAmJiB0aGlzLmVkaXRjZWxsV2hlblRhYktleWR3b24pIHtcclxuICAgICAgICAgICAgICAgIG5leHRUZFsnY2xpY2snXS5hcHBseShuZXh0VGQsIFtldmVudF0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV4dFRkWydzZWxlY3RDZWxsJ10oZXZlbnQsIG5leHRUZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbmV4dFRkWydzZWxlY3RDZWxsJ10oZXZlbnQsIG5leHRUZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0VGQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdHIgPSB0aGlzLmN1cnJlbnRDZWxsLmNlbGxFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCBfbmV4dCA9IHRyLm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgICAgICAgaWYgKGRpciA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICBfbmV4dCA9IHRyLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5leHRUciA9IHRoaXMuZGdzLmZpbmROZXh0VHIoX25leHQsIGRpciA9PT0gJ2xlZnQnID8gJ3VwJyA6ICdkb3duJyk7XHJcbiAgICAgICAgICAgIGlmIChuZXh0VHIgJiYgbmV4dFRyLnRhZ05hbWUgPT09ICdUUicpIHtcclxuICAgICAgICAgICAgICAgIC8vIG5leHRUci5jaGlsZHJlbi5maW5kKHRkID0+IHRkLmVkaXRDZWxsKS5lZGl0Q2VsbCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0RWRpdG9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLyB3aGlsZSAoIWZpcnN0RWRpdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZmlyc3RFZGl0b3IgPSAhIW5leHRUci5jaGlsZHJlbltpXS5lZGl0Q2VsbDtcclxuICAgICAgICAgICAgICAgIC8vICAgICBpZiAoIWZpcnN0RWRpdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICBuZXh0VHIuY2hpbGRyZW5baV0uc2VsZWN0Q2VsbChldmVudCwgbmV4dFRyLmNoaWxkcmVuW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3ROZXh0Um93KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUm93KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyID0gdGhpcy5zZWxlY3RlZFJvdy5kci5lbC5uYXRpdmVFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAodHIubmV4dEVsZW1lbnRTaWJsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0ci5uZXh0RWxlbWVudFNpYmxpbmcuY2xpY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNlbGVjdFByZXZSb3coKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRSb3cpIHtcclxuICAgICAgICAgICAgY29uc3QgdHIgPSB0aGlzLnNlbGVjdGVkUm93LmRyLmVsLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmICh0ci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0ci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlQ2VsbFNlbGVjdGVkQ2xzKCkge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ2VsbCA9IHRoaXMuZWwubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIENFTExfU0VMRUNURURfQ0xTKTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRDZWxsLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBzZWxlY3RlZENlbGwuZm9yRWFjaChuID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyMi5yZW1vdmVDbGFzcyhuLCBDRUxMX1NFTEVDVEVEX0NMUyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmAieS4reihjFxyXG4gICAgICogQHBhcmFtIGlkIOmAieS4reihjElEXHJcbiAgICAgKiBAcGFyYW0gZW1pdCDop6blj5FzZWxlY3Qg5LqL5Lu2XHJcbiAgICAgKiBAcGFyYW0gdG9DdXJyZW50UG9zaXRpb24g5rua5Yqo5p2h5a6a5L2N5Yiw5b2T5YmN6YCJ5oup5Lit6KGMXHJcbiAgICAgKi9cclxuICAgIHNlbGVjdFJvdyhpZDogYW55LCBlbWl0ID0gdHJ1ZSwgdG9DdXJyZW50UG9zaXRpb24gPSBmYWxzZSkge1xyXG5cclxuICAgICAgICB0aGlzLnJlbW92ZUNlbGxTZWxlY3RlZENscygpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMubXVsdGlTZWxlY3QgJiYgdGhpcy5zaG93Q2hlY2tib3gpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckNoZWNrZWRzKGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckFsbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlkICYmICghdGhpcy5zZWxlY3RlZFJvdyB8fCB0aGlzLnNlbGVjdGVkUm93LmlkICE9IGlkKSkge1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5kZnMuZmluZFJvdyhpZCk7XHJcbiAgICAgICAgICAgIGlmIChyb3cgJiYgdGhpcy5kaXNhYmxlUm93KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlUm93KHJvdy5kYXRhLCByb3cuaW5kZXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKGVtaXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGZzLnNlbGVjdFJlY29yZChpZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRmcy5zZXRTZWxlY3RSb3coaWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvdyA9IHRoaXMuZGZzLmdldEN1cnJlbnRSb3coKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrT25TZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrUm93cyhbaWRdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZGdzLnNldFNlbGVjZWRSb3cuZW1pdCh7IGlkLCBzZWxlY3RlZDogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrT25TZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tSb3dzKFtpZF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodG9DdXJyZW50UG9zaXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb0N1cnJlbnRSb3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmu5rliqjmnaHmu5rliqjliLDlvZPliY3ooYznmoTkvY3nva5cclxuICAgICAqL1xyXG4gICAgc2Nyb2xsVG9DdXJyZW50Um93KCkge1xyXG4gICAgICAgIHRoaXMuZGdzLnNjcm9sbFRvQ3VycmVudFJvdy5uZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgdW5TZWxlY3RSb3coaWQ6IGFueSwgZW1pdCA9IHRydWUpIHtcclxuICAgICAgICBpZiAoaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZUFsbENlbGxFZGl0b3IoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDZWxsICYmIHRoaXMuY3VycmVudENlbGwucm93SWQgPT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsU2VsZWN0Q2VsbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZW1pdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZnMuc2VsZWN0UmVjb3JkKGlkLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRmcy5zZXRTZWxlY3RSb3coaWQsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3cgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZ3Muc2V0U2VsZWNlZFJvdy5lbWl0KHsgaWQsIHNlbGVjdGVkOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RBbGxSb3dzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm11bHRpU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLnNlbGVjdEFsbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjYW5jZWxTZWxlY3RDZWxsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDZWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENlbGwuY2VsbEVsZW1lbnQuY2FuY2VsU2VsZWN0ZWQoKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRDZWxsLmlzRWRpdGluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2VsbCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRmcy5jYW5jZWxTZWxlY3RDZWxsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJTZWxlY3Rpb25zKGV4Y2x1ZGVJZHM/OiBzdHJpbmdbXSkge1xyXG4gICAgICAgIHRoaXMuZGZzLmNsZWFyU2VsZWN0aW9ucyhleGNsdWRlSWRzKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkUm93ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNhbmNlbFNlbGVjdENlbGwoKTtcclxuICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1JvdyhpZDogYW55LCBlbWl0ID0gdHJ1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbk9wZXJhdGVDaGVja2JveCgpKSB7XHJcbiAgICAgICAgICAgIGlmIChlbWl0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRmcy5jaGVja1JlY29yZChpZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrUm93cyhbaWRdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiog6ZKp6YCJ6KGM77yM5LiN6Kem5Y+R6YCJ5Lit5LqL5Lu2ICovXHJcbiAgICBjaGVja1Jvd3MoaWRzOiBhbnlbXSwgZW1pdCA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKGlkcyAmJiBpZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGZzLnNldENoZWNrZWRSb3dzKGlkcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGdzLnNldENoZWNrZWRSb3dzLm5leHQoeyBpZHMsIGNoZWNrZWQ6IHRydWUgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGZzLnVwZGF0ZVByb3BlcnR5KCdzZWxlY3Rpb25zJywgdGhpcy5jaGVja2Vkcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgICAgICBpZiAoZW1pdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja1ZhbHVlcyA9IHRoaXMuY2hlY2tlZHMubWFwKHIgPT4gci5pZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrVmFsdWVzQ2hhbmdlLmVtaXQodGhpcy5jaGVja1ZhbHVlcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRDaGFuZ2UuZW1pdCh0aGlzLmNoZWNrZWRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiog5Y+W5raI6ZKp6YCJ77yM5LiN6Kem5Y+R6YCJ5Lit5LqL5Lu2ICovXHJcbiAgICB1bkNoZWNrUm93cyhpZHM6IGFueVtdLCBlbWl0ID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAoaWRzICYmIGlkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5kZnMuc2V0Q2hlY2tlZFJvd3MoaWRzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGdzLnNldENoZWNrZWRSb3dzLm5leHQoeyBpZHMsIGNoZWNrZWQ6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAvLyB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICAgICAgaWYgKGVtaXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tWYWx1ZXMgPSB0aGlzLmNoZWNrZWRzLm1hcChyID0+IHIuaWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja1ZhbHVlc0NoYW5nZS5lbWl0KHRoaXMuY2hlY2tWYWx1ZXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkQ2hhbmdlLmVtaXQodGhpcy5jaGVja2Vkcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tBbGxSb3dzKGVtaXQgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FuT3BlcmF0ZUNoZWNrYm94KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kZnMuY2hlY2tBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5kZ3MuY2hlY2tBbGwuZW1pdCgpO1xyXG4gICAgICAgICAgICBpZiAoZW1pdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0FsbC5lbWl0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdW5DaGVja1JvdyhpZDogYW55LCBlbWl0ID0gdHJ1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbk9wZXJhdGVDaGVja2JveCgpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDZWxsICYmIHRoaXMuY3VycmVudENlbGwucm93SWQgPT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsU2VsZWN0Q2VsbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZW1pdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZnMuY2hlY2tSZWNvcmQoaWQsIGZhbHNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5DaGVja1Jvd3MoW2lkXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiog5riF56m66ZKp6YCJ6KGM77yM6buY6K6k5Y+q5riF56m65b2T5YmN6aG155qE6ZKp6YCJXHJcbiAgICAgKiBjbGVhckFsbDog5riF56m65omA5pyJIOm7mOiupOS4uiBmYWxzZTsg5ZCm5YiZ5LuF5riF56m65b2T5YmN6aG155qE6ZKp6YCJ5pWw5o2u44CCXHJcbiAgICAgKi9cclxuICAgIGNsZWFyQ2hlY2tlZHMoY2xlYXJBbGwgPSBmYWxzZSwgZW1pdFVuQ2hlY2tBbGwgPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5kZnMuY2xlYXJDaGVja2VkcyhjbGVhckFsbCk7XHJcbiAgICAgICAgdGhpcy5jaGVja1ZhbHVlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2FuY2VsU2VsZWN0Q2VsbCgpO1xyXG4gICAgICAgIGlmIChlbWl0VW5DaGVja0FsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmRncy51bmNoZWNrQWxsLmVtaXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJBbGwoKSB7XHJcbiAgICAgICAgdGhpcy5kZnMuY2xlYXJBbGwoKTtcclxuICAgICAgICB0aGlzLmNoZWNrVmFsdWVzID0gW107XHJcbiAgICAgICAgdGhpcy5kZ3MudW5jaGVja0FsbC5lbWl0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIFJlc2l6ZSBDb2x1bW5cclxuXHJcbiAgICBwcml2YXRlIGdldFJlc2l6ZVByb3h5UG9zTGVmdChlOiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgYW55O1xyXG4gICAgICAgIGNvbnN0IGRnUmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHRoaXMuZGdDb250YWluZXIpO1xyXG4gICAgICAgIGNvbnN0IHRkID0gdGFyZ2V0LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgdGRMZWZ0ID0gdGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgICAgICBjb25zdCBkZWx0YUVkZ2UgPSB0ZC5vZmZzZXRXaWR0aCAtIChlLnBhZ2VYIC0gdGRMZWZ0KTtcclxuICAgICAgICB0aGlzLnJlc2l6ZUNvbHVtbkluZm8ucHJveHlMaW5lRWRnZSA9IGRlbHRhRWRnZTtcclxuICAgICAgICB0aGlzLnJlc2l6ZUNvbHVtbkluZm8uc3RhcnRXaWR0aCA9IHRkLm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHRoaXMucmVzaXplQ29sdW1uSW5mby5zdGFydFggPSBlLnBhZ2VYO1xyXG4gICAgICAgIHRoaXMucmVzaXplQ29sdW1uSW5mby5sZWZ0ID0gdGRMZWZ0IC0gZGdSZWN0LmxlZnQgLSAxICsgZGVsdGFFZGdlO1xyXG4gICAgICAgIHJldHVybiBlLnBhZ2VYIC0gZGdSZWN0LmxlZnQgLSAxICsgZGVsdGFFZGdlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdG9nZ2xlUmVzaXplUHJveHkoc2hvdyA9IHRydWUpIHtcclxuICAgICAgICBsZXQgZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgaWYgKCFzaG93KSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVuZGVyMi5zZXRTdHlsZSh0aGlzLnJlc2l6ZVByb3h5QmcubmF0aXZlRWxlbWVudCwgJ2Rpc3BsYXknLCBkaXNwbGF5KTtcclxuICAgICAgICB0aGlzLnJlbmRlcjIuc2V0U3R5bGUodGhpcy5yZXNpemVQcm94eS5uYXRpdmVFbGVtZW50LCAnZGlzcGxheScsIGRpc3BsYXkpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ29sdW1uUmVzaXplQmVnaW4oZTogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZVByb3h5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyMi5zZXRTdHlsZShkb2N1bWVudC5ib2R5LCAnY3Vyc29yJywgJ2UtcmVzaXplJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb3h5ID0gdGhpcy5yZXNpemVQcm94eS5uYXRpdmVFbGVtZW50O1xyXG4gICAgICAgICAgICBjb25zdCBwcm94eVBvc0xlZnQgPSB0aGlzLmdldFJlc2l6ZVByb3h5UG9zTGVmdChlKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIyLnNldFN0eWxlKHByb3h5LCAnbGVmdCcsIHByb3h5UG9zTGVmdCArICdweCcpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHRvcCA9IDA7XHJcbiAgICAgICAgICAgIGlmICgodGhpcy5lbmFibGVGaWx0ZXJSb3cgfHwgdGhpcy5lbmFibGVTbWFydEZpbHRlcikgJiYgdGhpcy5zaG93RmlsdGVyQmFyKSB7XHJcbiAgICAgICAgICAgICAgICB0b3AgKz0gdGhpcy5maWx0ZXJCYXJIZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dSb3dHcm91cFBhbmVsKSB7XHJcbiAgICAgICAgICAgICAgICB0b3AgKz0gdGhpcy5yb3dHcm91cFBhbmVsSGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcjIuc2V0U3R5bGUocHJveHksICd0b3AnLCBgJHt0b3B9cHhgKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5hdXRvSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcjIuc2V0U3R5bGUocHJveHksICdoZWlnaHQnLCAodGhpcy5oZWlnaHQgLSB0aGlzLnBhZ2VySGVpZ2h0KSArICdweCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJvdHRvbUggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFnaW5hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbUggKz0gdGhpcy5wYWdlckhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dGb290ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBib3R0b21IICs9IHRoaXMuZm9vdGVySGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIyLnNldFN0eWxlKHByb3h5LCAnaGVpZ2h0JywgYGNhbGMoMTAwJSAtICR7Ym90dG9tSH1weClgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVJlc2l6ZVByb3h5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uQ29sdW1uUmVzaXplKGU6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBjb25zdCBwcm94eSA9IHRoaXMucmVzaXplUHJveHkubmF0aXZlRWxlbWVudDtcclxuICAgICAgICBjb25zdCBkZ1JlY3QgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCh0aGlzLmRnQ29udGFpbmVyKTtcclxuICAgICAgICBjb25zdCBwcm94eVBvc0xlZnQgPSBlLnBhZ2VYIC0gZGdSZWN0LmxlZnQgLSAxICsgdGhpcy5yZXNpemVDb2x1bW5JbmZvLnByb3h5TGluZUVkZ2U7XHJcbiAgICAgICAgaWYgKHByb3h5UG9zTGVmdCAtIHRoaXMucmVzaXplQ29sdW1uSW5mby5sZWZ0ID4gMjApIHtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIyLnNldFN0eWxlKHByb3h5LCAnbGVmdCcsIHByb3h5UG9zTGVmdCArICdweCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyMi5zZXRTdHlsZShwcm94eSwgJ2xlZnQnLCAodGhpcy5yZXNpemVDb2x1bW5JbmZvLmxlZnQgKyAyMCkgKyAncHgnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Db2x1bW5SZXNpemVFbmQoZTogTW91c2VFdmVudCwgY29sOiBEYXRhQ29sdW1uKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIyLnJlbW92ZVN0eWxlKGRvY3VtZW50LmJvZHksICdjdXJzb3InKTtcclxuICAgICAgICB0aGlzLnRvZ2dsZVJlc2l6ZVByb3h5KGZhbHNlKTtcclxuICAgICAgICB0aGlzLnJlc2l6ZUNvbHVtbkluZm8ucHJveHlMaW5lRWRnZSA9IDA7XHJcblxyXG4gICAgICAgIGxldCBuZXdDb2xXaWR0aCA9IHRoaXMucmVzaXplQ29sdW1uSW5mby5zdGFydFdpZHRoICsgZS5wYWdlWCAtIHRoaXMucmVzaXplQ29sdW1uSW5mby5zdGFydFg7XHJcblxyXG4gICAgICAgIGlmIChuZXdDb2xXaWR0aCA8IDIwKSB7XHJcbiAgICAgICAgICAgIG5ld0NvbFdpZHRoID0gMjA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY29sLndpZHRoID4gbmV3Q29sV2lkdGgpIHtcclxuICAgICAgICAgICAgY29uc3QgdCA9IGNvbC53aWR0aCAtIG5ld0NvbFdpZHRoO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZml0Q29sdW1ucyAmJiB0aGlzLnNjcm9sbEluc3RhbmNlLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5zY3JvbGxMZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb3ZlTGVmdCA9IHRoaXMuc2Nyb2xsSW5zdGFuY2UuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnNjcm9sbExlZnQgLSB0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxJbnN0YW5jZS5zY3JvbGxUb1gobW92ZUxlZnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbC53aWR0aCA9IG5ld0NvbFdpZHRoO1xyXG5cclxuICAgICAgICBpZiAodGhpcy51c2VDb250cm9sUGFuZWwgJiYgdGhpcy5zZXR0aW5nU2VydmljZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdTZXJ2aWNlLnNhdmVVc2VyQ29uZmlnKHRoaXMuaWQpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRmcy5jb2x1bW5SZXNpemVFbmQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGdzLmNvbHVtblJlc2l6ZWQuZW1pdCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZGZzLmNvbHVtblJlc2l6ZUVuZCgpO1xyXG4gICAgICAgIHRoaXMuZGdzLmNvbHVtblJlc2l6ZWQuZW1pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDov5jljp/liJflrr0gKi9cclxuICAgIHJlc3RpdHV0ZUNvbHVtbnNTaXplKCkge1xyXG4gICAgICAgIHRoaXMuZGZzLnJlc2l6ZUNvbHVtbnModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5kZ3MuY29sdW1uUmVzaXplZC5lbWl0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOWNleWFg+agvOWGheWuueiHqumAguW6lOWIl+WuvSAqL1xyXG4gICAgc2l6ZVRvQ29udGVudChjb2w6IERhdGFDb2x1bW4sIHRoOiBFbGVtZW50UmVmKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLkF1dG9Db2x1bW5XaWR0aFVzZURibGNsaWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGxvbmdlc3RUZXh0ID0gJyc7XHJcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLmRhdGE7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSBpdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAvLyBURlM6IDM1Njk2NCAyMDIwMDIwM1xyXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBVdGlscy5nZXRWYWx1ZShjb2wuZmllbGQsIGl0ZW1zW2ldKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlIHx8ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gJycgKyB2YWx1ZTtcclxuICAgICAgICAgICAgaWYgKGNvbC5mb3JtYXR0ZXIgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuY29sRm9ybWF0U2VyLmZvcm1hdCh2YWx1ZSwgaXRlbXNbaV0sIGNvbC5mb3JtYXR0ZXIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoVXRpbHMuZ2V0Qkxlbih0ZXh0KSA+IFV0aWxzLmdldEJMZW4obG9uZ2VzdFRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICBsb25nZXN0VGV4dCA9IHRleHQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvbmdUZXh0QXJlYS5uYXRpdmVFbGVtZW50LmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3MSA9IHRoaXMubG9uZ1RleHRBcmVhLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvbmdUZXh0QXJlYS5uYXRpdmVFbGVtZW50LmlubmVySFRNTCA9IGxvbmdlc3RUZXh0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdzIgPSB0aGlzLmxvbmdUZXh0QXJlYS5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh3MSA+IHcyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9uZ2VzdFRleHQgPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxvbmdUZXh0QXJlYS5uYXRpdmVFbGVtZW50LmlubmVySFRNTCA9IGxvbmdlc3RUZXh0O1xyXG4gICAgICAgIGNvbnN0IG1heFdpZHRoID0gdGhpcy5sb25nVGV4dEFyZWEubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aCArIDI2O1xyXG5cclxuICAgICAgICB0aGlzLmxvbmdUZXh0QXJlYS5uYXRpdmVFbGVtZW50LmlubmVySFRNTCA9IHRoLm5hdGl2ZUVsZW1lbnQuaW5uZXJUZXh0O1xyXG4gICAgICAgIGxldCB0aE1pbldpZHRoID0gdGhpcy5sb25nVGV4dEFyZWEubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aCArIDI2O1xyXG5cclxuICAgICAgICBpZiAoY29sLnNvcnRhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoTWluV2lkdGggKz0gMjQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb2wud2lkdGggPSAobWF4V2lkdGggPiB0aE1pbldpZHRoID8gbWF4V2lkdGggOiB0aE1pbldpZHRoKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29sSW5kZXggPSB0aGlzLmZsYXRDb2x1bW5zLmZpbmRJbmRleChjID0+IGMuZmllbGQgPT09IGNvbC5maWVsZCk7XHJcbiAgICAgICAgaWYgKGNvbEluZGV4ID09PSB0aGlzLmZsYXRDb2x1bW5zLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgY29sLndpZHRoICs9IDY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGZzLnJlc2l6ZUNvbHVtbnMoKTtcclxuICAgICAgICB0aGlzLmRncy5jb2x1bW5SZXNpemVkLmVtaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24gQ2hhbmdlc1xyXG4gICAgZ2V0Q2hhbmdlcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kZnMuZ2V0Q2hhbmdlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGFjY2VwdENoYW5nZXMoKSB7XHJcbiAgICAgICAgdGhpcy5kZnMuYWNjZXB0Q2hhbmdlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlamVjdENoYW5nZXMoKSB7XHJcbiAgICAgICAgdGhpcy5kZnMucmVqZWN0Q2hhbmdlcygpO1xyXG4gICAgfVxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIENSVURcclxuXHJcbiAgICBhcHBlbmRSb3cocm93OiBhbnkpIHtcclxuICAgICAgICB0aGlzLmNhbmNlbEVkaXQobnVsbCk7XHJcbiAgICAgICAgdGhpcy5kZnMuYXBwZW5kUm93KHJvdyk7XHJcbiAgICAgICAgdGhpcy5kYXRhQ2hhbmdlLmVtaXQodGhpcy5kZnMuZ2V0RGF0YSgpKTtcclxuICAgICAgICB0aGlzLnJvd0FwcGVuZGVkLmVtaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVSb3cocm93SWQsIG5ld0RhdGE6IHsgW2tleTogc3RyaW5nXTogYW55IH0pIHtcclxuICAgICAgICB0aGlzLmRmcy51cGRhdGVSb3cocm93SWQsIG5ld0RhdGEpO1xyXG4gICAgICAgIHRoaXMuZGF0YUNoYW5nZS5lbWl0KHRoaXMuZGZzLmdldERhdGEoKSk7XHJcbiAgICAgICAgdGhpcy5yb3dVcGRhdGVkLmVtaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoUm93KHJvd0lkKSB7XHJcbiAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5kZnMuZmluZFJvdyhyb3dJZCk7XHJcbiAgICAgICAgaWYgKHJvdyAmJiByb3cuZGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLmRmcy5yb3dVcGRhdGUkLmVtaXQocm93KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NhbiBub3QgZm91bmQgcm93IGJ5IGlkLiBpZDogJyArIHJvd0lkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGRlbGV0ZVJvdyhyb3dJZD86IGFueSkge1xyXG4gICAgICAgIHRoaXMuY2FuY2VsRWRpdChyb3dJZCwgZmFsc2UpO1xyXG4gICAgICAgIGlmICghcm93SWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJvd0lkID0gdGhpcy5zZWxlY3RWYWx1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg5Yig6Zmk6KGM5pe25Li76ZSu5qCH6K+GSUQg5LiN6IO95Li656m644CCYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGVsZXRlUm93ID0gdGhpcy5kZnMuZGVsZXRlUm93KHJvd0lkKTtcclxuICAgICAgICB0aGlzLmRhdGFDaGFuZ2UuZW1pdCh0aGlzLmRmcy5nZXREYXRhKCkpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudENlbGwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZGZzLnVwZGF0ZVByb3BlcnR5KCdjdXJyZW50Q2VsbCcsIG51bGwpO1xyXG4gICAgICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIHRoaXMucm93RGVsZXRlZC5lbWl0KGRlbGV0ZVJvdyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGVSb3coKSB7IH1cclxuXHJcbiAgICBpbnNlcnRSb3coKSB7IH1cclxuXHJcbiAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAvLyNyZWdpb24gU2Nyb2xsaW5nXHJcblxyXG4gICAgc2Nyb2xsVG9MZWZ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsSW5zdGFuY2Uuc2Nyb2xsVG9MZWZ0KDAsIDIwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNjcm9sbFRvUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxJbnN0YW5jZS5zY3JvbGxUb1JpZ2h0KDAsIDIwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNjcm9sbFRvVG9wKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsSW5zdGFuY2Uuc2Nyb2xsVG9Ub3AoMCwgMTAwKTtcclxuICAgICAgICAgICAgdGhpcy5kZnMudXBkYXRlUHJvcGVydHkoJ3Njcm9sbEluZm8nLCB7IHk6IDAsIHg6IDAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNjcm9sbFRvQm90dG9tKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsSW5zdGFuY2Uuc2Nyb2xsVG9Cb3R0b20oMCwgMTAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgcHJpdmF0ZSBfc2V0Q29sdW1uUmVhZG9ubHkoY29sczogRGF0YUNvbHVtbltdLCBmaWVsZDogc3RyaW5nLCByZWFkb25seSA9IHRydWUpIHtcclxuICAgICAgICBpZiAoY29scyAmJiBjb2xzLmxlbmd0aCAmJiBmaWVsZCkge1xyXG4gICAgICAgICAgICBjb25zdCBjb2wgPSBjb2xzLmZpbmQobiA9PiBuLmZpZWxkID09PSBmaWVsZCk7XHJcbiAgICAgICAgICAgIGlmIChjb2wpIHtcclxuICAgICAgICAgICAgICAgIGNvbC5yZWFkb25seSA9IHJlYWRvbmx5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldENvbHVtblJlYWRvbmx5KGZpZWxkOiBzdHJpbmcsIHJlYWRvbmx5ID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuX3NldENvbHVtblJlYWRvbmx5KHRoaXMuY29sR3JvdXAubGVmdEZpeGVkLCBmaWVsZCwgcmVhZG9ubHkpO1xyXG4gICAgICAgIHRoaXMuX3NldENvbHVtblJlYWRvbmx5KHRoaXMuY29sR3JvdXAucmlnaHRGaXhlZCwgZmllbGQsIHJlYWRvbmx5KTtcclxuICAgICAgICB0aGlzLl9zZXRDb2x1bW5SZWFkb25seSh0aGlzLmNvbEdyb3VwLm5vcm1hbENvbHVtbnMsIGZpZWxkLCByZWFkb25seSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5piv5ZCm5Li65aSa6KGo5aS0XHJcbiAgICBpc011bHRpSGVhZGVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbHVtbnMgJiYgdGhpcy5jb2x1bW5zLmxlbmd0aCA+IDEgJiYgQXJyYXkuaXNBcnJheSh0aGlzLmNvbHVtbnNbMV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVZpc2libGVDb2x1bW4oZmllbGRzOiBzdHJpbmdbXSwgdmlzaWJsZSA9IHRydWUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aUhlYWRlcigpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucy5mb3JFYWNoKChjb2xzOiBEYXRhQ29sdW1uW10pID0+IHtcclxuICAgICAgICAgICAgICAgIGZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2wgPSBjb2xzLmZpbmQoYyA9PiBjLmZpZWxkID09PSBmaWVsZCB8fCBjLmlkID09PSBmaWVsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2wudmlzaWJsZSA9IHZpc2libGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIOWkmuihqOWktFxyXG4gICAgICAgICAgICBjb25zdCBhbGxDb2xzID0gZmxhdHRlbjxEYXRhQ29sdW1uPih0aGlzLmNvbHVtbnMpO1xyXG5cclxuICAgICAgICAgICAgYWxsQ29scy5mb3JFYWNoKHAgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHAub3JpZ2lhbmxDb2xTcGFuID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwLm9yaWdpYW5sQ29sU3BhbiA9IHAuY29sc3BhbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBfY29sID0gYWxsQ29scy5maW5kKGNvbCA9PiBjb2wuZmllbGQgPT09IGZpZWxkIHx8IGNvbC5pZCA9PT0gZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF9jb2wpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9jb2wudmlzaWJsZSA9PT0gdmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBfY29sLnZpc2libGUgPSB2aXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudHMgPSBEYXRhZ3JpZENvbHVtbnNIZWxwZXIuZ2V0UGFyZW50Q29sdW1ucyhfY29sLCBhbGxDb2xzKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHMgPSBEYXRhZ3JpZENvbHVtbnNIZWxwZXIuZ2V0Q2hpbGRDb2x1bW5zKF9jb2wsIGFsbENvbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcy5mb3JFYWNoKGMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjLnZpc2libGUgPSB2aXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlICYmIGNoaWxkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbC5jb2xzcGFuID0gX2NvbC5vcmlnaWFubENvbFNwYW47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBfY29sc3BhbiA9IF9jb2wuY29sc3BhbiB8fCAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudHMuZm9yRWFjaChwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLmNvbHNwYW4gPSBwLmNvbHNwYW4gLSBfY29sc3BhbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IF9jaGlsZHMgPSBhbGxDb2xzLmZpbHRlcihuID0+IG4ucGFyZW50SWQgPT09IHAuaWQgJiYgbi52aXNpYmxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuY29sc3BhbiA9IF9jaGlsZHMucmVkdWNlKChyLCBjKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IHIgKyAoYy5jb2xzcGFuIHx8IDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHAudmlzaWJsZSA9ICEhcC5jb2xzcGFuO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29sdW1uKGZpZWxkOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBhbGxDb2xzID0gZmxhdHRlbjxEYXRhQ29sdW1uPih0aGlzLmNvbHVtbnMpO1xyXG4gICAgICAgIHJldHVybiBhbGxDb2xzLmZpbmQobiA9PiBuLmZpZWxkID09PSBmaWVsZCB8fCBuLmlkID09PSBmaWVsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0NvbHVtbihmaWVsZDogc3RyaW5nIHwgc3RyaW5nW10pIHtcclxuICAgICAgICBpZiAodHlwZW9mIGZpZWxkID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVZpc2libGVDb2x1bW4oW2ZpZWxkXSwgdHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVWaXNpYmxlQ29sdW1uKGZpZWxkLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zQ2hhbmdlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGVDb2x1bW4oZmllbGQ6IHN0cmluZyB8IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVWaXNpYmxlQ29sdW1uKFtmaWVsZF0sIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVZpc2libGVDb2x1bW4oZmllbGQsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zQ2hhbmdlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvbHVtbihmaWVsZDogc3RyaW5nLCBjb2x1bW5PYmplY3Q6IHsgW2tleTogc3RyaW5nXTogYW55IH0sIGRldGVjdENoYW5nZSA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLmNvbHVtbnMuZm9yRWFjaCgoY29sczogRGF0YUNvbHVtbltdKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjb2x1bW4gPSBjb2xzLmZpbmQoY29sID0+IGNvbC5maWVsZCA9PT0gZmllbGQpO1xyXG4gICAgICAgICAgICBpZiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW4gPSBPYmplY3QuYXNzaWduKGNvbHVtbiwgY29sdW1uT2JqZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoZGV0ZWN0Q2hhbmdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29sdW1uc0NoYW5nZWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q29sdW1uRm9ybWF0dGVyKGZpZWxkOiBzdHJpbmcsIGZvcm1hdHRlcjogYW55KSB7XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zLmZvckVhY2goKGNvbHM6IERhdGFDb2x1bW5bXSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb2x1bW4gPSBjb2xzLmZpbmQoY29sID0+IGNvbC5maWVsZCA9PT0gZmllbGQpO1xyXG4gICAgICAgICAgICBpZiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW4uZm9ybWF0dGVyID0gZm9ybWF0dGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29sdW1uc0NoYW5nZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDb2x1bW5Gb3JtYXR0ZXJPcHRpb25zKGZpZWxkOiBzdHJpbmcsIGZvcm1hdHRlck9wdGlvbnM6IGFueSkge1xyXG4gICAgICAgIHRoaXMuY29sdW1ucy5mb3JFYWNoKChjb2xzOiBEYXRhQ29sdW1uW10pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29sdW1uID0gY29scy5maW5kKGNvbCA9PiBjb2wuZmllbGQgPT09IGZpZWxkKTtcclxuICAgICAgICAgICAgaWYgKGNvbHVtbiAmJiBjb2x1bW4uZm9ybWF0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xGb3JtYXR0ZXIgPSBjb2x1bW4uZm9ybWF0dGVyIGFzIGFueTtcclxuICAgICAgICAgICAgICAgIGNvbEZvcm1hdHRlci5vcHRpb25zID0gY29sRm9ybWF0dGVyLm9wdGlvbnMgfHwge307XHJcbiAgICAgICAgICAgICAgICBjb2xGb3JtYXR0ZXIub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oY29sRm9ybWF0dGVyLm9wdGlvbnMsIGZvcm1hdHRlck9wdGlvbnMgfHwge30pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29sdW1uc0NoYW5nZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRDb2x1bW5UaXRsZShmaWVsZDogc3RyaW5nLCB0aXRsZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zLmZvckVhY2goKGNvbHM6IERhdGFDb2x1bW5bXSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb2x1bW4gPSBjb2xzLmZpbmQoY29sID0+IGNvbC5maWVsZCA9PT0gZmllbGQpO1xyXG4gICAgICAgICAgICBpZiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW4udGl0bGUgPSB0aXRsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbHVtbnNDaGFuZ2VkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmjpLluo9cclxuICAgICAqIEBwYXJhbSBzb3J0TmFtZSDmjpLluo/lrZfmrrXvvIzlpoLvvJogJ25hbWUsYWdlJ1xyXG4gICAgICogQHBhcmFtIHNvcnRPcmRlciDmjpLluo/mlrnlvI/vvIzlpoLvvJonZGVzYywgYXNjJ1xyXG4gICAgICovXHJcbiAgICBzb3J0KHNvcnROYW1lPzogc3RyaW5nLCBzb3J0T3JkZXI/OiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoc29ydE5hbWUgPT09IG51bGwgfHwgc29ydE5hbWUgPT09ICcnIHx8IHNvcnRPcmRlciA9PT0gbnVsbCB8fCBzb3J0T3JkZXIgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTb3J0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHNvcnROYW1lICYmIHNvcnRPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy51cGRhdGVTb3J0SW5mbyhzb3J0TmFtZSwgc29ydE9yZGVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ydE5hbWUgPSBzb3J0TmFtZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ydE9yZGVyID0gc29ydE9yZGVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZnMuc2V0U29ydEluZm8odGhpcy5zb3J0TmFtZSwgdGhpcy5zb3J0T3JkZXIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMucmVtb3RlU29ydCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZnMuY2xpZW50U29ydCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMub25Db2x1bW5Tb3J0ZWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJTb3J0KCkge1xyXG4gICAgICAgIHRoaXMuc29ydE5hbWUgPSAnJztcclxuICAgICAgICB0aGlzLnNvcnRPcmRlciA9ICcnO1xyXG4gICAgICAgIHRoaXMuZGZzLnNldFNvcnRJbmZvKCcnLCAnJyk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJlbW90ZVNvcnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRmcy5jbGVhclNvcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uQ29sdW1uU29ydGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Db2x1bW5Tb3J0ZWQoKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMuc29ydE5hbWUgJiYgdGhpcy5zb3J0T3JkZXIpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3JkZXJzID0gdGhpcy5zb3J0T3JkZXIuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgcGFyYW1zID0gdGhpcy5zb3J0TmFtZS5zcGxpdCgnLCcpLnJlZHVjZSgociwgbiwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcltuXSA9IG9yZGVyc1tpXSB8fCAnYXNjJztcclxuICAgICAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMucmVtb3RlU29ydCkge1xyXG4gICAgICAgICAgICB0aGlzLmRmcy5jbGllbnRTb3J0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbHVtblNvcnRlZC5lbWl0KHBhcmFtcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU29ydEluZm8obmV3U29ydE5hbWUsIG5ld1NvcnRPcmRlcikge1xyXG4gICAgICAgIGNvbnN0IHNvcnROYW1lID0gdGhpcy5zb3J0TmFtZTtcclxuICAgICAgICBjb25zdCBzb3J0T3JkZXIgPSB0aGlzLnNvcnRPcmRlcjtcclxuICAgICAgICBsZXQgc29ydEZpZWxkcyA9IFtdO1xyXG4gICAgICAgIGxldCBzb3J0T3JkZXJzID0gW107XHJcbiAgICAgICAgaWYgKHNvcnROYW1lKSB7XHJcbiAgICAgICAgICAgIHNvcnRGaWVsZHMgPSBzb3J0TmFtZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICBzb3J0T3JkZXJzID0gc29ydE9yZGVyLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBfc29ydEZpZWxkcyA9IG5ld1NvcnROYW1lLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgY29uc3QgX3NvcnRPcmRlcnMgPSBuZXdTb3J0T3JkZXIuc3BsaXQoJywnKTtcclxuXHJcblxyXG4gICAgICAgIF9zb3J0RmllbGRzLmZvckVhY2goKG5GaWVsZCwgbkluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbE9yZGVyID0gX3NvcnRPcmRlcnNbbkluZGV4XSB8fCAnYXNjJztcclxuICAgICAgICAgICAgbGV0IG5ld09yZGVyID0gY29sT3JkZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IGkgPSBzb3J0RmllbGRzLmZpbmRJbmRleChuID0+IG4gPT09IG5GaWVsZCk7XHJcbiAgICAgICAgICAgIGlmIChpID49IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IF9vcmRlciA9IHNvcnRPcmRlcnNbaV0gPT09ICdhc2MnID8gJ2Rlc2MnIDogJ2FzYyc7XHJcbiAgICAgICAgICAgICAgICBuZXdPcmRlciA9IF9vcmRlcjtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm11bHRpU29ydCAmJiBuZXdPcmRlciA9PT0gJ2FzYycpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdPcmRlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBzb3J0RmllbGRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBzb3J0T3JkZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc29ydE9yZGVyc1tpXSA9IF9vcmRlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tdWx0aVNvcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3J0RmllbGRzLnB1c2gobkZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBzb3J0T3JkZXJzLnB1c2goY29sT3JkZXIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3J0RmllbGRzID0gW25GaWVsZF07XHJcbiAgICAgICAgICAgICAgICAgICAgc29ydE9yZGVycyA9IFtjb2xPcmRlcl07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zb3J0TmFtZSA9IHNvcnRGaWVsZHMuam9pbignLCcpO1xyXG4gICAgICAgIHRoaXMuc29ydE9yZGVyID0gc29ydE9yZGVycy5qb2luKCcsJyk7XHJcbiAgICB9XHJcbiAgICAvKiog5YiX6K6+572uICovXHJcbiAgICBzaG93Q29udHJvbFBhbmVsKCRldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy51c2VDb250cm9sUGFuZWwgJiYgdGhpcy5zZXR0aW5nU2VydmljZSkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ1NlcnZpY2UuaHR0cFJlc3RTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZXR0aW5nc0h0dHAgPSB0aGlzLmluamVjdC5nZXQoR1JJRF9TRVRUSU5HU19IVFRQLCBudWxsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ1NlcnZpY2UuaHR0cFJlc3RTZXJ2aWNlID0gc2V0dGluZ3NIdHRwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ1NlcnZpY2Uuc2hvdyhzZWxmKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZUhlYWRlcihmbGFnID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuZGdzLmRpc2FibGVIZWFkZXIuZW1pdChmbGFnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog6I635Y+W55So5oi35Liq5oCn5YyW6K6+572uICovXHJcbiAgICBwcml2YXRlIHVzZXJQcm9maWxlU2V0dGluZyhzZXR0aW5ncykge1xyXG5cclxuICAgICAgICBjb25zdCB7IHNvcnRJbmZvLCB2aWV3Q29sdW1ucywgZ3JvdXBGaWVsZCwgY29sdW1uRm9ybWF0IH0gPSBzZXR0aW5ncztcclxuICAgICAgICBjb25zdCB7IHNvcnROYW1lLCBzb3J0T3JkZXIgfSA9IHNvcnRJbmZvO1xyXG4gICAgICAgIGlmIChzb3J0SW5mbykge1xyXG4gICAgICAgICAgICBpZiAoc29ydE5hbWUgJiYgc29ydE5hbWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvcnROYW1lID0gc29ydE5hbWUuam9pbignLCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNvcnRPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc29ydE9yZGVyID0gc29ydE9yZGVyLmpvaW4oJywnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpc1snX19zb3J0SW5mbyddID0gc29ydEluZm87XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodmlld0NvbHVtbnMgJiYgdmlld0NvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucyA9IHRoaXMuY29sdW1ucy5tYXAoY29scyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdTZXJ2aWNlLnVwZGF0ZUNvbHVtbkZvcm1hdChjb2xzLCBjb2x1bW5Gb3JtYXQsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ1NlcnZpY2UubmV3VmlzaWJsZU9yZGVyQ29sdW1ucyhjb2xzLCB2aWV3Q29sdW1ucywgY29sdW1uRm9ybWF0KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFkZENvbnRyb2xDb2woKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucy5mb3JFYWNoKGNvbHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29scy5mb3JFYWNoKGNvbCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvcnROYW1lICYmIHNvcnROYW1lLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gc29ydE5hbWUuaW5kZXhPZihjb2wuZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wub3JkZXIgPSBzb3J0T3JkZXJbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5ncm91cFJvd3MgJiYgZ3JvdXBGaWVsZCkge1xyXG4gICAgICAgICAgICB0aGlzLmdyb3VwRmllbGQgPSBncm91cEZpZWxkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDmmK/lkKbkuLrlvZPliY3mtLvliqjnmoTooajmoLxcclxuICAgIHByaXZhdGUgaXNBY3RpdmVkKCkge1xyXG4gICAgICAgIHJldHVybiBEb21IYW5kbGVyLmhhc0NsYXNzKHRoaXMuZGdDb250YWluZXIubmF0aXZlRWxlbWVudCwgdGhpcy5fYWN0aXZlX2RhdGFncmlkX2Nscyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5riF55CG5peg5pWI55qERE9NXHJcbiAgICBwcml2YXRlIGNsZWFuRG9tKCkge1xyXG4gICAgICAgIC8vIOa4heeQhiBUT09MLVRJUFxyXG4gICAgICAgIGNvbnN0IHRpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGF0YWdyaWQtY2VsbC10b29sdGlwJyk7XHJcbiAgICAgICAgaWYgKHRpcHMgJiYgdGlwcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGlwcy5mb3JFYWNoKG4gPT4ge1xyXG4gICAgICAgICAgICAgICAgbi5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNlbGxJc1JlYWRPbmx5KGNvbDogRGF0YUNvbHVtbiwgcm93RGF0YSkge1xyXG4gICAgICAgIGxldCByZWFkT25seSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVSb3cpIHtcclxuICAgICAgICAgICAgcmVhZE9ubHkgPSB0aGlzLmRpc2FibGVSb3cocm93RGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXJlYWRPbmx5KSB7XHJcbiAgICAgICAgICAgIGlmIChjb2wucmVhZG9ubHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb2wucmVhZG9ubHkgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5ID0gY29sLnJlYWRvbmx5O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29sLnJlYWRvbmx5ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHkgPSBjb2wucmVhZG9ubHkocm93RGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlYWRPbmx5O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ3JvdXBGaWVsZENoYW5nZWQoKSB7XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zQ2hhbmdlZCgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nU2VydmljZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdTZXJ2aWNlLnNhdmVVc2VyQ29uZmlnKHRoaXMuaWQpLnN1YnNjcmliZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ncm91cEZpZWxkQ2hhbmdlLmVtaXQoeyBuZXdHcm91cEZpZWxkOiB0aGlzLmdyb3VwRmllbGQsIGdyaWQ6IHRoaXMgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlR3JvdXBGaWVsZChmaWVsZDogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgZmllbGRzID0gdGhpcy5ncm91cEZpZWxkLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgY29uc3QgZGVsSWR4ID0gZmllbGRzLmluZGV4T2YoZmllbGQpO1xyXG4gICAgICAgIGlmIChkZWxJZHggPiAtMSkge1xyXG4gICAgICAgICAgICBmaWVsZHMuc3BsaWNlKGRlbElkeCwgMSkuam9pbignLCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdyb3VwRmllbGQgPSBmaWVsZHMuam9pbignLCcpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlVmlzaWJsZUNvbHVtbihbZmllbGRdLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmdyb3VwRmllbGRDaGFuZ2VkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJBbGxHcm91cHBpbmdGaWVsZCgkZXZlbnQpIHtcclxuICAgICAgICB0aGlzLnNob3dMb2FkaW5nKCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkcyA9IHRoaXMuZ3JvdXBGaWVsZC5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICB0aGlzLmdyb3VwRmllbGQgPSAnJztcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVWaXNpYmxlQ29sdW1uKGZpZWxkcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBGaWVsZENoYW5nZWQoKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZUxvYWRpbmcoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRHcm91cEZpZWxkcyhncm91cEZpZWxkcykge1xyXG4gICAgICAgIHRoaXMuZ3JvdXBGaWVsZCA9IGdyb3VwRmllbGRzO1xyXG4gICAgICAgIHRoaXMuY29sdW1uc0NoYW5nZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBhY3RpdmVEYXRhR3JpZChhY3RpdmUgPSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgZ3JpZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZi1kYXRhZ3JpZC5kYXRhZ3JpZC1hY3RpdmUnKTtcclxuICAgICAgICBpZiAoZ3JpZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGdyaWRzLmZvckVhY2gobiA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcjIucmVtb3ZlQ2xhc3MobiwgdGhpcy5fYWN0aXZlX2RhdGFncmlkX2Nscyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyMi5hZGRDbGFzcyh0aGlzLmRnQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQsIHRoaXMuX2FjdGl2ZV9kYXRhZ3JpZF9jbHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgb25EYXRhZ3JpZENvbnRhaW5lckZvY3VzKCRldmVudCkge1xyXG4gICAgICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZURhdGFHcmlkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=